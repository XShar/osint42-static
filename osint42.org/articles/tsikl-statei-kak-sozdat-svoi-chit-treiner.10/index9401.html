<!DOCTYPE html>
<html id="XF" lang="ru-RU" dir="LTR"
	data-xf="2.3"
	data-app="public"
	data-variation="alternate"
	data-color-scheme="dark"
	data-template="xa_ams_article_view"
	data-container-key="amsCategory-10"
	data-content-key=""
	data-logged-in="false"
	data-cookie-prefix="xf_"
	data-csrf="1758966092,69aa85b310beb7be3a7e9551bcee54b6"
	class="has-no-js template-xa_ams_article_view"
	 data-run-jobs="">

<!-- Mirrored from osint42.org/articles/tsikl-statei-kak-sozdat-svoi-chit-treiner.10/?full=1 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 27 Sep 2025 09:58:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
	<link rel="icon" href="../../favicon.ico" type="image/x-icon">
	
	
	

	<meta charset="utf-8" />
	<title>Цикл статей. Как создать свой чит/трейнер | Osint42.Org - Безопасность и код</title>
	<link rel="manifest" crossorigin="use-credentials" href="../../webmanifest.php">

	<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

	
		
			<meta name="theme-color" content="#0a1c29" />
		
	

	<meta name="apple-mobile-web-app-title" content="Osint42.Org - Безопасность и код">
	
		<link rel="apple-touch-icon" href="../../data/assets/logo/192192.png">
		

	
		
		<meta property="og:title" content="Цикл статей. Как создать свой чит/трейнер" />
		<meta property="twitter:title" content="Цикл статей. Как создать свой чит/трейнер" />
	
	
		
		<meta name="description" content="Приватная статья, часть первая:Чит своими руками. Вскрываем компьютерную игру и пишем трейнер на C++

Играть в игры любят все, но это гораздо интереснее..." />
		<meta property="og:description" content="Приватная статья, часть первая:Чит своими руками. Вскрываем компьютерную игру и пишем трейнер на C++

Играть в игры любят все, но это гораздо интереснее, когда у тебя имеется нескончаемый запас патронов и здоровья. Чтобы обзавестись и тем и..." />
		<meta property="twitter:description" content="Приватная статья, часть первая:Чит своими руками. Вскрываем компьютерную игру и пишем трейнер на C++

Играть в игры любят все, но это гораздо интереснее, когда у тебя имеется нескончаемый запас..." />
	
	
		<meta property="og:type" content="article" />
	
		<meta property="og:url" content="index.html" />
	
		<link rel="canonical" href="index.html" />
	

	
		
	
	
	<meta property="og:site_name" content="Osint42.Org - Безопасность и код" />


	
	
	
	
	
	
		
	
	
	
		<meta property="og:image" content="../../data/assets/logo/192192.png" />
		<meta property="twitter:image" content="../../data/assets/logo/192192.png" />
		<meta property="twitter:card" content="summary" />
	


	

	
	
	
		
	
	

	<link rel="stylesheet" href="../../cssf1bd.css?css=public%3Anormalize.css%2Cpublic%3Afa.css%2Cpublic%3Avariations.less%2Cpublic%3Acore.less%2Cpublic%3Aapp.less&amp;s=1&amp;l=2&amp;d=1758392320&amp;k=650febe17d52673553ff8fcab924bc52ae7c26c5" />

	<link rel="stylesheet" href="../../cssd771.css?css=public%3Aalnb_navigation.less%2Cpublic%3Abb_code.less%2Cpublic%3Aembed_resolver.less%2Cpublic%3Alightbox.less%2Cpublic%3Amessage.less%2Cpublic%3Anotices.less%2Cpublic%3Ashare_controls.less%2Cpublic%3Axa_ams.less%2Cpublic%3Aextra.less&amp;s=1&amp;l=2&amp;d=1758392320&amp;k=cb00b95a9121881fa127a858b5cb0a3c6565e196" />


	
		<script data-cfasync="false" src="../../js/xf/preamble.minf74f.js?_v=01eb82fa"></script>
	

	
	<script data-cfasync="false" src="../../js/vendor/vendor-compiledf74f.js?_v=01eb82fa" defer></script>
	<script data-cfasync="false" src="../../js/xf/core-compiledf74f.js?_v=01eb82fa" defer></script>

	<script data-cfasync="false">
		XF.ready(() =>
		{
			XF.extendObject(true, XF.config, {
				// 
				userId: 0,
				enablePush: true,
				pushAppServerKey: 'BA479YFsUh5Dh5bOkTEWM7LoORrEgUroE2adYpgA6_NLt6AmfJFBdCBxt_i9NhpAIXJviINVU4JDqWxez0NnB-w',
				url: {
					fullBase: 'https://osint42.org/',
					basePath: '/',
					css: '/css.php?css=__SENTINEL__&s=1&l=2&d=1758392320',
					js: '/js/__SENTINEL__?_v=01eb82fa',
					icon: '/data/local/icons/__VARIANT__.svg?v=1757401797#__NAME__',
					iconInline: '/styles/fa/__VARIANT__/__NAME__.svg?v=5.15.3',
					keepAlive: '/login/keep-alive'
				},
				cookie: {
					path: '/',
					domain: '',
					prefix: 'xf_',
					secure: true,
					consentMode: 'disabled',
					consented: ["optional","_third_party"]
				},
				cacheKey: '60356f7aa4f82ca98e605b4e87a0a057',
				csrf: '1758966092,69aa85b310beb7be3a7e9551bcee54b6',
				js: {"\/js\/xf\/lightbox-compiled.js?_v=01eb82fa":true,"\/js\/xf\/code_block-compiled.js?_v=01eb82fa":true,"\/js\/copycode\/copycode.min.js?_v=01eb82fa":true,"\/js\/DCom\/LiveContent\/4.4.1\/socket.io.min.js?_v=01eb82fa":true,"\/js\/DCom\/LiveContent\/socket-conv.min.js?_v=01eb82fa":true},
				fullJs: false,
				css: {"public:alnb_navigation.less":true,"public:bb_code.less":true,"public:embed_resolver.less":true,"public:lightbox.less":true,"public:message.less":true,"public:notices.less":true,"public:share_controls.less":true,"public:xa_ams.less":true,"public:extra.less":true},
				time: {
					now: 1758966092,
					today: 1758920400,
					todayDow: 6,
					tomorrow: 1759006800,
					yesterday: 1758834000,
					week: 1758402000,
					month: 1756674000,
					year: 1735678800
				},
				style: {
					light: 'default',
					dark: 'alternate',
					defaultColorScheme: 'light'
				},
				borderSizeFeature: '3px',
				fontAwesomeWeight: 'r',
				enableRtnProtect: true,
				
				enableFormSubmitSticky: true,
				imageOptimization: '0',
				imageOptimizationQuality: 0.85,
				uploadMaxFilesize: 3145728,
				uploadMaxWidth: 0,
				uploadMaxHeight: 0,
				allowedVideoExtensions: ["m4v","mov","mp4","mp4v","mpeg","mpg","ogv","webm"],
				allowedAudioExtensions: ["mp3","opus","ogg","wav"],
				shortcodeToEmoji: true,
				visitorCounts: {
					conversations_unread: '0',
					alerts_unviewed: '0',
					total_unread: '0',
					title_count: true,
					icon_indicator: true
				},
				jsMt: {"xf\/action.js":"dc2375bf","xf\/embed.js":"d3d00259","xf\/form.js":"d3d00259","xf\/structure.js":"dc2375bf","xf\/tooltip.js":"d3d00259"},
				jsState: {},
				publicMetadataLogoUrl: 'https://osint42.org/data/assets/logo/192192.png',
				publicPushBadgeUrl: 'https://osint42.org/styles/default/xenforo/bell.png'
			})

			XF.extendObject(XF.phrases, {
				// 
"svStandardLib_time.day": "{count} day",
"svStandardLib_time.days": "{count} дней",
"svStandardLib_time.hour": "{count} hour",
"svStandardLib_time.hours": "{count} часов",
"svStandardLib_time.minute": "{count} минут",
"svStandardLib_time.minutes": "{count} минут",
"svStandardLib_time.month": "{count} month",
"svStandardLib_time.months": "{count} месяцев",
"svStandardLib_time.second": "{count} second",
"svStandardLib_time.seconds": "{count} секунд",
"svStandardLib_time.week": "time.week",
"svStandardLib_time.weeks": "{count} недель",
"svStandardLib_time.year": "{count} year",
"svStandardLib_time.years": "{count} лет",
copy_to_clipboard: "Скопировать в буфер обмена",
text_copied_to_clipboard: "Текст скопирован в буфер обмена.",
				date_x_at_time_y:     "{date} в {time}",
				day_x_at_time_y:      "{day} в {time}",
				yesterday_at_x:       "Вчера в {time}",
				x_minutes_ago:        "{minutes} мин. назад",
				one_minute_ago:       "Минуту назад",
				a_moment_ago:         "Только что",
				today_at_x:           "Сегодня в {time}",
				in_a_moment:          "Через секунду",
				in_a_minute:          "Через минуту",
				in_x_minutes:         "Через {minutes} мин.",
				later_today_at_x:     "Сегодня в {time}",
				tomorrow_at_x:        "Завтра в {time}",
				short_date_x_minutes: "{minutes} м.",
				short_date_x_hours:   "{hours} ч.",
				short_date_x_days:    "{days} д.",

				day0: "Воскресенье",
				day1: "Понедельник",
				day2: "Вторник",
				day3: "Среда",
				day4: "Четверг",
				day5: "Пятница",
				day6: "Суббота",

				dayShort0: "Вс",
				dayShort1: "Пн",
				dayShort2: "Вт",
				dayShort3: "Ср",
				dayShort4: "Чт",
				dayShort5: "Пт",
				dayShort6: "Сб",

				month0: "Январь",
				month1: "Февраль",
				month2: "Март",
				month3: "Апрель",
				month4: "Май",
				month5: "Июнь",
				month6: "Июль",
				month7: "Август",
				month8: "Сентябрь",
				month9: "Октябрь",
				month10: "Ноябрь",
				month11: "Декабрь",

				active_user_changed_reload_page: "Ваша сессия истекла. Перезагрузите страницу.",
				server_did_not_respond_in_time_try_again: "Сервер не ответил вовремя. Пожалуйста, попробуйте снова.",
				oops_we_ran_into_some_problems: "Упс! Мы столкнулись с некоторыми проблемами.",
				oops_we_ran_into_some_problems_more_details_console: "Упс! Мы столкнулись с некоторыми проблемами. Пожалуйста, попробуйте позже. Более детальную информацию об ошибке Вы можете посмотреть в консоли браузера",
				file_too_large_to_upload: "Файл слишком большой для загрузки.",
				uploaded_file_is_too_large_for_server_to_process: "Загружаемый файл слишком большой для обработки сервером.",
				files_being_uploaded_are_you_sure: "Файлы ещё загружаются. Вы уверены, что хотите отправить эту форму?",
				attach: "Прикрепить файлы",
				rich_text_box: "Текстовое поле с поддержкой форматирования",
				close: "Закрыть",
				link_copied_to_clipboard: "Ссылка скопирована в буфер обмена.",
				text_copied_to_clipboard: "Текст скопирован в буфер обмена.",
				loading: "Загрузка...",
				you_have_exceeded_maximum_number_of_selectable_items: "Вы превысили максимальное количество выбираемых элементов.",

				processing: "Обработка",
				'processing...': "Обработка...",

				showing_x_of_y_items: "Показано {count} из {total} элементов",
				showing_all_items: "Показаны все элементы",
				no_items_to_display: "Нет элементов для отображения",

				number_button_up: "Увеличить",
				number_button_down: "Уменьшить",

				push_enable_notification_title: "Push-уведомления для сайта Osint42.Org - Безопасность и код успешно включены",
				push_enable_notification_body: "Спасибо за включение push-уведомлений!",

				pull_down_to_refresh: "Потяните вниз для обновления",
				release_to_refresh: "Отпустите для обновления",
				refreshing: "Обновление..."
			})
		})
	

window.addEventListener('DOMContentLoaded',()=>{XF.Push.updateUserSubscriptionParent=XF.Push.updateUserSubscription;XF.Push.updateUserSubscription=function(b,a){"unsubscribe"===a&&XF.browser.safari&&XF.Push.setPushHistoryUserIds({});XF.Push.updateUserSubscriptionParent(b,a)}});
</script>

	<script data-cfasync="false" src="../../js/xf/lightbox-compiledf74f.js?_v=01eb82fa" defer></script>
<script data-cfasync="false" src="../../js/xf/code_block-compiledf74f.js?_v=01eb82fa" defer></script>
<script data-cfasync="false" src="../../js/copycode/copycode.minf74f.js?_v=01eb82fa" defer></script>
<script data-cfasync="false" src="../../js/DCom/LiveContent/4.4.1/socket.io.minf74f.js?_v=01eb82fa" defer></script>
<script data-cfasync="false" src="../../js/DCom/LiveContent/socket-conv.minf74f.js?_v=01eb82fa" defer></script>



	
		<link rel="icon" type="image/png" href="../../data/assets/logo/favicon.png" sizes="32x32" />
	

	
	
</head>
<body data-template="xa_ams_article_view">

<div class="p-pageWrapper" id="top">

	

	<header class="p-header" id="header">
		<div class="p-header-inner">
			<div class="p-header-content">
				<div class="p-header-logo p-header-logo--image">
					<a href="../../forums/index.html">
						

	

	
		
		

		
	
		
		

		
	

	

	<picture data-variations="{&quot;default&quot;:{&quot;1&quot;:&quot;\/data\/assets\/logo_default\/osint4242.png&quot;,&quot;2&quot;:&quot;\/data\/assets\/logo_default\/osint4242.png&quot;},&quot;alternate&quot;:{&quot;1&quot;:&quot;\/data\/assets\/logo_alternate\/osint4242.png&quot;,&quot;2&quot;:&quot;\/data\/assets\/logo_alternate\/osint4242.png&quot;}}">
		
		
		

		

		<img src="../../data/assets/logo_alternate/osint4242.png" srcset="/data/assets/logo_alternate/osint4242.png 2x" width="100" height="36" alt="Osint42.Org - Безопасность и код"  />
	</picture>


					</a>
				</div>

				
			</div>
		</div>
	</header>

	
	

	
		<div class="p-navSticky p-navSticky--primary" data-xf-init="sticky-header">
			
		<nav class="p-nav">
			<div class="p-nav-inner">
				<button type="button" class="button button--plain p-nav-menuTrigger" data-xf-click="off-canvas" data-menu=".js-headerOffCanvasMenu" tabindex="0" aria-label="Меню"><span class="button-text">
					<i aria-hidden="true"></i>
				</span></button>

				<div class="p-nav-smallLogo">
					<a href="../../forums/index.html">
						

	

	
		
		

		
	
		
		

		
	

	

	<picture data-variations="{&quot;default&quot;:{&quot;1&quot;:&quot;\/data\/assets\/logo_default\/osint4242.png&quot;,&quot;2&quot;:null},&quot;alternate&quot;:{&quot;1&quot;:&quot;\/data\/assets\/logo_alternate\/osint4242.png&quot;,&quot;2&quot;:null}}">
		
		
		

		

		<img src="../../data/assets/logo_alternate/osint4242.png"  width="100" height="36" alt="Osint42.Org - Безопасность и код"  />
	</picture>


					</a>
				</div>

				<div class="p-nav-scroller hScroller" data-xf-init="h-scroller" data-auto-scroll=".p-navEl.is-selected">
					<div class="hScroller-scroll">
						<ul class="p-nav-list js-offCanvasNavSource">
							
								<li>
									
	<div class="p-navEl is-selected" data-has-children="true">
	

		
	
	<a href="../../index.html"
	class="p-navEl-link p-navEl-link--splitMenu "
	
	
	data-nav-id="xa_ams">Статьи</a>


		<a data-xf-key="1"
			data-xf-click="menu"
			data-menu-pos-ref="< .p-navEl"
			class="p-navEl-splitTrigger"
			role="button"
			tabindex="0"
			aria-label="Переключатель раскрытия"
			aria-expanded="false"
			aria-haspopup="true"></a>

		
	
		<div class="menu menu--structural" data-menu="menu" aria-hidden="true">
			<div class="menu-content">
				
					
	
	
	<a href="../../whats-new/ams-articles/index.html"
	class="menu-linkRow u-indentDepth0 js-offCanvasCopy "
	 rel="nofollow"
	
	data-nav-id="xa_amsNewArticles">Новые статьи</a>

	

				
					
	
	
	<a href="../../whats-new/ams-comments/index.html"
	class="menu-linkRow u-indentDepth0 js-offCanvasCopy "
	 rel="nofollow"
	
	data-nav-id="xa_amsNewComments">Новые комментарии</a>

	

				
					
	
	
	<a href="../authors/index.html"
	class="menu-linkRow u-indentDepth0 js-offCanvasCopy "
	
	
	data-nav-id="xa_amsAuthorList">Список авторов</a>

	

				
			</div>
		</div>
	
	</div>

								</li>
							
								<li>
									
	<div class="p-navEl " data-has-children="true">
	

		
	
	<a href="../../forums/index.html"
	class="p-navEl-link p-navEl-link--splitMenu "
	
	
	data-nav-id="forums">Форум</a>


		<a data-xf-key="2"
			data-xf-click="menu"
			data-menu-pos-ref="< .p-navEl"
			class="p-navEl-splitTrigger"
			role="button"
			tabindex="0"
			aria-label="Переключатель раскрытия"
			aria-expanded="false"
			aria-haspopup="true"></a>

		
	
		<div class="menu menu--structural" data-menu="menu" aria-hidden="true">
			<div class="menu-content">
				
					
	
	
	<a href="../../whats-new/posts/index.html"
	class="menu-linkRow u-indentDepth0 js-offCanvasCopy "
	
	
	data-nav-id="newPosts">Новые сообщения</a>

	

				
					
	
	
	<a href="../../search/index4009.html?type=post"
	class="menu-linkRow u-indentDepth0 js-offCanvasCopy "
	
	
	data-nav-id="searchForums">Поиск по форуму</a>

	

				
			</div>
		</div>
	
	</div>

								</li>
							
								<li>
									
	<div class="p-navEl " data-has-children="true">
	

		
	
	<a href="../../whats-new/index.html"
	class="p-navEl-link p-navEl-link--splitMenu "
	
	
	data-nav-id="whatsNew">Что нового</a>


		<a data-xf-key="3"
			data-xf-click="menu"
			data-menu-pos-ref="< .p-navEl"
			class="p-navEl-splitTrigger"
			role="button"
			tabindex="0"
			aria-label="Переключатель раскрытия"
			aria-expanded="false"
			aria-haspopup="true"></a>

		
	
		<div class="menu menu--structural" data-menu="menu" aria-hidden="true">
			<div class="menu-content">
				
					
	
	
	<a href="../../whats-new/posts/index.html"
	class="menu-linkRow u-indentDepth0 js-offCanvasCopy "
	 rel="nofollow"
	
	data-nav-id="whatsNewPosts">Новые сообщения</a>

	

				
					
	
	
	<a href="../../whats-new/ams-articles/index.html"
	class="menu-linkRow u-indentDepth0 js-offCanvasCopy "
	 rel="nofollow"
	
	data-nav-id="xaAmsWhatsNewNewArticles">Новые статьи</a>

	

				
					
	
	
	<a href="../../whats-new/media/index.html"
	class="menu-linkRow u-indentDepth0 js-offCanvasCopy "
	 rel="nofollow"
	
	data-nav-id="xfmgWhatsNewNewMedia">Новые медиа</a>

	

				
					
	
	
	<a href="../../whats-new/ams-comments/index.html"
	class="menu-linkRow u-indentDepth0 js-offCanvasCopy "
	 rel="nofollow"
	
	data-nav-id="xaAmsWhatsNewArticleComments">Новые комментарии к статье</a>

	

				
			</div>
		</div>
	
	</div>

								</li>
							
								<li>
									
	<div class="p-navEl " data-has-children="true">
	

		
	
	<a href="../../media/index.html"
	class="p-navEl-link p-navEl-link--splitMenu "
	
	
	data-nav-id="xfmg">Медиа</a>


		<a data-xf-key="4"
			data-xf-click="menu"
			data-menu-pos-ref="< .p-navEl"
			class="p-navEl-splitTrigger"
			role="button"
			tabindex="0"
			aria-label="Переключатель раскрытия"
			aria-expanded="false"
			aria-haspopup="true"></a>

		
	
		<div class="menu menu--structural" data-menu="menu" aria-hidden="true">
			<div class="menu-content">
				
					
	
	
	<a href="../../whats-new/media/index.html"
	class="menu-linkRow u-indentDepth0 js-offCanvasCopy "
	 rel="nofollow"
	
	data-nav-id="xfmgNewMedia">Новые медиа</a>

	

				
					
	
	
	<a href="../../whats-new/media-comments/index.html"
	class="menu-linkRow u-indentDepth0 js-offCanvasCopy "
	 rel="nofollow"
	
	data-nav-id="xfmgNewComments">Новые комментарии</a>

	

				
					
	
	
	<a href="../../search/index4784.html?type=xfmg_media"
	class="menu-linkRow u-indentDepth0 js-offCanvasCopy "
	
	
	data-nav-id="xfmgSearchMedia">Поиск медиа</a>

	

				
			</div>
		</div>
	
	</div>

								</li>
							
								<li>
									
	<div class="p-navEl " data-has-children="true">
	

		
	
	<a href="https://osint42.org/members/"
	class="p-navEl-link p-navEl-link--splitMenu "
	
	
	data-nav-id="members">Пользователи</a>


		<a data-xf-key="5"
			data-xf-click="menu"
			data-menu-pos-ref="< .p-navEl"
			class="p-navEl-splitTrigger"
			role="button"
			tabindex="0"
			aria-label="Переключатель раскрытия"
			aria-expanded="false"
			aria-haspopup="true"></a>

		
	
		<div class="menu menu--structural" data-menu="menu" aria-hidden="true">
			<div class="menu-content">
				
					
	
	
	<a href="https://osint42.org/online/"
	class="menu-linkRow u-indentDepth0 js-offCanvasCopy "
	
	
	data-nav-id="currentVisitors">Сейчас на форуме</a>

	

				
			</div>
		</div>
	
	</div>

								</li>
							
						</ul>
					</div>
				</div>

				<div class="p-nav-opposite">
					<div class="p-navgroup p-account p-navgroup--guest">
						
							<a href="../../login/index.html" class="p-navgroup-link p-navgroup-link--textual p-navgroup-link--logIn"
								data-xf-click="overlay" data-follow-redirects="on">
								<span class="p-navgroup-linkText">Вход</span>
							</a>
							
								<a href="../../register/index.html" class="p-navgroup-link p-navgroup-link--textual p-navgroup-link--register"
									data-xf-click="overlay" data-follow-redirects="on">
									<span class="p-navgroup-linkText">Регистрация</span>
								</a>
							
						
					</div>
					
					
    <a href="https://osint42.org/misc/style-variation"
       class="p-navgroup-link p-navgroup-link--iconic js-styleVariationsLink"
       data-xf-click="menu"
       data-menu-pos-ref="< .p-navgroup"
       aria-label=" Выбор стиля"
       aria-expanded="false"
       aria-haspopup="true"
       title=" Выбор стиля">
        <i aria-hidden="true">
            <i class="fa--xf far fa-moon "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#moon"></use></svg></i>
        </i>
        <span class="p-navgroup-linkText"> Выбор стиля</span>
    </a>

    <div class="menu menu--structural" data-menu="menu" aria-hidden="true">
        <div class="menu-content js-styleVariationsMenu">
            

	
		

	<a href="https://osint42.org/misc/style-variation?reset=1&amp;t=1758966092%2C69aa85b310beb7be3a7e9551bcee54b6"
		class="menu-linkRow "
		rel="nofollow"
		data-xf-click="style-variation" data-variation="">

		<i class="fa--xf far fa-adjust "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#adjust"></use></svg></i>

		
			Системный
		
	</a>


		

	<a href="https://osint42.org/misc/style-variation?variation=default&amp;t=1758966092%2C69aa85b310beb7be3a7e9551bcee54b6"
		class="menu-linkRow "
		rel="nofollow"
		data-xf-click="style-variation" data-variation="default">

		<i class="fa--xf far fa-sun "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#sun"></use></svg></i>

		
			Светлый
		
	</a>


		

	<a href="https://osint42.org/misc/style-variation?variation=alternate&amp;t=1758966092%2C69aa85b310beb7be3a7e9551bcee54b6"
		class="menu-linkRow is-selected"
		rel="nofollow"
		data-xf-click="style-variation" data-variation="alternate">

		<i class="fa--xf far fa-moon "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#moon"></use></svg></i>

		
			Тёмный
		
	</a>

	

	
		
	

        </div>
    </div>



					<div class="p-navgroup p-discovery">
						<a href="../../whats-new/index.html"
							

	class="p-navgroup-link p-navgroup-link--iconic p-navgroup-link--whatsnew"

							aria-label="Что нового"
							title="Что нового">
							<i aria-hidden="true"></i>
							<span class="p-navgroup-linkText">Что нового</span>
						</a>

						
							<a href="../../search/index.html"
								class="p-navgroup-link p-navgroup-link--iconic p-navgroup-link--search"
								data-xf-click="menu"
								data-xf-key="/"
								aria-label="Поиск"
								aria-expanded="false"
								aria-haspopup="true"
								title="Поиск">
								<i aria-hidden="true"></i>
								<span class="p-navgroup-linkText">Поиск</span>
							</a>
							<div class="menu menu--structural menu--wide" data-menu="menu" aria-hidden="true">
								<form action="https://osint42.org/search/search" method="post"
									class="menu-content"
									data-xf-init="quick-search">

									<h3 class="menu-header">Поиск</h3>
									
									<div class="menu-row">
										
											<div class="inputGroup inputGroup--joined">
												<input type="text" class="input" name="keywords" data-acurl="/search/auto-complete" placeholder="Поиск..." aria-label="Поиск" data-menu-autofocus="true" />
												
			<select name="constraints" class="js-quickSearch-constraint input" aria-label="Поиск в">
				<option value="">Везде</option>
<option value="{&quot;search_type&quot;:&quot;ams_article&quot;}">Статьи</option>
<option value="{&quot;search_type&quot;:&quot;ams_article&quot;,&quot;c&quot;:{&quot;categories&quot;:[10],&quot;child_categories&quot;:1}}">Эта категория</option>

			</select>
		
											</div>
										
									</div>

									
									<div class="menu-row">
										<label class="iconic"><input type="checkbox"  name="c[title_only]" value="1" /><i aria-hidden="true"></i><span class="iconic-label">Искать только в заголовках

													
													<span tabindex="0" role="button"
														data-xf-init="tooltip" data-trigger="hover focus click" title="Теги также будут учитываться">

														<i class="fa--xf far fa-question-circle  u-muted u-smaller"><svg xmlns="http://www.w3.org/2000/svg" role="img" ><title>Примечание</title><use href="../../data/local/icons/regulare419.svg?v=1757401797#question-circle"></use></svg></i>
													</span></span></label>

									</div>
									
									<div class="menu-row">
										<div class="inputGroup">
											<span class="inputGroup-text" id="ctrl_search_menu_by_member">Автор:</span>
											<input type="text" class="input" name="c[users]" data-xf-init="auto-complete" placeholder="Пользователь" aria-labelledby="ctrl_search_menu_by_member" />
										</div>
									</div>
									<div class="menu-footer">
									<span class="menu-footer-controls">
										<button type="submit" class="button button--icon button--icon--search button--primary"><i class="fa--xf far fa-search "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#search"></use></svg></i><span class="button-text">Найти</span></button>
										<button type="submit" class="button " name="from_search_menu"><span class="button-text">Расширенный поиск...</span></button>
									</span>
									</div>

									<input type="hidden" name="_xfToken" value="1758966092,69aa85b310beb7be3a7e9551bcee54b6" />
								</form>
							</div>
						
					</div>
				</div>
			</div>
		</nav>
	
		</div>
		
		
			<div class="p-sectionLinks">
				<div class="p-sectionLinks-inner hScroller" data-xf-init="h-scroller">
					<div class="hScroller-scroll">
						<ul class="p-sectionLinks-list">
							
								<li>
									
	<div class="p-navEl " >
	

		
	
	<a href="../../whats-new/ams-articles/index.html"
	class="p-navEl-link "
	 rel="nofollow"
	data-xf-key="alt+1"
	data-nav-id="xa_amsNewArticles">Новые статьи</a>


		

		
	
	</div>

								</li>
							
								<li>
									
	<div class="p-navEl " >
	

		
	
	<a href="../../whats-new/ams-comments/index.html"
	class="p-navEl-link "
	 rel="nofollow"
	data-xf-key="alt+2"
	data-nav-id="xa_amsNewComments">Новые комментарии</a>


		

		
	
	</div>

								</li>
							
								<li>
									
	<div class="p-navEl " >
	

		
	
	<a href="../authors/index.html"
	class="p-navEl-link "
	
	data-xf-key="alt+3"
	data-nav-id="xa_amsAuthorList">Список авторов</a>


		

		
	
	</div>

								</li>
							
						</ul>
					</div>
				</div>
			</div>
			
	
		

	<div class="offCanvasMenu offCanvasMenu--nav js-headerOffCanvasMenu" data-menu="menu" aria-hidden="true" data-ocm-builder="navigation">
		<div class="offCanvasMenu-backdrop" data-menu-close="true"></div>
		<div class="offCanvasMenu-content">
			<div class="offCanvasMenu-header">
				Меню
				<a class="offCanvasMenu-closer" data-menu-close="true" role="button" tabindex="0" aria-label="Закрыть"></a>
			</div>
			
				<div class="p-offCanvasRegisterLink">
					<div class="offCanvasMenu-linkHolder">
						<a href="../../login/index.html" class="offCanvasMenu-link" data-xf-click="overlay" data-menu-close="true">
							Вход
						</a>
					</div>
					<hr class="offCanvasMenu-separator" />
					
						<div class="offCanvasMenu-linkHolder">
							<a href="../../register/index.html" class="offCanvasMenu-link" data-xf-click="overlay" data-menu-close="true">
								Регистрация
							</a>
						</div>
						<hr class="offCanvasMenu-separator" />
					
				</div>
			
			<div class="js-offCanvasNavTarget"></div>
			<div class="offCanvasMenu-installBanner js-installPromptContainer" style="display: none;" data-xf-init="install-prompt">
				<div class="offCanvasMenu-installBanner-header">Установить приложение</div>
				<button type="button" class="button js-installPromptButton"><span class="button-text">Установить</span></button>
				<template class="js-installTemplateIOS">
					<div class="js-installTemplateContent">
						<div class="overlay-title">Как установить приложение на iOS</div>
						<div class="block-body">
							<div class="block-row">
								<p>
									Следуйте инструкциям в видео ниже, чтобы узнать, как установить наш сайт как веб-приложение на главный экран вашего устройства.
								</p>
								<p style="text-align: center">
									<video src="../../styles/default/xenforo/add_to_home_new.mp4"
										width="280" height="480" autoplay loop muted playsinline></video>
								</p>
								<p>
									<small><strong>Примечание:</strong> Эта функция может быть недоступна в некоторых браузерах.</small>
								</p>
							</div>
						</div>
					</div>
				</template>
			</div>
		</div>
	</div>

	<div class="p-body">
		<div class="p-body-inner">
			<!--XF:EXTRA_OUTPUT-->


			
				
	
		
		

		<ul class="notices notices--block  js-notices"
			data-xf-init="notices"
			data-type="block"
			data-scroll-interval="6">

			
				
	<li class="notice js-notice notice--primary notice--hasImage"
		data-notice-id="1"
		data-delay-duration="0"
		data-display-duration="0"
		data-auto-dismiss=""
		data-visibility="">

		
			<div class="notice-image"><img src="../../data/assets/notice_images/c7eb1746-6291-4d37-b72b-8e3b5cfd1303.png" alt="" /></div>
		
		<div class="notice-content">
			
			<div class="block"
     style="border:1px solid #ccc;
            border-radius:8px;
            padding:min(4vw,15px);
            background:var(--xf-contentBg);
            box-shadow:0 0 8px rgba(0,0,0,.1);
            width:100%;
            max-width:clamp(480px,90vw,1200px);
            margin:0 auto;
            box-sizing:border-box;
            overflow:hidden;">

  <div class="block-container">
    <h3 class="block-header"
        style="font-size:clamp(1rem,4vw,1.125rem);
               margin:0 0 10px 0;">
      📡 Наши контакты
    </h3>

    <div class="block-body" style="line-height:1.4;">

      <!-- Email -->
      <p style="margin:8px 0;">
        ✉️ Email:
        <a href="../../cdn-cgi/l/email-protection.html#573e3931381738243e392363657934383a" style="color:#2ecc71;
                  font-weight:bold;
                  overflow-wrap:anywhere;
                  text-decoration:none;">
          <span class="__cf_email__" data-cfemail="3d54535b527d524e545349090f135e5250">[email&#160;protected]</span>
        </a>
      </p>

      <!-- TOR Mirror -->
      <p style="margin:8px 0;">
        🧅 TOR зеркало:
        <a href="http://oiiph5yud65awuv7vyzknbihyuumv5q2etcrgh6z4xmgnsul3chnigyd.onion/"
           target="_blank"
           rel="noopener noreferrer"
           style="color:#2ecc71;
                  font-weight:bold;
                  overflow-wrap:anywhere;
                  text-decoration:none;">
          oiiph5yud65awuv7vyzknbihyuumv5q2etcrgh6z4xmgnsul3chnigyd.onion
        </a>
      </p>

      <!-- Donate -->
      <p style="margin:8px 0;">
        💰 Donate (BTC):
        <a href="bitcoin:bc1qm3mmvdp05d0q0y4ea3tw8rvrn2e0cpcmmmwxgz"
           style="color:#2ecc71;
                  font-weight:bold;
                  overflow-wrap:anywhere;
                  text-decoration:none;">
          bc1qm3mmvdp05d0q0y4ea3tw8rvrn2e0cpcmmmwxgz
        </a>
      </p>

      <!-- Notice -->
      <p style="margin:15px 0 0;
                padding:10px;
                border-radius:6px;
                background:#ffeaea;
                color:#c0392b;
                font-weight:bold;
                text-align:center;">
        ⚠️ Это архив форума, в ближайшее время поддержка ресурса не планируется!
      </p>

    </div>
  </div>
</div>
		</div>
	</li>

			
		</ul>
	

			

			

			
			
	
		<ul class="p-breadcrumbs "
			itemscope itemtype="https://schema.org/BreadcrumbList">
			
				

				
				

				

				
				
					
					
	<li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
		<a href="../categories/gamehacking.10/index.html" itemprop="item">
			<span itemprop="name">GameHacking</span>
		</a>
		<meta itemprop="position" content="1" />
	</li>

				
			
		</ul>
	

			

			
	<noscript class="js-jsWarning"><div class="blockMessage blockMessage--important blockMessage--iconic u-noJsOnly">JavaScript отключён. Для полноценно использования нашего сайта, пожалуйста, включите JavaScript в своём браузере.</div></noscript>

			
	<div class="blockMessage blockMessage--important blockMessage--iconic js-browserWarning" style="display: none">Вы используете устаревший браузер. Этот и другие сайты могут отображаться в нем неправильно.<br />Необходимо обновить браузер или попробовать использовать <a href="https://www.google.com/chrome/" target="_blank" rel="noopener">другой</a>.</div>


			
				<div class="p-body-header">
					
		<div class="contentRow contentRow--hideFigureNarrow">
			<div class="contentRow-main">
				<div class="p-title">
					<h1 class="p-title-value">
						
							
							Цикл статей. Как создать свой чит/трейнер
						
					</h1>
				</div>
				
					<div class="p-description">
						
							<ul class="listInline listInline--bullet">
								<li>
									<i class="fa--xf far fa-user "><svg xmlns="http://www.w3.org/2000/svg" role="img" ><title>Автор</title><use href="../../data/local/icons/regulare419.svg?v=1757401797#user"></use></svg></i>
									<span class="u-srOnly">Автор</span>
									
										<a href="https://osint42.org/members/0x42.1/" class="username  u-concealed" dir="auto" data-user-id="1" data-xf-init="member-tooltip"><span class="username--moderator username--admin">0x42</span></a>
									
								</li>
								
								<li>
									<i class="fa--xf far fa-clock "><svg xmlns="http://www.w3.org/2000/svg" role="img" ><title>Дата публикации</title><use href="../../data/local/icons/regulare419.svg?v=1757401797#clock"></use></svg></i>
									<span class="u-srOnly">Дата публикации</span>

									<a href="index.html" class="u-concealed"><time  class="u-dt" dir="auto" datetime="2025-05-10T09:26:29+0300" data-timestamp="1746858389" data-date="10.05.2025" data-time="09:26" data-short="10 Май" title="10.05.2025 в 09:26">10.05.2025</time></a>
								</li>
																
									<li>
										<i class="fa--xf far fa-clock "><svg xmlns="http://www.w3.org/2000/svg" role="img" ><title>Последнее обновление</title><use href="../../data/local/icons/regulare419.svg?v=1757401797#clock"></use></svg></i>
										<span class="u-concealed">Обновлено</span>

										<time  class="u-dt" dir="auto" datetime="2025-05-10T09:38:50+0300" data-timestamp="1746859130" data-date="10.05.2025" data-time="09:38" data-short="10 Май" title="10.05.2025 в 09:38">10.05.2025</time>
									</li>
								
																
									<li>
										<i class="fa--xf far fa-hourglass "><svg xmlns="http://www.w3.org/2000/svg" role="img" ><title>Article read time</title><use href="../../data/local/icons/regulare419.svg?v=1757401797#hourglass"></use></svg></i>
										<span class="u-srOnly">Article read time</span>

										43 min read
									</li>
								
								
								
							</ul>
						
					</div>
				

				

	
		
	

			</div>
		</div>
	
				</div>
				

			<div class="p-body-main p-body-main--withSidebar ">
				
				<div class="p-body-contentCol"></div>
				
					<div class="p-body-sidebarCol"></div>
				

				

				<div class="p-body-content">
					
					<div class="p-body-pageContent">









	

	



	
	

	




	




	







	




	
	
		
	
	
	


	
	
		
	
	
	


	
	
		
	
	
	


	
	
		
	
	
	


	
	
		
	
	
	


	
	







	
		
		

		
			<script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script class="js-extraPhrases" type="application/json">
			{
				"lightbox_close": "Закрыть",
				"lightbox_next": "Следующая",
				"lightbox_previous": "Предыдущая",
				"lightbox_error": "Запрошенный контент не может быть загружен. Пожалуйста, попробуйте позже.",
				"lightbox_start_slideshow": "Запустить слайд-шоу",
				"lightbox_stop_slideshow": "Остановить слайд-шоу",
				"lightbox_full_screen": "Полный экран",
				"lightbox_thumbnails": "Миниатюры",
				"lightbox_download": "Скачать",
				"lightbox_share": "Поделиться",
				"lightbox_zoom": "Увеличить",
				"lightbox_new_window": "Новое окно",
				"lightbox_toggle_sidebar": "Переключить боковую панель"
			}
			</script>
		
		
	


<div class="block">
	
		<div class="block-outer">
			<div class="block-outer-opposite">
			
				

	

	

	

	

	

	

	

	
		<div class="buttonGroup">
		
			

			
			
			
			

	

			
			
				<div class="buttonGroup-buttonWrapper">
					<button type="button" class="button button--link menuTrigger" data-xf-click="menu" aria-expanded="false" aria-haspopup="true" title="Навигация по страницам"><span class="button-text">
						ОГЛАВЛЕНИЕ
					</span></button>
					<div class="menu" data-menu="menu" aria-hidden="true">
						<div class="menu-content">
							<h4 class="menu-header">Выберите страницу</h4>

							<a href="index.html" class="menu-linkRow ">
								
									Как создать свой чит/трейнер
								
							</a>

							
								
									<a href="page/kak-sozdat-svoi-chit-treiner-2.46/index.html" class="menu-linkRow ">
									 Как создать свой чит/трейнер - 2</a>
								
									<a href="page/kak-sozdat-svoi-chit-treiner-3.47/index.html" class="menu-linkRow ">
									 Как создать свой чит/трейнер - 3</a>
								
							
							
								<a href="index9401.html?full=1" class="menu-linkRow is-selected">Просмотреть всю статью</a>
							
						</div>
					</div>
				</div>
			

			

			
		
		</div>
	
				
			
			</div>
		</div>
	

	
	
		
	
	
	
	<div class="block-container">
		<div class="block-body lbContainer js-articleBody"
			data-xf-init="lightbox"
			data-lb-id="article-10"
			data-lb-caption-desc="0x42 &middot; 10.05.2025 в 09:26"
			id="js-articleBody-10">

			<div class="articleBody">
				<article class="articleBody-main js-lbContainer">
					
					
					
					
						

	
		
	

					

					

						
							<h2>Как создать свой чит/трейнер</h2>
						

						<div class="bbWrapper"><div class="bbImageWrapper  js-lbImage" title="2_windowed.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F2_windowed.png&amp;hash=c8c1fc666564ca54704424230e414f4a" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../2_windowed2f29.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F2_windowed.png&amp;hash=c8c1fc666564ca54704424230e414f4a"
			data-url="https://xakep.ru/wp-content/uploads/2022/03/378874/2_windowed.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="2_windowed.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Приватная статья, часть первая:<a href="https://xakep.ru/2022/03/22/diy-trainer/" target="_blank" class="link link--external" rel="noopener">Чит своими руками. Вскрываем компьютерную игру и пишем трейнер на C++</a><br />
<br />
Играть в игры любят все, но это гораздо интереснее, когда у тебя имеется нескончаемый запас патронов и здоровья. Чтобы обзавестись и тем и другим, можно погуглить читы и трейнеры для твоей любимой игры. Но как быть, если их еще не разработали? Написать самому! Обладая навыками реверс‑инжиниринга и программирования, сделать это намного проще, чем кажется.<br />
<br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-vybor-igry"></a>ВЫБОР ИГРЫ&#8203;<a class="hoverLink" href="#-vybor-igry" title="Постоянная ссылка"></a></h2>Для начала определимся с игрой. Мой выбор пал на <a href="https://www.pcgamingwiki.com/wiki/Hyper_Light_Drifter" target="_blank" class="link link--external" rel="noopener">Hyper Light Drifter</a> (далее HLD). Если ты планируешь поэкспериментировать с коммерческой игрой, обрати внимание на сайт <a href="https://www.pcgamingwiki.com/wiki/Home" target="_blank" class="link link--external" rel="noopener">pcgamingwiki</a>, а также на игры <a href="https://en.wikipedia.org/wiki/List_of_open-source_video_games" target="_blank" class="link link--external" rel="noopener">с открытым исходным кодом</a>.<br />
<br />




<blockquote data-attributes="" data-quote="" data-source=""
	class="bbCodeBlock bbCodeBlock--expandable bbCodeBlock--quote js-expandWatch">
	
	<div class="bbCodeBlock-content">
		
		<div class="bbCodeBlock-expandContent js-expandContent ">
			Так как для написания этой статьи я буду использовать коммерческую игру, мне нужно удостовериться, что лицензионное соглашение (EULA) позволяет это делать.<br />
<br />
Начав установку и внимательно прочитав текст EULA, я убедился, что в нем явно запрещается написание и распространение только тех читов и трейнеров,<b> которые мешают работе сервиса</b>, а в нашем случае ничего подобного не планируется. Поэтому смело продолжаем установку.
		</div>
		<div class="bbCodeBlock-expandLink js-expandLink"><a role="button" tabindex="0">Нажмите, чтобы раскрыть...</a></div>
	</div>
</blockquote><br />
<div class="bbImageWrapper  js-lbImage" title="1_EULA.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F1_EULA.png&amp;hash=8d9fd175d8dc67ccffe3dcd6aa210d56" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../1_EULA952a.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F1_EULA.png&amp;hash=8d9fd175d8dc67ccffe3dcd6aa210d56"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/1_EULA.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1_EULA.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-poisk-znachenii"></a>ПОИСК ЗНАЧЕНИЙ&#8203;<a class="hoverLink" href="#-poisk-znachenii" title="Постоянная ссылка"></a></h2>Для поиска значений, которые будет изменять чит, мы станем использовать <a href="https://www.cheatengine.org/downloads.php" target="_blank" class="link link--external" rel="noopener">Cheat Engine</a> (далее CE).<br />
<br />
Запустим игру и в настройках игры выберем оконный режим — нам нужно, чтобы на экране помещалось еще что‑то, кроме игры.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="2_windowed.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F2_windowed.png&amp;hash=c8c1fc666564ca54704424230e414f4a" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../2_windowed2f29.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F2_windowed.png&amp;hash=c8c1fc666564ca54704424230e414f4a"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/2_windowed.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="2_windowed.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Как видим, в оконном режиме отсутствует панель заголовка, с помощью которой мы могли бы перетаскивать окно игры по экрану. Чтобы исправить эту неприятность, откроем отладчик <a href="https://sourceforge.net/projects/x64dbg/files/snapshots/" target="_blank" class="link link--external" rel="noopener">x64dbg</a>, а именно его 32-битную версию (x32dbg) и запустим под ним HLD.<br />
<br />
Поставим брейк‑пойнты на функции CreateWindowExA и CreateWindowExW, которые отвечают за создание окна. Найти их можно на вкладке Symbols, выбрав библиотеку user32.dll.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="3_symbols.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F3_symbols.png&amp;hash=96ed33a2521963d3ca97acb53b17b848" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../3_symbolsd9e4.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F3_symbols.png&amp;hash=96ed33a2521963d3ca97acb53b17b848"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/3_symbols.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="3_symbols.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Видим, что наше окно создается с параметром dwStyle, имеющим значение WS_POPUP = 0x80000000.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="4_WS_POPUP.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F4_WS_POPUP.png&amp;hash=e64d2bceecb1e40825bef6ef042855f6" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../4_WS_POPUP48e2.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F4_WS_POPUP.png&amp;hash=e64d2bceecb1e40825bef6ef042855f6"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/4_WS_POPUP.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="4_WS_POPUP.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Поменяем это значение на WS_OVERLAPPED = 0x00000000.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="5_WS_OVERLAPPED.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F5_WS_OVERLAPPED.png&amp;hash=cba82df9038441807764cd7aac5d57fd" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../5_WS_OVERLAPPED3d49.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F5_WS_OVERLAPPED.png&amp;hash=cba82df9038441807764cd7aac5d57fd"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/5_WS_OVERLAPPED.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="5_WS_OVERLAPPED.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
И вот результат: теперь мы можем перемещать окно.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="6_windowed.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F6_windowed.png&amp;hash=0ef15bb196bb1dd59e8304ad6aaa3adc" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../6_windowedf645.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F6_windowed.png&amp;hash=0ef15bb196bb1dd59e8304ad6aaa3adc"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/6_windowed.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="6_windowed.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
После того как мы настроили окно игры с помощью отладчика, ненадолго отложим его. Чтобы найти нужные нам значения в Cheat Engine, разберемся с теорией.<br />
<br />
 <br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-chto-takoye-staticheskii-adres"></a>ЧТО ТАКОЕ СТАТИЧЕСКИЙ АДРЕС&#8203;<a class="hoverLink" href="#-chto-takoye-staticheskii-adres" title="Постоянная ссылка"></a></h2>Статический адрес — это адрес, который изменяется предсказуемо по отношению к модулю, которому он принадлежит. Если переменная глобальная, то можно найти ее в сегменте данных.<br />
<br />
Статические адреса указываются в формате [module+offset]. Например, в library.dll мы могли обнаружить значение по адресу 0x700004C0 (base = 0x70000000, offset = 0x4C0). Поскольку library.dll может перемещаться и ее базовый адрес загрузки будет меняться, чтобы получить доступ к нашему значению, мы не используем этот адрес напрямую. Вместо этого возьмем адрес [library.dll + 0x4C0]. Следовательно, когда library.dll загружается по базовому адресу 0x10000000, [library.dll + 0x4C0] дает нам 0x100004C0 и у нас появится доступ к нашему значению.<br />
<br />
Если же переменная локальная, то искать нужно в стеке. Для этого получаем TebBaseAddress определенного потока, а затем второй указатель из этой структуры (FS:[0x04] или GS:[0x08], в зависимости от разрядности процесса), которая содержит вершину стека. TebBasePointer может быть получен с помощью NtQueryInformationThread (если это 64-битный процесс) или же с помощью Wow64GetThreadSelectorEntry (если это 32-битный процесс в 64-битной системе).<br />
<br />
 <br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-poisk-pokazatelei-zdorov-ya"></a>ПОИСК ПОКАЗАТЕЛЕЙ ЗДОРОВЬЯ&#8203;<a class="hoverLink" href="#-poisk-pokazatelei-zdorov-ya" title="Постоянная ссылка"></a></h2>Запускаем Cheat Engine и подключаемся к процессу игры.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="7_pl.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F7_pl.png&amp;hash=4d88b8a924768ce8a215e4e2ef6f30ec" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../7_plba2c.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F7_pl.png&amp;hash=4d88b8a924768ce8a215e4e2ef6f30ec"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/7_pl.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="7_pl.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Так как мы не знаем, в каком типе хранится показатель здоровья, выставляем следующие параметры для первого сканирования.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="8_fs.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F8_fs.png&amp;hash=07a95dd830fd7e831df65a4a1da7cb8c" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../8_fsfaba.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F8_fs.png&amp;hash=07a95dd830fd7e831df65a4a1da7cb8c"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/8_fs.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="8_fs.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Далее продолжаем сканирование, не забывая при этом терять hp (показатель здоровья) в игре. Делаем мы это для того, чтобы отслеживать изменения значения hp в памяти игры через CE, а также уменьшать значение в поиске для следующих сканирований. Делать мы это будем до тех пор, пока не будет достигнуто адекватное количество значений в окне CE. Адекватное количество значений в данном случае — это такое количество адресов, проверка которых займет максимум минут пять.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="9_search_hp.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F9_search_hp.png&amp;hash=583103a490e40d0580e7f12305b98a20" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../9_search_hp802c.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F9_search_hp.png&amp;hash=583103a490e40d0580e7f12305b98a20"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/9_search_hp.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="9_search_hp.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Мне приглянулись вот эти два адреса, которые я добавил в нижнее окно двойным щелчком мыши на них. Приглянулись они мне в первую очередь потому, что значения по этим адресам среди всех остальных имеют наибольший тип — double. Всегда нужно проверять от большего типа к меньшему. То есть сначала проверяем адреса, хранящие тип double, затем float, после integer и так далее. Более подробно о размере типов данных можно прочитать в <a href="https://docs.microsoft.com/en-us/cpp/cpp/fundamental-types-cpp?view=msvc-170" target="_blank" class="link link--external" rel="noopener">документации Microsoft</a>.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="10_add_ct.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F10_add_ct.png&amp;hash=7a3c8991629cfd6bc802b944c1fcd005" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../10_add_ct59e2.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F10_add_ct.png&amp;hash=7a3c8991629cfd6bc802b944c1fcd005"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/10_add_ct.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="10_add_ct.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Если мы поменяем значение по адресу 0x36501940, то на экране появится полоса здоровья, но его количество не поменяется.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="11_hp_bar.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F11_hp_bar.png&amp;hash=7ef18b554e8c8b41c9f5ee9a02d3bc6d" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../11_hp_bar06ef.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F11_hp_bar.png&amp;hash=7ef18b554e8c8b41c9f5ee9a02d3bc6d"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/11_hp_bar.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="11_hp_bar.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Если теперь мы поменяем значение по адресу 0x36501A30, то на экране появится полоса hp и значение изменится. Это значит, что мы нашли адрес, в котором хранится значение здоровья в игре. Значение хранится в формате double (стандарт <a href="https://en.wikipedia.org/wiki/IEEE_754" target="_blank" class="link link--external" rel="noopener">IEEE 754</a>).<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="12_hp.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F12_hp.png&amp;hash=9af45c09fec378baf49d05af69e32e7b" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../12_hp2c09.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F12_hp.png&amp;hash=9af45c09fec378baf49d05af69e32e7b"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/12_hp.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="12_hp.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Дадим название найденным нами адресам: hp_bar и hp соответственно. Однако, как я уже рассказывал в разделе, посвященном статическим адресам, найденный нами адрес будет бесполезен после того, как мы выйдем в меню или перезапустим игру.<br />
<br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-poisk-staticheskogo-adresa-dlya-indikatora-zdorov-ya"></a>Поиск статического адреса для индикатора здоровья&#8203;<a class="hoverLink" href="#-poisk-staticheskogo-adresa-dlya-indikatora-zdorov-ya" title="Постоянная ссылка"></a></h3>Для дальнейшего поиска статического адреса вернемся к отладчику. В окне дампа переходим по ранее полученному адресу 0x36501A30, в котором хранится значение hp.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="13_hp_addr.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F13_hp_addr.png&amp;hash=fe77b393920f8c58691ca1f9b8580e3d" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../13_hp_addrfcac.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F13_hp_addr.png&amp;hash=fe77b393920f8c58691ca1f9b8580e3d"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/13_hp_addr.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="13_hp_addr.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Ставим по адресу 0x36501A34 аппаратный брейк‑пойнт на запись и теряем в игре здоровье. Брейк‑пойнт срабатывает, и мы видим, что новое значение hp берется из регистра EDI. Это значение является первым параметром текущей функции.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="14_static_addr.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F14_static_addr.png&amp;hash=d45588fd8d38f6e6f312875b3e7f7188" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../14_static_addr83e9.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F14_static_addr.png&amp;hash=d45588fd8d38f6e6f312875b3e7f7188"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/14_static_addr.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="14_static_addr.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Выйдя из этой функции, проследим, откуда она получает свой первый параметр. Мы увидим, что передаваемый параметр — это возвращаемое значение функции по адресу 0x003EFCE9.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="15_static_addr.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F15_static_addr.png&amp;hash=a0b56d1db226414bee36031f85109e52" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../15_static_addrd7c0.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F15_static_addr.png&amp;hash=a0b56d1db226414bee36031f85109e52"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/15_static_addr.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="15_static_addr.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Поставим брейк‑пойнт на вызов функции по адресу 0x003EFCE9, а дальше продолжим отладку, пока не остановимся на ее вызове. Зайдя внутрь функции, выполняем ее до конца. Как только мы достигнем адреса 0x00F88E19, мы увидим, что регистр EAX хранит адрес значения hp. Очевидно, что в этой функции происходит доступ к нашему адресу через арифметику с указателями для структур, а именно через прибавление к указателю смещений и дальнейшего его разыменования. Более подробно об этом можно прочитать <a href="https://turing.ubishops.ca/home/cs318/03-point.pdf" target="_blank" class="link link--external" rel="noopener">здесь</a>. Нам нужно будет повторно пройтись по этой функции, чтобы узнать, через какой адрес и смещения она получает адрес значения hp.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="16_static_addr.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F16_static_addr.png&amp;hash=a0cab25021f8e2be95548062a1925063" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../16_static_addr3e7b.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F16_static_addr.png&amp;hash=a0cab25021f8e2be95548062a1925063"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/16_static_addr.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="16_static_addr.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
После того как мы узнали адрес 0x353F9BB0, из которого получается адрес значения hp, начинаем выходить из функций. При этом внимательно отслеживаем, что передается им в качестве параметров. Спустя пару выходов мы наткнемся на следующее.<br />
<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="17_final_static_addr.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F17_final_static_addr.png&amp;hash=9e2d41ed753077109e368d9925101793" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../17_final_static_addr2925.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F17_final_static_addr.png&amp;hash=9e2d41ed753077109e368d9925101793"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/17_final_static_addr.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="17_final_static_addr.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Мы нашли статический адрес! Если посмотреть его расположение в памяти, он находится в секции .data.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="18_final_static_addr_memory_map.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F18_final_static_addr_memory_map.png&amp;hash=8e2db47e9b79c4103d86d077ff1db811" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../18_final_static_addr_memory_mapa095.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F18_final_static_addr_memory_map.png&amp;hash=8e2db47e9b79c4103d86d077ff1db811"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/18_final_static_addr_memory_map.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="18_final_static_addr_memory_map.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Зная все смещения, добавим их в CE, нажав Add Address Manually.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="19_static_addr_ct.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F19_static_addr_ct.png&amp;hash=a5ae6b479cf7b62827e34a01869acb2b" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../19_static_addr_ct49c5.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F19_static_addr_ct.png&amp;hash=a5ae6b479cf7b62827e34a01869acb2b"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/19_static_addr_ct.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="19_static_addr_ct.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-poisk-znacheniya-chisla-patronov"></a>ПОИСК ЗНАЧЕНИЯ ЧИСЛА ПАТРОНОВ&#8203;<a class="hoverLink" href="#-poisk-znacheniya-chisla-patronov" title="Постоянная ссылка"></a></h2>Теперь приступим к поиску значения числа патронов (ammo). Первое сканирование делаем с такими же параметрами поиска, как когда мы искали здоровье.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="20_ammo_fs.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F20_ammo_fs.png&amp;hash=5e16d3541f6954096a13bbd9f68318de" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../20_ammo_fs1d1c.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F20_ammo_fs.png&amp;hash=5e16d3541f6954096a13bbd9f68318de"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/20_ammo_fs.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="20_ammo_fs.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
В данном случае мы смогли найти лишь одно значение, и это значение полосы, которая показывает число боеприпасов.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="21_ammo_bar.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F21_ammo_bar.png&amp;hash=8897b183008ff7170837163cd60c7750" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../21_ammo_bar790b.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F21_ammo_bar.png&amp;hash=8897b183008ff7170837163cd60c7750"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/21_ammo_bar.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="21_ammo_bar.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
В игре этот индикатор не появился. В отличие от полосы здоровья, он отображается только после нажатия на кнопку E или во время выстрелов.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="22_show_ammo_bar.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F22_show_ammo_bar.png&amp;hash=d0ce905264e7e5fa0c7aa3850fa9f03a" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../22_show_ammo_bar256f.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F22_show_ammo_bar.png&amp;hash=d0ce905264e7e5fa0c7aa3850fa9f03a"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/22_show_ammo_bar.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="22_show_ammo_bar.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-poisk-staticheskogo-adresa-dlya-ammo"></a>Поиск статического адреса для ammo&#8203;<a class="hoverLink" href="#-poisk-staticheskogo-adresa-dlya-ammo" title="Постоянная ссылка"></a></h3>Мы понимаем, что показания индикаторов в игре всегда сравниваются с фактическими. Если одна из полос показывает не то, что нужно, ее длина изменяется. Поэтому возвращаемся к отладчику и начинаем с аппаратного брейк‑пойнта на запись по адресу 0x365014С4. Как видим по комментариям, эта функция уже нам встречалась.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="23_ammo.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F23_ammo.png&amp;hash=3f757ddefa8b4c73f279cff1556c9655" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../23_ammo2f31.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F23_ammo.png&amp;hash=3f757ddefa8b4c73f279cff1556c9655"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/23_ammo.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="23_ammo.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
По аналогии с поиском hp, выходим из функции.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="24_ammo.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F24_ammo.png&amp;hash=90fad126bde217420de92d7967cd90ad" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../24_ammoa1be.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F24_ammo.png&amp;hash=90fad126bde217420de92d7967cd90ad"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/24_ammo.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="24_ammo.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Так как мы уже знаем, что индикатор должен получать значение где‑то раньше, нам придется пролистать окно дизассемблера выше, пока мы не увидим функцию, предположительно получающую фактическое значение ammo.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="25_ammo.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F25_ammo.png&amp;hash=33e87967c519f6a776bd87b4f68eef68" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../25_ammof385.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F25_ammo.png&amp;hash=33e87967c519f6a776bd87b4f68eef68"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/25_ammo.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="25_ammo.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Мы видим, что в этой функции мы уже были, а это значит, что она тоже получает значение, но уже ammo — 365014E0. Только какое‑то оно странное.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="26_ammo.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F26_ammo.png&amp;hash=b5cc6eb1e08b68059877cf4c32b12f72" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../26_ammodeaa.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F26_ammo.png&amp;hash=b5cc6eb1e08b68059877cf4c32b12f72"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/26_ammo.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="26_ammo.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Добавив это «странное» значение в Cheat Engine, а потом изменив его, к примеру, на 100, мы увидим, что на экране появится индикатор патронов и его значение поменяется. Значит, мы нашли адрес, в котором хранится значение ammo в игре.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="27_ammo.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F27_ammo.png&amp;hash=8c0daa2703261e96d4460ba84c30b631" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../27_ammodc71.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F27_ammo.png&amp;hash=8c0daa2703261e96d4460ba84c30b631"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/27_ammo.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="27_ammo.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Зная все смещения от статического адреса к адресу значений ammo, добавим их в CE, нажав Add Address Manually.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="28_static_addr_ct.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F28_static_addr_ct.png&amp;hash=6af63891bf7ff85cad051c893c77f1bb" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../28_static_addr_ct890c.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F28_static_addr_ct.png&amp;hash=6af63891bf7ff85cad051c893c77f1bb"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/28_static_addr_ct.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="28_static_addr_ct.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />




<blockquote data-attributes="" data-quote="" data-source=""
	class="bbCodeBlock bbCodeBlock--expandable bbCodeBlock--quote js-expandWatch">
	
	<div class="bbCodeBlock-content">
		
		<div class="bbCodeBlock-expandContent js-expandContent ">
			Скорее всего, боеприпасы в HLD представляют собой заряд энергии и поэтому хранятся в процентах, ведь при их поиске через отладчик можно было увидеть строки, содержащие слово energy. Которое намекает на то, как будет выглядеть значение в памяти. Например, игра от одной небезызвестной польской компании хранила патроны в памяти вместе, а для игрока показывала раздельно: как рожок, так и количество оставшихся патронов, поэтому при их поиске не удавалось найти каждое из значений, а нужно было искать их сумму.
		</div>
		<div class="bbCodeBlock-expandLink js-expandLink"><a role="button" tabindex="0">Нажмите, чтобы раскрыть...</a></div>
	</div>
</blockquote><br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-proverka-poluchennogo-staticheskogo-adresa"></a>ПРОВЕРКА ПОЛУЧЕННОГО СТАТИЧЕСКОГО АДРЕСА&#8203;<a class="hoverLink" href="#-proverka-poluchennogo-staticheskogo-adresa" title="Постоянная ссылка"></a></h2>Чтобы проверить, правильно ли мы определили адреса, нужно выйти в меню игры и вернуться к игровому процессу или же перезапустить игру.<br />
<br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-proverka-dlya-hp"></a>Проверка для HP&#8203;<a class="hoverLink" href="#-proverka-dlya-hp" title="Постоянная ссылка"></a></h3>Так выглядит наша cheat table для hp.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="29_hp.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F29_hp.png&amp;hash=4a2fbe504fcb9549ebbe07f8596e411d" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../29_hpfbb9.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F29_hp.png&amp;hash=4a2fbe504fcb9549ebbe07f8596e411d"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/29_hp.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="29_hp.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
А вот так она выглядит после перезапуска игры.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="30_hp.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F30_hp.png&amp;hash=fab1e96189ec7e0e8c685690b643781d" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../30_hp27d0.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F30_hp.png&amp;hash=fab1e96189ec7e0e8c685690b643781d"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/30_hp.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="30_hp.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-proverka-dlya-ammo"></a>Проверка для ammo&#8203;<a class="hoverLink" href="#-proverka-dlya-ammo" title="Постоянная ссылка"></a></h3>Так выглядит наша cheat table для ammo.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="31_ammo.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F31_ammo.png&amp;hash=370c4d0c8000870d7278b103d4a24225" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../31_ammod071.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F31_ammo.png&amp;hash=370c4d0c8000870d7278b103d4a24225"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/31_ammo.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="31_ammo.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
А вот так она выглядит после перезапуска игры.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="32_ammo.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F32_ammo.png&amp;hash=3e6c1fedc4cee6885a6acfe6e2133e34" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../32_ammo62e3.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F32_ammo.png&amp;hash=3e6c1fedc4cee6885a6acfe6e2133e34"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/32_ammo.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="32_ammo.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-kak-budet-vyglyadet-nash-ukazatel-v-c"></a>КАК БУДЕТ ВЫГЛЯДЕТЬ НАШ УКАЗАТЕЛЬ В C++&#8203;<a class="hoverLink" href="#-kak-budet-vyglyadet-nash-ukazatel-v-c" title="Постоянная ссылка"></a></h2>В нашем чите доступ к найденным адресам значений будет таким.<br />
<br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C++:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="cpp"><code>static_addr = (DWORD)GetModuleHandle(0);
static_addr = *(DWORD*)(static_addr + 0x255AF150);
static_addr = *(DWORD*)(static_addr);
static_addr = *(DWORD*)(static_addr + 0xD48);
static_addr = *(DWORD*)(static_addr + 0x0C);
static_addr = (DWORD*)(static_addr + 0xC4);
static_addr = *(DWORD*)(*static_addr + 0x08);
static_addr = *(DWORD*)(static_addr + 0x44);
static_addr = *(DWORD*)(static_addr + 0x10);
drifter_hp = (double*)(DWORD*)*(DWORD*)(static_addr + 0x1FD8);
drifter_ammo = (double*)(DWORD*)*(DWORD*)(static_addr + 0x268C);</code></pre>
	</div>
</div><br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-napisaniye-treinera"></a>НАПИСАНИЕ ТРЕЙНЕРА&#8203;<a class="hoverLink" href="#-napisaniye-treinera" title="Постоянная ссылка"></a></h2>По принципу действия читы можно разделить на две группы: внутренние и внешние. Внешние читы — это отдельное приложение, запущенное в системе в виде процесса. Внутренние читы обычно реализованы как динамическая библиотека, внедряемая в процесс игры.<br />
<br />
Мы будем писать внутренний чит, поэтому нам понадобится не только сама библиотека, но и инжектор, который внедрит нашу библиотеку в процесс игры. Инжектор получит список процессов, найдет процесс игры, выделит в ней память, в которую запишет наш внутренний чит, а после создаст удаленный поток внутри игры для выполнения кода нашего чита.<br />
 <br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-injector"></a>Injector&#8203;<a class="hoverLink" href="#-injector" title="Постоянная ссылка"></a></h3>Код нашего инжектора выглядит следующим образом.<br />
<br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C++:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="cpp"><code>#include &lt;windows.h&gt;
#include &lt;tlhelp32.h&gt;
// Имя внедряемой dll
const char* dll_path = &quot;internal_trainer_hld.dll&quot;;
int main(void) {
    HANDLE process;
    void* alloc_base_addr;
    HMODULE kernel32_base;
    LPTHREAD_START_ROUTINE LoadLibraryA_addr;
    HANDLE thread;
    HANDLE snapshot = 0;
    PROCESSENTRY32 pe32 = { 0 };
    DWORD exitCode = 0;
    pe32.dwSize = sizeof(PROCESSENTRY32);
    // Получение снапшота текущих процессов
    snapshot = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0);
    Process32First(snapshot, &amp;pe32);
    do {
        // Мы хотим работать только с процессом HyperLightDrifter
        if (wcscmp(pe32.szExeFile, L&quot;HyperLightDrifter.exe&quot;) == 0) {
            // Во-первых, нам нужно получить дескриптор процесса, чтобы использовать его для следующих вызовов
            process = OpenProcess(PROCESS_ALL_ACCESS, true, pe32.th32ProcessID);
            // Чтобы не повредить память, выделим дополнительную память для хранения нашего пути к DLL
            alloc_base_addr = VirtualAllocEx(process, NULL, strlen(dll_path) + 1, MEM_COMMIT, PAGE_READWRITE);
            // Записываем путь к нашей DLL в память, которую мы только что выделили внутри игры
            WriteProcessMemory(process, alloc_base_addr, dll_path, strlen(dll_path) + 1, NULL);
            // Создаем удаленный поток внутри игры, который будет выполнять LoadLibraryA
            // К этому вызову LoadLibraryA мы передадим полный путь к нашей DLL, которую мы прописали в игру
            kernel32_base = GetModuleHandle(L&quot;kernel32.dll&quot;);
            LoadLibraryA_addr = (LPTHREAD_START_ROUTINE)GetProcAddress(kernel32_base, &quot;LoadLibraryA&quot;);
            thread = CreateRemoteThread(process, NULL, 0, LoadLibraryA_addr, alloc_base_addr, 0, NULL);
            // Чтобы убедиться, что наша DLL внедрена, мы можем использовать следующие два вызова для синхронизации
            WaitForSingleObject(thread, INFINITE);
            GetExitCodeThread(thread, &amp;exitCode);
            // Наконец, освобождаем память и очищаем дескрипторы процесса
            VirtualFreeEx(process, alloc_base_addr, 0, MEM_RELEASE);
            CloseHandle(thread);
            CloseHandle(process);
            break;
        }
    // Перебор процессов из снапшота
    } while (Process32Next(snapshot, &amp;pe32));
    return 0;
}</code></pre>
	</div>
</div><br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-dll"></a>DLL&#8203;<a class="hoverLink" href="#-dll" title="Постоянная ссылка"></a></h3>Наша библиотека будет состоять из следующих модулей:<br />
<ul>
<li data-xf-list-type="ul">главный модуль (dllmain.cpp);</li>
<li data-xf-list-type="ul">модуль хуков (directx_hook.cpp и directx_hook.h);</li>
<li data-xf-list-type="ul">модуль обратных вызовов (directx_hook_callbacks.h);</li>
<li data-xf-list-type="ul">модуль работы с памятью (memory.h).</li>
</ul><h4 class="bbHeading"><a class="u-anchorTarget" name="-glavnyi-modul"></a>Главный модуль&#8203;<a class="hoverLink" href="#-glavnyi-modul" title="Постоянная ссылка"></a></h4>При загрузке нашей библиотеки через функцию LoadLibraryA создаетcя поток, в котором будет происходить вызов двух функций. Первая установит хук, а вторая отрисует меню нашего чита и изменит ранее найденные значения через нажатие клавиш.<br />
<br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C++:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="cpp"><code>#include &quot;directx_hook.h&quot;
double full_health = 6;
double full_ammo = 100;
DWORD static_addr = 0;
DWORD *drifter = 0;
// Получаем player class
void get_player_class() {
    if (drifter == NULL) {
        static_addr = (DWORD)GetModuleHandle(0);
        static_addr = *(DWORD*)(static_addr + 0x255AF150);
        static_addr = *(DWORD*)static_addr;
        static_addr = *(DWORD*)(static_addr + 0xD48);
        static_addr = *(DWORD*)(static_addr + 0x0C);
        drifter = (DWORD*)(static_addr + 0xC4);
    }
}
// Отрисовываем наше меню
void draw_menu(directx_hook* hook) {
    hook-&gt;draw_text(10, 70, D3DCOLOR_ARGB(255, 255, 255, 255), &quot;Full health press F1&quot;);
    hook-&gt;draw_text(10, 90, D3DCOLOR_ARGB(255, 255, 255, 255), &quot;Full ammo press F2&quot;);
}
// Изменяем по нажатию клавиш значения hp и ammo
void run(directx_hook* hook) {
    double* drifter_hp;
    double* drifter_ammo;
    draw_menu(hook);
    get_player_class();
    if (*drifter) {
        static_addr = *(DWORD*)(*drifter + 0x08);
        static_addr = *(DWORD*)(static_addr + 0x44);
        static_addr = *(DWORD*)(static_addr + 0x10);
        drifter_hp = (double*)(DWORD*)*(DWORD*)(static_addr + 0x1FD8);
        drifter_ammo = (double*)(DWORD*)*(DWORD*)(static_addr + 0x268C);
        if (GetAsyncKeyState(VK_F1) &amp; 1) {
            *drifter_hp = full_health;
        }
        if (GetAsyncKeyState(VK_F2) &amp; 1) {
            *drifter_ammo = full_ammo;
        }
    }
}
void injected_thread() {
    // Добавляем нашу функцию, которая будет вызываться при inline hook
    directx_hook::get_instance()-&gt;add_callback(&amp;run);
    // Начинаем работу по установке inline hook
    directx_hook::get_instance()-&gt;initialize();
}
BOOL APIENTRY DllMain(HMODULE hModule, DWORD  ul_reason_for_call, LPVOID lpReserved) {
    switch (ul_reason_for_call) {
        case DLL_PROCESS_ATTACH:
            CreateThread(0, 0, (LPTHREAD_START_ROUTINE)injected_thread, 0, 0, 0);
        case DLL_THREAD_ATTACH:
        case DLL_THREAD_DETACH:
        case DLL_PROCESS_DETACH:
            break;
    }
    return TRUE;
}</code></pre>
	</div>
</div><br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-modul-khukov"></a>Модуль хуков&#8203;<a class="hoverLink" href="#-modul-khukov" title="Постоянная ссылка"></a></h4>Это модуль, в котором будет выполняться перехват функции <a href="https://docs.microsoft.com/en-us/windows/win32/api/d3d9/nf-d3d9-idirect3ddevice9-endscene" target="_blank" class="link link--external" rel="noopener">EndScene</a> — она отвечает за отрисовку сцен. Это необходимо для того, чтобы отрисовывать наше меню.<br />
<br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-khuki"></a>Хуки&#8203;<a class="hoverLink" href="#-khuki" title="Постоянная ссылка"></a></h4>Есть множество <a href="https://www.unknowncheats.me/forum/general-programming-and-reversing/154643-different-ways-hooking.html" target="_blank" class="link link--external" rel="noopener">видов хуков</a>, но мы будем использовать самый простой из этого списка — byte patching/inline hook. Выбор объясняется просто: наша игра поддерживает только одиночный режим, а другие хуки служат для обхода античитов в многопользовательских играх и нам попросту не нужны.<br />
<br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C++:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="cpp"><code>#pragma once
#include &lt;windows.h&gt;
#include &lt;stdint.h&gt;
#include &lt;d3d9.h&gt;
#include &lt;d3dx9.h&gt;
#pragma comment(lib, &quot;d3d9.lib&quot;)
#pragma comment(lib, &quot;d3dx9.lib&quot;)
typedef HRESULT(WINAPI* _endscene)(LPDIRECT3DDEVICE9 pDevice);
class directx_hook;
typedef void (*_callback_run)(directx_hook* hook);
class directx_hook {
private:
    static directx_hook* instance;
    static uint8_t* orig_endscene_code;
    static uint32_t endscene_addr;
    static LPDIRECT3DDEVICE9 hooked_device;
    static bool hook_ready_pre, hook_ready;
    _callback_run callback_run;
    LPD3DXFONT font;
    void set_hooks();
    uint32_t locate_endscene();
public:
    static _endscene orig_endscene;
    static directx_hook* get_instance() {
        if (!directx_hook::instance) {
            directx_hook::instance = new directx_hook();
        }
        return directx_hook::instance;
    }
    static void delete_instance() {
        if (directx_hook::instance) {
            delete directx_hook::instance;
            directx_hook::instance = NULL;
        }
    }
    void initialize();
    void add_callback(_callback_run cb);
    void draw_text(uint32_t x, uint32_t y, D3DCOLOR color, const char* text);
    uint32_t init_hook_callback(LPDIRECT3DDEVICE9 device);
    HRESULT WINAPI endscene_hook_callback(LPDIRECT3DDEVICE9 pDevice);
};</code></pre>
	</div>
</div><br />
В остальных модулях мы выполним следующие действия:<br />
<ul>
<li data-xf-list-type="ul">создадим временное устройство Direct3D и получим его таблицы VF, чтобы найти адрес функции EndScene;</li>
<li data-xf-list-type="ul">установим временный хук на функцию EndScene;</li>
<li data-xf-list-type="ul">при выполнении хука выполним обратный вызов и передадим ему адрес устройства, которое использовалось для вызова функции EndScene. Затем удалим хук и восстановим нормальное выполнение функции EndScene;</li>
<li data-xf-list-type="ul">выполним нашу функцию run;</li>
<li data-xf-list-type="ul">вернемся ко второму пункту.</li>
</ul>Все это делается, чтобы написанный нами код отрисовывал меню чита и по нажатию кнопок изменялись значения hp и ammo.<br />
<br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C++:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="cpp"><code>#include &quot;directx_hook.h&quot;
#include &quot;directx_hook_callbacks.h&quot;
#include &quot;memory.h&quot;
directx_hook* directx_hook::instance = NULL;
uint8_t* directx_hook::orig_endscene_code = NULL;
uint32_t directx_hook::endscene_addr = NULL;
LPDIRECT3DDEVICE9 directx_hook::hooked_device = NULL;
_endscene directx_hook::orig_endscene = NULL;
bool directx_hook::hook_ready = false;
bool directx_hook::hook_ready_pre = false;
void directx_hook::initialize() {
    // Проверяем, находится ли в адресном пространстве d3d9.dll
    while (!GetModuleHandleA(&quot;d3d9.dll&quot;)) {
        Sleep(10);
    }
    // Получаем адрес функции endscene
    directx_hook::endscene_addr = this-&gt;locate_endscene();
    // Проверяем, успешно ли получен адрес EndScene
    // Если да, то устанавливаем наш inline hook
    if (directx_hook::endscene_addr) {
        directx_hook::orig_endscene_code = hook_jmp(directx_hook::endscene_addr, (uint32_t)&amp;endscene_trampoline);
    }
    // Ждем
    while (!directx_hook::hook_ready_pre) {
        Sleep(10);
    }
    // Сигнализируем, что наш хук готов
    directx_hook::hook_ready = true;
}
// Заменить присвоением
// Как только наш хук будет установлен
void directx_hook::add_callback(_callback_run cb) {
    if (!directx_hook::hook_ready)
        callback_run = cb;
}
// Обертка для отрисовки текста
void directx_hook::draw_text(uint32_t x, uint32_t y, D3DCOLOR color, const char* text) {
    RECT rect;
    rect.left = x + 1;
    rect.top = y + 1;
    rect.right = rect.left + 1000;
    rect.bottom = rect.top + 1000;
    this-&gt;font-&gt;DrawTextA(NULL, text, -1, &amp;rect, 0, color);
}
uint32_t directx_hook::init_hook_callback(LPDIRECT3DDEVICE9 device) {
    directx_hook::hooked_device = device;
    while (directx_hook::orig_endscene_code == NULL) {}
    unhook_jmp(directx_hook::endscene_addr, orig_endscene_code);
    D3DXCreateFont(directx_hook::hooked_device, 15, 0, FW_BOLD, 1, 0, DEFAULT_CHARSET, OUT_DEFAULT_PRECIS, ANTIALIASED_QUALITY, DEFAULT_PITCH | FF_DONTCARE, L&quot;Arial&quot;, &amp;this-&gt;font);
    this-&gt;set_hooks();
    directx_hook::hook_ready_pre = true;
    return directx_hook::endscene_addr;
}
HRESULT WINAPI directx_hook::endscene_hook_callback(LPDIRECT3DDEVICE9 pDevice) {
    HRESULT result;
    callback_run(this);
    result = orig_endscene(pDevice);
    this-&gt;set_hooks();
    return result;
}
void directx_hook::set_hooks() {
    uint32_t ret;
    // Устанавливаем хук
    ret = hook_vf((uint32_t)directx_hook::hooked_device, 42, (uint32_t)&amp;my_endscene);
    if (ret != (uint32_t)&amp;my_endscene) {
        *(uint32_t*)&amp;directx_hook::orig_endscene = ret;
    }
}
uint32_t directx_hook::locate_endscene() {
    LPDIRECT3D9 pD3D;
    D3DPRESENT_PARAMETERS d3dpp;
    LPDIRECT3DDEVICE9 pd3dDevice;
    uint32_t endscene_addr;
    // Cоздаем временный объект D3D9 и проходимся по виртуальной таблице, чтобы получить адрес метода EndScene
    pD3D = Direct3DCreate9(D3D_SDK_VERSION);
    if (!pD3D) {
        return 0;
    }
    ZeroMemory(&amp;d3dpp, sizeof(d3dpp));
    d3dpp.Windowed = TRUE;
    d3dpp.SwapEffect = D3DSWAPEFFECT_DISCARD;
    d3dpp.hDeviceWindow = GetForegroundWindow();
    HRESULT result = pD3D-&gt;CreateDevice(D3DADAPTER_DEFAULT, D3DDEVTYPE_HAL, d3dpp.hDeviceWindow, D3DCREATE_SOFTWARE_VERTEXPROCESSING, &amp;d3dpp, &amp;pd3dDevice);
    if (FAILED(result) || !pd3dDevice) {
        pD3D-&gt;Release();
        return 0;
    }
    // Получаем адрес, который хранится в rdata
    endscene_addr = get_vf((uint32_t)pd3dDevice, 42);
    // Очищаем
    pD3D-&gt;Release();
    pd3dDevice-&gt;Release();
    return endscene_addr;
}</code></pre>
	</div>
</div><br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-modul-obratnykh-vyzovov"></a>Модуль обратных вызовов&#8203;<a class="hoverLink" href="#-modul-obratnykh-vyzovov" title="Постоянная ссылка"></a></h3>Это модуль, в котором реализована функция inline hook — endscene_trampoline, a также функции init_endscene, на которую хук передаст управление. Она, в свою очередь, запустит функцию init_hook_callback для установки хука. А функция my_endscene вызовет функцию endscene_hook_callback, которая отвечает за запуск функции run.<br />
<br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C++:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="cpp"><code>#include &quot;directx_hook.h&quot;
DWORD WINAPI init_endscene(LPDIRECT3DDEVICE9 device_addr) {
    return directx_hook::get_instance()-&gt;init_hook_callback(device_addr);
}
HRESULT WINAPI my_endscene(LPDIRECT3DDEVICE9 pDevice) {
    return directx_hook::get_instance()-&gt;endscene_hook_callback(pDevice);
}
// Наш inline hook
__declspec(naked) void endscene_trampoline() {
    __asm {
        MOV EAX, DWORD PTR SS:[ESP + 0x4]
        PUSH EAX
        CALL init_endscene
        JMP EAX
    }
}</code></pre>
	</div>
</div><br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-modul-raboty-s-pamyat-yu"></a>Модуль работы с памятью&#8203;<a class="hoverLink" href="#-modul-raboty-s-pamyat-yu" title="Постоянная ссылка"></a></h3>Функция Direct3DCreate9 возвращает указатель на интерфейс IDirect3D9, который содержит таблицу виртуальных функций (далее VMT). Среди них по индексу 42 располагается нужная нам функция EndScene. Поэтому напишем несколько функций, которые позволят получить VMT, а также писать, читать и изменять права доступа памяти. Более подробно о таблице виртуальных функций рассказано <a href="https://ru.wikipedia.org/wiki/Таблица_виртуальных_методов" target="_blank" class="link link--external" rel="noopener">в Википедии</a>.<br />
<br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C++:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="cpp"><code>#pragma once
#include &lt;windows.h&gt;
#include &lt;stdint.h&gt;
// Чтение из памяти
template&lt;typename T&gt;
T read_memory(uint32_t address) {
    return *((T*)address);
}
// Запись в память
template&lt;typename T&gt;
void write_memory(uint32_t address, T value) {
    *((T*)address) = value;
}
template&lt;typename T&gt;
uint32_t protect_memory(uint32_t address, uint32_t prot) {
    DWORD old_prot;
    VirtualProtect((LPVOID)address, sizeof(T), prot, &amp;old_prot);
    return old_prot;
}
// Получение адреса EndScene в VMT
uint32_t get_vf(uint32_t class_inst, uint32_t func_idx) {
    uint32_t vf_table;
    uint32_t hook_addr;
    vf_table = read_memory&lt;uint32_t&gt;(class_inst);
    hook_addr = vf_table + func_idx * sizeof(uint32_t);
    return read_memory&lt;uint32_t&gt;(hook_addr);
}
// Получение адреса EndScene из VMT
uint32_t hook_vf(uint32_t class_inst, uint32_t func_idx, uint32_t new_func) {
    uint32_t vf_table;
    uint32_t hook_addr;
    uint32_t old_prot;
    uint32_t orig_func;
    vf_table = read_memory&lt;uint32_t&gt;(class_inst);
    hook_addr = vf_table + func_idx * sizeof(uint32_t);
    old_prot = protect_memory&lt;uint32_t&gt;(hook_addr, PAGE_READWRITE);
    orig_func = read_memory&lt;uint32_t&gt;(hook_addr);
    write_memory&lt;uint32_t&gt;(hook_addr, new_func);
    protect_memory&lt;uint32_t&gt;(hook_addr, old_prot);
    return orig_func;
}
// Установка хука
unsigned char* hook_jmp(uint32_t hook, uint32_t new_func) {
    uint32_t new_offest;
    uint32_t old_prot;
    uint8_t* originals = new uint8_t[5];
    // Вычисляем смещение до нашего inline hook
    new_offest = new_func - hook - 5;
    // Чтобы не произошло краша, так как все виртуальные функции
    // хранятся в rdata, изменяем права доступа по адресу функции
    old_prot = protect_memory&lt;uint8_t[5]&gt;(hook, PAGE_EXECUTE_READWRITE);
    // Сохраняем оригинальный адрес
    for (uint8_t i = 0; i &lt; 5; i++) {
        originals[i] = read_memory&lt;uint8_t&gt;(hook + i);
    }
    // Перезаписываем нашим кодом
    write_memory&lt;uint8_t&gt;(hook, 0xE9);
    write_memory&lt;uint32_t&gt;(hook + 1, new_offest);
    // Восстанавливаем прежние права
    protect_memory&lt;uint8_t[5]&gt;(hook + 1, old_prot);
    return originals;
}
// Снимаем хук
void unhook_jmp(uint32_t hook, uint8_t* originals) {
    uint32_t old_prot;
    // Чтобы не произошло краша, изменяем права доступа по адресу функции
    old_prot = protect_memory&lt;uint8_t[5]&gt;(hook, PAGE_EXECUTE_READWRITE);
    // Записываем прежний адрес
    for (unsigned int i = 0; i &lt; 5; i++) {
        write_memory&lt;uint8_t&gt;(hook + i, originals[i]);
    }
    // Восстанавливаем прежние права
    protect_memory&lt;uint8_t[5]&gt;(hook + 1, old_prot);
    delete[] originals;
}</code></pre>
	</div>
</div><br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-proverka-rabotosposobnosti"></a>ПРОВЕРКА РАБОТОСПОСОБНОСТИ&#8203;<a class="hoverLink" href="#-proverka-rabotosposobnosti" title="Постоянная ссылка"></a></h2>Запускаем наш чит, получаем урон, тратим боезапас, нажимаем F1-F2 и видим, как значения hp и ammo становятся максимальными. Значит, чит работает!<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="33_check.png"
		data-src="/proxy.php?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F33_check.png&amp;hash=bbe1adf58efc1bdf86f5b2ce3af4c79b" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../33_check1065.png?image=https%3A%2F%2Fxakep.ru%2Fwp-content%2Fuploads%2F2022%2F03%2F378874%2F33_check.png&amp;hash=bbe1adf58efc1bdf86f5b2ce3af4c79b"
			data-url="../../../xakep.ru/wp-content/uploads/2022/03/378874/33_check.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="33_check.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-vyvody"></a>ВЫВОДЫ&#8203;<a class="hoverLink" href="#-vyvody" title="Постоянная ссылка"></a></h2>С помощью Cheat Engine мы научились искать фактическое значение той переменной, которую мы хотим модифицировать. Затем с помощью отладчика мы нашли статические адреса для значений, определенных с помощью CE, при этом разобрались, как работает игровой движок. Например, есть общая функция для получения значений игрока, таких как hp и ammo, есть общая функция для записи изменений этих значений. С этими знаниями поиск других значений будет гораздо проще и быстрее. А написанный нами код можно использовать как основу, базу для читов к другим играм.<br />
<br />
Несколько полезных ссылок по теме взлома игр и написанию читов:<br />
<ul>
<li data-xf-list-type="ul"><a href="https://github.com/dsasmblr/game-hacking" target="_blank" class="link link--external" rel="noopener">github.com/dsasmblr/game-hacking</a></li>
<li data-xf-list-type="ul"><a href="https://github.com/dsasmblr/hacking-online-games" target="_blank" class="link link--external" rel="noopener">github.com/dsasmblr/hacking-online-games</a></li>
</ul><b><u>Классная статья!</u></b></div>

						

							<h2>Как создать свой чит/трейнер - 2</h2>

							

							

							<div class="bbWrapper">Продолжение крутой статьи:Цикл статей. Как создать свой чит/трейнер<br />
<br />
Автор реально постарался всё расписать, респект:<a href="https://xakep.ru/2023/03/28/aimbot-esp-cheat/" target="_blank" class="link link--external" rel="noopener">Чит своими руками. Смотрим сквозь стены и делаем автоприцеливание для 3D-шутера</a><br />
<br />
Сегодня мы с тобой напишем чит для сетевого шутера. Мы реализуем хаки типа extrasensory perception (ESP) и aimbot. ESP отображает информацию об игроках над их головами. Здесь может быть здоровье игрока, имя или текущее используемое оружие. Aimbot автоматически нацеливается на других игроков.<br />
<br />




<blockquote data-attributes="" data-quote="" data-source=""
	class="bbCodeBlock bbCodeBlock--expandable bbCodeBlock--quote js-expandWatch">
	
	<div class="bbCodeBlock-content">
		
		<div class="bbCodeBlock-expandContent js-expandContent ">
			В предыдущей статье «<a href="https://xakep.ru/2022/03/22/diy-trainer/" target="_blank" class="link link--external" rel="nofollow ugc noopener">Чит своими руками. Вскрываем компьютерную игру и пишем трейнер на C++</a>» я заложил базу для будущих читов и объяснил основные понятия. Рекомендую ознакомиться с ней, чтобы лучше понимать, что мы будем сегодня делать.
		</div>
		<div class="bbCodeBlock-expandLink js-expandLink"><a role="button" tabindex="0">Нажмите, чтобы раскрыть...</a></div>
	</div>
</blockquote><br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-vybor-igry"></a>ВЫБОР ИГРЫ&#8203;<a class="hoverLink" href="#-vybor-igry" title="Постоянная ссылка"></a></h2>Мой выбор пал на <a href="https://assault.cubers.net/" target="_blank" class="link link--external" rel="noopener">AssaultCube</a> — бесплатный многопользовательский шутер от первого лица, основанный на движке CUBE. Используется графическая библиотека OpenGL.<br />
<br />




<blockquote data-attributes="" data-quote="" data-source=""
	class="bbCodeBlock bbCodeBlock--expandable bbCodeBlock--quote js-expandWatch">
	
	<div class="bbCodeBlock-content">
		
		<div class="bbCodeBlock-expandContent js-expandContent ">
			Использование читов нарушает пользовательское соглашение игры и может повлечь юридическое преследование. Мы обсуждаем здесь создание чита исключительно в целях обучения. Автор и редакция не несут ответственности за возможные последствия применения и распространения такого ПО.
		</div>
		<div class="bbCodeBlock-expandLink js-expandLink"><a role="button" tabindex="0">Нажмите, чтобы раскрыть...</a></div>
	</div>
</blockquote><br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-poisk-znachenii"></a>ПОИСК ЗНАЧЕНИЙ&#8203;<a class="hoverLink" href="#-poisk-znachenii" title="Постоянная ссылка"></a></h2>Для начала запустим игру и в настройках выберем оконный режим, ведь нам нужно, чтобы на экране помещалось еще что‑то, кроме игры.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1-windowed.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30402%2F1-windowed.png&amp;hash=fccbd947b6ee689fb9b78f41b97294dd" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../1-windowede2c4.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30402%2F1-windowed.png&amp;hash=fccbd947b6ee689fb9b78f41b97294dd"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30402/1-windowed.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1-windowed.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Также создадим локальный сервер. Нужно будет настроить его, а именно задать время игры, чтобы таймер не торопил нас. Конфиг лежит по следующему пути:<br />
<br />
C:\Program Files (x86)\AssaultCube 1.3.0.2\config\maprot.cfg<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="2-default-settings-maps.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30401%2F2-default-settings-maps.png&amp;hash=d20ff047fd6da836cac16a4c5ab45932" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../2-default-settings-mapsc277.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30401%2F2-default-settings-maps.png&amp;hash=d20ff047fd6da836cac16a4c5ab45932"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30401/2-default-settings-maps.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="2-default-settings-maps.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Поменяем время на максимальное — 100 минут.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="3-new-settings-maps.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30400%2F3-new-settings-maps.png&amp;hash=e8936f941bc6b5cce48a9fa796899b6c" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../3-new-settings-mapsd9de.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30400%2F3-new-settings-maps.png&amp;hash=e8936f941bc6b5cce48a9fa796899b6c"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30400/3-new-settings-maps.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="3-new-settings-maps.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
А после уже запускаем сам сервер.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="4-start-server.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30399%2F4-start-server.png&amp;hash=a7a7d6d15fa10c0ee1548aa1871718e7" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../4-start-serverec99.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30399%2F4-start-server.png&amp;hash=a7a7d6d15fa10c0ee1548aa1871718e7"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30399/4-start-server.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="4-start-server.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
И подключаемся к нему.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="5-join-server.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30398%2F5-join-server.png&amp;hash=fac27f3d94e92c6e9df8c97a6ddd6102" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../5-join-server667d.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30398%2F5-join-server.png&amp;hash=fac27f3d94e92c6e9df8c97a6ddd6102"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30398/5-join-server.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="5-join-server.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Запускаем <a href="https://www.cheatengine.org/downloads.php" target="_blank" class="link link--external" rel="noopener">Cheat Engine</a> и подключаемся к процессу игры.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="6-attach-process.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30356%2F6-attach-process.png&amp;hash=ca9164601f3353bc3810e72eebd15535" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../6-attach-process827d.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30356%2F6-attach-process.png&amp;hash=ca9164601f3353bc3810e72eebd15535"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30356/6-attach-process.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="6-attach-process.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-poisk-pokazatelya-zdorov-ya"></a>Поиск показателя здоровья&#8203;<a class="hoverLink" href="#-poisk-pokazatelya-zdorov-ya" title="Постоянная ссылка"></a></h3>Для тестирования нам понадобится второй игрок. Можешь подключиться со второго устройства или, как сделал я, из виртуальной машины. Для поиска показателя здоровья выставляем параметры сканирования в Cheat Engine и вторым игроком наносим урон первому. После этого ищем здоровье в Cheat Engine.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="7-get-damage.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30397%2F7-get-damage.png&amp;hash=a2e11639ebac00b0944ebe899295f105" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../7-get-damagebffb.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30397%2F7-get-damage.png&amp;hash=a2e11639ebac00b0944ebe899295f105"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30397/7-get-damage.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="7-get-damage.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Будем наносить урон до тех пор, пока не найдем адрес, по которому хранится показатель здоровья нашего игрока.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="8-find-hp.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30396%2F8-find-hp.png&amp;hash=2f12431d40a37d9f64b95fdd352f43b1" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../8-find-hpc21d.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30396%2F8-find-hp.png&amp;hash=2f12431d40a37d9f64b95fdd352f43b1"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30396/8-find-hp.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="8-find-hp.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
На этом все знакомые по прошлой статье действия в Cheat Engine заканчиваются и начинаются новые. Наша цель — реализовать extrasensory perception и aimbot. Для этого нам нужно узнать класс игрока и его статический адрес. Чтобы найти класс, кликаем правой кнопкой мыши по нашему адресу и выбираем Find out what writes to this address (можно просто нажать F6).<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="9-write-address.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30395%2F9-write-address.png&amp;hash=1cfc94844794dc572bf09f68fd6f5896" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../9-write-addressed5e.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30395%2F9-write-address.png&amp;hash=1cfc94844794dc572bf09f68fd6f5896"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30395/9-write-address.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="9-write-address.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Появится новое окно, где будут отображаться инструкции, которые производят запись по нашему адресу. Чтобы они появились, снова наносим урон вторым игроком первому.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="10-player-base.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30394%2F10-player-base.png&amp;hash=7c37b50142df6f0e790cad76b58d5a65" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../10-player-baseb45e.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30394%2F10-player-base.png&amp;hash=7c37b50142df6f0e790cad76b58d5a65"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30394/10-player-base.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="10-player-base.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Показатель здоровья записывает всего одна инструкция, она расположена по смещению 0xEC. Значит, значение, хранящееся в регистре edx, — это адрес класса игрока (но адрес в куче, а не статический). Поэтому добавим его вручную.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="11-add-player.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30393%2F11-add-player.png&amp;hash=8762f4115bc9032ce935d8bb63b5db1a" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../11-add-playerd47e.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30393%2F11-add-player.png&amp;hash=8762f4115bc9032ce935d8bb63b5db1a"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30393/11-add-player.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="11-add-player.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-poisk-staticheskogo-adresa-ob-yekta-igroka"></a>Поиск статического адреса объекта игрока&#8203;<a class="hoverLink" href="#-poisk-staticheskogo-adresa-ob-yekta-igroka" title="Постоянная ссылка"></a></h3>В прошлый раз я использовал отладчик, чтобы наглядно показать, что собой представляет статический адрес. В этот раз для поиска статического адреса мы будем использовать Cheat Engine. Жмем на ранее добавленный адрес 0x6AED20 правой кнопкой мыши и выбираем Pointer scan for this address.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="12-pointerscan.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30392%2F12-pointerscan.png&amp;hash=692d95a7a4fcd9b0b87c4b1a6ef4043e" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../12-pointerscan7527.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30392%2F12-pointerscan.png&amp;hash=692d95a7a4fcd9b0b87c4b1a6ef4043e"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30392/12-pointerscan.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="12-pointerscan.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Как видишь, у нас есть множество параметров для поиска указателя, но нас интересует Max level. Это значение отвечает за то, сколько раз будет разыменован наш указатель (статический адрес). Оно‑то и поможет нам получить искомый адрес.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="13-default-pointerscan-option.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30391%2F13-default-pointerscan-option.png&amp;hash=300355b42bf591f66083e47b60d90ea9" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../13-default-pointerscan-optionc76a.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30391%2F13-default-pointerscan-option.png&amp;hash=300355b42bf591f66083e47b60d90ea9"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30391/13-default-pointerscan-option.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="13-default-pointerscan-option.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Исполняемый файл игры занимает мало, и кода в нем тоже негусто. Это наводит на мысль, что классов и структур в игре не так много и не будет большого количества смещений. Поэтому глубину поиска мы установим равной единице.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="14-new-pointerscan-option.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30390%2F14-new-pointerscan-option.png&amp;hash=1bab8c4b4199cd5332bafa95822bb750" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../14-new-pointerscan-option2aff.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30390%2F14-new-pointerscan-option.png&amp;hash=1bab8c4b4199cd5332bafa95822bb750"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30390/14-new-pointerscan-option.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="14-new-pointerscan-option.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Мы видим следующий результат. Об адресах вида &quot;ac_client.exe&quot;+YYYYYYYY мы уже писали в прошлой статье. Именно они нам и понадобятся. А вот адреса формата &quot;THREADSTACKX&quot;-YYYYYYYY говорят нам о том, что искомый нами адрес был найден в стеке.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="15-pointerscan-result.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30389%2F15-pointerscan-result.png&amp;hash=f5371241227bfeef7980137e9128db77" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../15-pointerscan-result2da0.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30389%2F15-pointerscan-result.png&amp;hash=f5371241227bfeef7980137e9128db77"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30389/15-pointerscan-result.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="15-pointerscan-result.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Добавим найденные пять адресов в список.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="16-added-ptrs.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30388%2F16-added-ptrs.png&amp;hash=540449cd7d91fcc439c5d0857d1c56a4" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../16-added-ptrscbd0.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30388%2F16-added-ptrs.png&amp;hash=540449cd7d91fcc439c5d0857d1c56a4"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30388/16-added-ptrs.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="16-added-ptrs.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
И выставим для каждого адреса смещение до показателей здоровья.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="17-add-offset-hp.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30387%2F17-add-offset-hp.png&amp;hash=58e60adf7cce302fbbf07841628e9aaa" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../17-add-offset-hpf6b3.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30387%2F17-add-offset-hp.png&amp;hash=58e60adf7cce302fbbf07841628e9aaa"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30387/17-add-offset-hp.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="17-add-offset-hp.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Далее перезапускаем игру, и Cheat Engine предложит сохранить наши адреса. Мы их сохраняем, чтобы загрузить при повторном подключении.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="18-keep-list.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30386%2F18-keep-list.png&amp;hash=868b50cdf0bd646658aafe4415ced9c5" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../18-keep-list0627.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30386%2F18-keep-list.png&amp;hash=868b50cdf0bd646658aafe4415ced9c5"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30386/18-keep-list.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="18-keep-list.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
После переподключения к игре в списке адресов Cheat Engine видим, что только два адреса указывают на показатель здоровья: &quot;ac_client.exe&quot;+0017E0A8 и &quot;ac_client.exe&quot;+0018AC00.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="19-reattach.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30385%2F19-reattach.png&amp;hash=5bb4a24e9a1081b757580a012fc2dbf3" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../19-reattach7441.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30385%2F19-reattach.png&amp;hash=5bb4a24e9a1081b757580a012fc2dbf3"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30385/19-reattach.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="19-reattach.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Попробуем повторно получить урон и посмотреть, что будет с другими адресами. Как видим, еще в двух адресах появился наш показатель здоровья. Значит, в списке мы оставляем только два упомянутых ранее адреса.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="20-base-damage.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30384%2F20-base-damage.png&amp;hash=64fd16bac26804f2176a7b9ee3de0c90" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../20-base-damage515c.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30384%2F20-base-damage.png&amp;hash=64fd16bac26804f2176a7b9ee3de0c90"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30384/20-base-damage.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="20-base-damage.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Добавим статический адрес &quot;ac_client.exe&quot;+0017E0A8 под именем Player_ptr_1.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="21-player-ptr-1.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30381%2F21-player-ptr-1.png&amp;hash=d3bfafca0c5d3b710a93c4455164bd43" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../21-player-ptr-1c2cc.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30381%2F21-player-ptr-1.png&amp;hash=d3bfafca0c5d3b710a93c4455164bd43"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30381/21-player-ptr-1.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="21-player-ptr-1.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Добавим статический адрес &quot;ac_client.exe&quot;+0018AC00 под именем Player_ptr_2.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="22-player-ptr-2.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30380%2F22-player-ptr-2.png&amp;hash=ec4d1e349979f894540da0a873c9954d" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../22-player-ptr-2f83e.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30380%2F22-player-ptr-2.png&amp;hash=ec4d1e349979f894540da0a873c9954d"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30380/22-player-ptr-2.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="22-player-ptr-2.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-klass-igroka"></a>Класс игрока&#8203;<a class="hoverLink" href="#-klass-igroka" title="Постоянная ссылка"></a></h3>Предположим, что статический адрес Player_ptr_1 — тот, что мы ищем (что на самом деле не так, правильным статическим адресом будет Player_ptr_2, но в этом мы убедимся позже). Чтобы просмотреть класс игрока в памяти, нажимаем правой кнопкой мыши на адрес и выбираем Browse this memory region (или жмем Ctrl-B).<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="23-browse-region-memory.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30379%2F23-browse-region-memory.png&amp;hash=30ed2c721fe0722c42e506d1b9e40717" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../23-browse-region-memory5082.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30379%2F23-browse-region-memory.png&amp;hash=30ed2c721fe0722c42e506d1b9e40717"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30379/23-browse-region-memory.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="23-browse-region-memory.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
К счастью, у Cheat Engine есть инструмент, который позволяет нам лучше визуализировать структуры памяти, а не просматривать байты в дампе. Просто жми правой кнопкой мыши по выделенному байту и выбирай Open in dissect data/structure.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="24-open-dissect-structure.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30378%2F24-open-dissect-structure.png&amp;hash=8f33635fde271151ad909ad5442aabd2" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../24-open-dissect-structure578c.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30378%2F24-open-dissect-structure.png&amp;hash=8f33635fde271151ad909ad5442aabd2"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30378/24-open-dissect-structure.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="24-open-dissect-structure.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Откроется новое окно с адресом выбранного байта. Нажми Structures, затем Define new structure (или Ctrl-N).<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="25-dissect-structure.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30343%2F25-dissect-structure.png&amp;hash=1ccd59569586f5669b91a88545d0cea4" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../25-dissect-structure28e6.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30343%2F25-dissect-structure.png&amp;hash=1ccd59569586f5669b91a88545d0cea4"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30343/25-dissect-structure.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="25-dissect-structure.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Назовем структуру Player. Остальные настройки оставим по умолчанию: предположительный тип поля и размер структуры (4096).<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="26-new-structure.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30383%2F26-new-structure.png&amp;hash=8435c6ced5e806575be8b444cc102cad" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../26-new-structuref909.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30383%2F26-new-structure.png&amp;hash=8435c6ced5e806575be8b444cc102cad"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30383/26-new-structure.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="26-new-structure.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Поставив галочку Guess field type, мы попросили Cheat Engine угадать тип поля. И он неплохо с этим справился.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="27-player-dissect.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30382%2F27-player-dissect.png&amp;hash=2950211c1cfc938dba4e0e5205baea81" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../27-player-dissect2824.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30382%2F27-player-dissect.png&amp;hash=2950211c1cfc938dba4e0e5205baea81"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30382/27-player-dissect.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="27-player-dissect.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Перейдем по смещению 0xEC, чтобы убедиться, что там находится показатель здоровья нашего игрока.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="28-player-hp.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30377%2F28-player-hp.png&amp;hash=1e7bd5fa20030e6e3e22f6fca6d287ff" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../28-player-hpb48b.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30377%2F28-player-hp.png&amp;hash=1e7bd5fa20030e6e3e22f6fca6d287ff"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30377/28-player-hp.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="28-player-hp.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Также можно по смещению 0x205 обнаружить имя игрока.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="29-player-name.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30376%2F29-player-name.png&amp;hash=393db3dca6f3efc2a819f5318d8c1865" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../29-player-namec713.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30376%2F29-player-name.png&amp;hash=393db3dca6f3efc2a819f5318d8c1865"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30376/29-player-name.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="29-player-name.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
В дальнейшем нам нужен этот класс, но, к сожалению, Cheat Engine не позволяет экспортировать структуру, а делать это вручную — значит подвергать себя мучениям. Это не нужно, поскольку существует готовый инструмент — <a href="https://github.com/ReClassNET/ReClass.NET" target="_blank" class="link link--external" rel="noopener">ReClass.NET</a>. Он дает возможность напрямую выгрузить структуру в виде кода на C++. Скачиваем, устанавливаем и подключаемся к процессу игры.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="30-reclass-attach.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30375%2F30-reclass-attach.png&amp;hash=aaa3fa2c00e7a049844eea04e29aceb7" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../30-reclass-attachac5a.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30375%2F30-reclass-attach.png&amp;hash=aaa3fa2c00e7a049844eea04e29aceb7"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30375/30-reclass-attach.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="30-reclass-attach.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
После присоединения к процессу создается класс по базовому адресу 400000, он называется N0000004E. Дважды кликаем по адресу и выставляем нужный нам: 0066ED48. Аналогично изменяем имя класса на Player и добавляем для отображения еще 4096 байт.<br />
<br />
В данном контексте отображаемое количество байтов СE воспринимает как класс, который мы экспортируем. Если размер нашего класса больше, чем стандартное количество отображаемых байтов, нужно вручную увеличить размер.<br />
<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="31-reclass-conf.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30342%2F31-reclass-conf.png&amp;hash=60120d7a5fada587e07038e1ad9f2f4b" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../31-reclass-confaa0f.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30342%2F31-reclass-conf.png&amp;hash=60120d7a5fada587e07038e1ad9f2f4b"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30342/31-reclass-conf.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="31-reclass-conf.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Переходим к смещению 0xEC, к показателю здоровья. Меняем значение типа поля на DWORD (мы выставим значения типов для смещений, что позволит нам в дальнейшем экспортировать класс с нужными полями).<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="32-hp-change-type.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30374%2F32-hp-change-type.png&amp;hash=c4a143f1b787db8d9aee3518ee5f9fb7" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../32-hp-change-type28f7.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30374%2F32-hp-change-type.png&amp;hash=c4a143f1b787db8d9aee3518ee5f9fb7"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30374/32-hp-change-type.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="32-hp-change-type.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-poisk-koordinat"></a>Поиск координат&#8203;<a class="hoverLink" href="#-poisk-koordinat" title="Постоянная ссылка"></a></h3>Начиная с этого места, мы будем искать значения, нужные непосредственно для реализации ESP и aimbot. Для ESP нам понадобятся координаты самого игрока и его головы в трехмерном пространстве.<br />
<br />
Тем, кто не знает или забыл, как работает трехмерная система координат в компьютерной графике, рекомендую статью «<a href="https://habr.com/ru/post/497808/" target="_blank" class="link link--external" rel="noopener">3D своими руками</a>» на «Хабрахабре».<br />
<br />
Для реализации aimbot нам понадобятся значения тангажа (pitch), рысканья (yaw) и крена (roll). Не знаешь, что это? Давай покажу на примере игрового движка <a href="https://godotengine.org/" target="_blank" class="link link--external" rel="noopener">Godot</a>.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="33-xyz-coord.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30354%2F33-xyz-coord.png&amp;hash=82983ac5218d3e28b5ec6b2009925e83" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../33-xyz-coord018d.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30354%2F33-xyz-coord.png&amp;hash=82983ac5218d3e28b5ec6b2009925e83"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30354/33-xyz-coord.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="33-xyz-coord.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Запись координат может разниться в зависимости от движка. Часто различается направление осей и то, какая из них считается высотой.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="34-diff-coords.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30355%2F34-diff-coords.png&amp;hash=8bd775973615665ba9e1ab1cb56c7596" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../34-diff-coordsa5c7.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30355%2F34-diff-coords.png&amp;hash=8bd775973615665ba9e1ab1cb56c7596"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30355/34-diff-coords.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="34-diff-coords.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Для демонстрации возьмем с GitHub <a href="https://github.com/AGChow/3D-Godot-Robot-Platformer-Character" target="_blank" class="link link--external" rel="noopener">готового персонажа</a> и посмотрим, как он будет двигаться, если менять координаты.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="35-xyz-character.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30353%2F35-xyz-character.png&amp;hash=37cc2ed1ff0022aca4e1bec9926f83cf" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../35-xyz-characterd50f.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30353%2F35-xyz-character.png&amp;hash=37cc2ed1ff0022aca4e1bec9926f83cf"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30353/35-xyz-character.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="35-xyz-character.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Тангаж — движение персонажа относительно оси X. Нижняя стрелка — фактическое движение персонажа в данный момент, верхняя — другой вариант движения.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="36-pitch-character.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30352%2F36-pitch-character.png&amp;hash=a1992c13e4ce9885cd8e788f3fec65f5" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../36-pitch-character67ef.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30352%2F36-pitch-character.png&amp;hash=a1992c13e4ce9885cd8e788f3fec65f5"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30352/36-pitch-character.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="36-pitch-character.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Рысканье — движение персонажа относительно оси Y.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="37-yaw-character.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30351%2F37-yaw-character.png&amp;hash=3302302eb9c5f4baab3cd273bb688727" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../37-yaw-character5ad0.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30351%2F37-yaw-character.png&amp;hash=3302302eb9c5f4baab3cd273bb688727"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30351/37-yaw-character.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="37-yaw-character.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Крен — движение персонажа относительно оси Z.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="38-roll-character.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30350%2F38-roll-character.png&amp;hash=296b3f0388a15250538d6ce1817124e5" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../38-roll-characterb404.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30350%2F38-roll-character.png&amp;hash=296b3f0388a15250538d6ce1817124e5"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30350/38-roll-character.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="38-roll-character.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-poisk-koordinat-igroka"></a>Поиск координат игрока&#8203;<a class="hoverLink" href="#-poisk-koordinat-igroka" title="Постоянная ссылка"></a></h4>С новыми знаниями возвращаемся к игре и окну Cheat Engine. Начинаем перемещаться по карте и вертеть мышкой из стороны в сторону, а также вверх и вниз. В окне Cheat Engine можем видеть три последовательности из значений с плавающей запятой, которые менялись при наших действиях. Значит, это координаты игрока, координаты головы игрока и его поворот относительно осей.<br />
<br />
Можно заметить, что два набора из трех повторяются по X и Y, а вот координата Z у них разная. Отсюда мы можем сделать вывод, что один набор — это координаты игрока, а второй — головы. Так как в OpenGL в качестве высоты используется координата Z, мы попытаемся поменять высоту для каждого набора. Начнем с первого, но после попытки поменять значение c -0.5 на другое оно снова станет прежним. Значит, это координаты головы, второй набор — координаты игрока, а третий — движение относительно осей. Но мы в этом еще должны убедиться.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="39-intresting-value-fail.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30341%2F39-intresting-value-fail.png&amp;hash=450cb7d4bc32b545b7dc928ace649d44" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../39-intresting-value-fail94a9.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30341%2F39-intresting-value-fail.png&amp;hash=450cb7d4bc32b545b7dc928ace649d44"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30341/39-intresting-value-fail.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="39-intresting-value-fail.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Теперь давай попробуем сделать для второго набора то, что мы делали для первого.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="40-intresting-value-succes.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30373%2F40-intresting-value-succes.png&amp;hash=1f2035ff31301d5988a59a7174fd04c5" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../40-intresting-value-succes565d.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30373%2F40-intresting-value-succes.png&amp;hash=1f2035ff31301d5988a59a7174fd04c5"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30373/40-intresting-value-succes.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="40-intresting-value-succes.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Для наглядной демонстрации встанем на ящик, а в Cheat Engine будем смотреть на значение по смещению 0x30.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="41-z-coord.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30372%2F41-z-coord.png&amp;hash=a0bc12466b5a55300012520d3cd884ca" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../41-z-coord9fe2.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30372%2F41-z-coord.png&amp;hash=a0bc12466b5a55300012520d3cd884ca"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30372/41-z-coord.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="41-z-coord.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Попробуем изменить это значение и увидим, как наш персонаж провалился сквозь ящик.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="42-change-z.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30371%2F42-change-z.png&amp;hash=84bebf41f5fa45909810e869be000a4a" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../42-change-zca86.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30371%2F42-change-z.png&amp;hash=84bebf41f5fa45909810e869be000a4a"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30371/42-change-z.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="42-change-z.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Это значит, что наши предположения верны.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="43-xyz.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30370%2F43-xyz.png&amp;hash=91d466039f57c097753adc9a79a30f60" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../43-xyz6e9e.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30370%2F43-xyz.png&amp;hash=91d466039f57c097753adc9a79a30f60"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30370/43-xyz.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="43-xyz.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Вернемся в окно ReClass.NET и выберем типы для этих смещений.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="44-rename-xyz.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30368%2F44-rename-xyz.png&amp;hash=a0caa26676b4f971b7a371468b3c1743" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../44-rename-xyza2bf.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30368%2F44-rename-xyz.png&amp;hash=a0caa26676b4f971b7a371468b3c1743"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30368/44-rename-xyz.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="44-rename-xyz.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-poisk-pitch-yaw-roll"></a>Поиск pitch, yaw, roll&#8203;<a class="hoverLink" href="#-poisk-pitch-yaw-roll" title="Постоянная ссылка"></a></h4>Сделаем такую же проверку. Веди мышью из стороны в сторону, а потом вверх и вниз. Попробуем поменять значения, и оказывается, что наши предположения были верны.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="45-possible-pitch-yaw.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30369%2F45-possible-pitch-yaw.png&amp;hash=d4b4f1b0dcb85d25125ef34fc3661a11" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../45-possible-pitch-yaw10ee.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30369%2F45-possible-pitch-yaw.png&amp;hash=d4b4f1b0dcb85d25125ef34fc3661a11"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30369/45-possible-pitch-yaw.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="45-possible-pitch-yaw.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Вернемся в окно ReClass.NET и выберем типы для этих смещений.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="46-yaw-pitch.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30367%2F46-yaw-pitch.png&amp;hash=bf3095a4e7d28b5b7eb51bcb906279c6" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../46-yaw-pitch67d4.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30367%2F46-yaw-pitch.png&amp;hash=bf3095a4e7d28b5b7eb51bcb906279c6"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30367/46-yaw-pitch.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="46-yaw-pitch.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Вот так теперь выглядит наш класс. Но что за VTable? Это поле не нужно, я добавил его для красоты. Подробнее о том, что это и зачем, можешь прочитать в статье <a href="https://pabloariasal.github.io/2017/06/10/understanding-virtual-tables/" target="_blank" class="link link--external" rel="noopener">Understandig Virtual Tables in C++</a>.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="47-structure.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30357%2F47-structure.png&amp;hash=2f553af23b3762210608f8b241286c6b" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../47-structured63c.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30357%2F47-structure.png&amp;hash=2f553af23b3762210608f8b241286c6b"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30357/47-structure.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="47-structure.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Теперь экспортируем наш класс (нажми на него правой кнопкой мыши и выбери соответствующий пункт меню). Можешь видеть, что есть поля, которые мы с тобой не искали: armor, team и прочие. Думаю, ты при желании сможешь найти их сам.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="48-export-class.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30348%2F48-export-class.png&amp;hash=00d819e1277de25a39d0b2dbb1b45b0c" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../48-export-class93f3.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30348%2F48-export-class.png&amp;hash=00d819e1277de25a39d0b2dbb1b45b0c"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30348/48-export-class.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="48-export-class.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-entity-list"></a>Entity List&#8203;<a class="hoverLink" href="#-entity-list" title="Постоянная ссылка"></a></h3>С нашим игроком мы разобрались, а как быть с другими игроками? Обычно где‑то есть огромный список всех игровых сущностей, в который входят и персонажи игроков. Можно предположить, что где‑то в коде должен существовать и цикл, который перебирает игроков, и дальше с их данными как‑то взаимодействует логика игры. Попробуем оттолкнуться от показателя здоровья и поискать, какие инструкции его запрашивают.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="49-access-hp.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30366%2F49-access-hp.png&amp;hash=774953b8b8717fbdce0821dc84c65e78" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../49-access-hp2496.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30366%2F49-access-hp.png&amp;hash=774953b8b8717fbdce0821dc84c65e78"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30366/49-access-hp.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="49-access-hp.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
С наскока ничего найти не удается, но наметанный глаз заметит, что доступ к показателям здоровья нашего игрока идет через какой‑то статический адрес. Оказывается, мы выбрали неправильный! Правильный адрес такой: &quot;ac_client.exe&quot;+0018AC00.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="50-possible-right-static-addr.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30365%2F50-possible-right-static-addr.png&amp;hash=45533037a618a05d158ef57dcecc856c" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../50-possible-right-static-addr1694.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30365%2F50-possible-right-static-addr.png&amp;hash=45533037a618a05d158ef57dcecc856c"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30365/50-possible-right-static-addr.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="50-possible-right-static-addr.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Попробуем теперь поискать через имя игрока, которое находится по смещению 0x205.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="51-player-name.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30364%2F51-player-name.png&amp;hash=fd92c58e4eac7c73a2e12fd3b218578a" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../51-player-name54b7.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30364%2F51-player-name.png&amp;hash=fd92c58e4eac7c73a2e12fd3b218578a"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30364/51-player-name.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="51-player-name.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
И получим список инструкций, которые обращаются к имени.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="52-add-player-name.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30363%2F52-add-player-name.png&amp;hash=5551888892aa4ee081f8be9fee2243fb" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../52-add-player-name57fb.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30363%2F52-add-player-name.png&amp;hash=5551888892aa4ee081f8be9fee2243fb"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30363/52-add-player-name.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="52-add-player-name.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<div class="bbImageWrapper  js-lbImage" title="53-player-name-access.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30362%2F53-player-name-access.png&amp;hash=71b24664418f50203d7389f908e41617" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../53-player-name-accessbdcf.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30362%2F53-player-name-access.png&amp;hash=71b24664418f50203d7389f908e41617"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30362/53-player-name-access.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="53-player-name-access.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Перебираем варианты и находим такой, где доступ происходит в цикле.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="54-entity-loop.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30339%2F54-entity-loop.png&amp;hash=47ce2349839035e3e6fd479e4b77458e" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../54-entity-loop5a0b.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30339%2F54-entity-loop.png&amp;hash=47ce2349839035e3e6fd479e4b77458e"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30339/54-entity-loop.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="54-entity-loop.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Те, кто знаком с ассемблером, понимают, что в регистре ebx находится адрес первого элемента, esi — это индекс, а умножение индекса говорит нам о типе данных, в данном случае это 4, DWORD.<br />
<br />
Таким образом, статический адрес списка сущностей будет таким:<br />
<br />
&quot;ac_client.exe&quot;+0018AC04<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="55-another-player-in-entity.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30360%2F55-another-player-in-entity.png&amp;hash=2af2103fcf190b14a0bcfe53645d90dd" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../55-another-player-in-entitye4b7.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30360%2F55-another-player-in-entity.png&amp;hash=2af2103fcf190b14a0bcfe53645d90dd"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30360/55-another-player-in-entity.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="55-another-player-in-entity.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Убедиться в этом можно, проверив по смещению 0x205 имя игрока.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="56-name-another-player.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30361%2F56-name-another-player.png&amp;hash=e90626895b1aa3f665c5fa7a69f3a708" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../56-name-another-player1ab4.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30361%2F56-name-another-player.png&amp;hash=e90626895b1aa3f665c5fa7a69f3a708"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30361/56-name-another-player.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="56-name-another-player.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Также нам понадобится общее количество игроков. Полистав вывод дизассемблера, в конце цикла увидим проверку. В регистре edi хранится текущее количество игроков.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="57-player-connected.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30359%2F57-player-connected.png&amp;hash=9a1c33bae8893d9c3311e712b6ae9f37" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../57-player-connected725c.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30359%2F57-player-connected.png&amp;hash=9a1c33bae8893d9c3311e712b6ae9f37"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30359/57-player-connected.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="57-player-connected.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Немного подебажив, замечаем, что выше цикла находится статический адрес количества игроков: &quot;ac_client.exe&quot;+0018AC0C.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="58-count-player-connected.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30358%2F58-count-player-connected.png&amp;hash=1e4174c5d4a0bb2bed2b9847b069b660" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../58-count-player-connected2630.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30358%2F58-count-player-connected.png&amp;hash=1e4174c5d4a0bb2bed2b9847b069b660"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30358/58-count-player-connected.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="58-count-player-connected.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Перезапустим и проверим, что адреса правильные.<br />
<br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-poisk-view-matrix"></a>Поиск View Matrix&#8203;<a class="hoverLink" href="#-poisk-view-matrix" title="Постоянная ссылка"></a></h3>Матрица View (вид) нужна для корректной работы ESP, более подробно об этом можешь почитать в <a href="https://habr.com/ru/post/324968/" target="_blank" class="link link--external" rel="noopener">статье об OpenGL</a> на «Хабрахабре».<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="59-matrix.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30349%2F59-matrix.png&amp;hash=c7f5b21236651d182dfe735b7a4496cc" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../59-matrixb0a0.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30349%2F59-matrix.png&amp;hash=c7f5b21236651d182dfe735b7a4496cc"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30349/59-matrix.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="59-matrix.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<ol>
<li data-xf-list-type="ol">Локальные координаты — это координаты объекта, измеряемые относительно той точки, в которой находится объект.</li>
<li data-xf-list-type="ol">На следующем шаге локальные координаты преобразуются в координаты в пространстве мира. Они отложены от какой‑то точки, единой для всех других объектов, расположенных в мировом пространстве.</li>
<li data-xf-list-type="ol">Дальше мы трансформируем мировые координаты в координаты пространства вида таким образом, чтобы каждая вершина стала видна, как если бы на нее смотрели из камеры или с точки зрения наблюдателя.</li>
<li data-xf-list-type="ol">После того как координаты будут преобразованы в пространство вида, мы спроецируем их в координаты отсечения. Координаты отсечения задаются в диапазоне от -1.0 до 1.0 и определяют, какие вершины появятся на экране.</li>
<li data-xf-list-type="ol">И наконец, в процессе преобразования, который мы назовем трансформацией области просмотра, мы преобразуем координаты отсечения от -1.0 до 1.0 в область экранных координат, заданную функцией glViewport.</li>
</ol>Для поиска матрицы вида будем ориентироваться на координаты отсечения, они задаются в диапазоне от -1.0 до 1.0. В игре смотрим прямо вверх, а в CE выставляем следующие параметры поиска.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="60-view-matrix-plus-1.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30347%2F60-view-matrix-plus-1.png&amp;hash=173dc7bc683cd6810b5431fae77b13f3" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../60-view-matrix-plus-1bb41.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30347%2F60-view-matrix-plus-1.png&amp;hash=173dc7bc683cd6810b5431fae77b13f3"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30347/60-view-matrix-plus-1.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="60-view-matrix-plus-1.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Теперь смотрим прямо вниз и выставляем новые параметры поиска. И чередуем, пока не найдем приемлемое количество результатов. В данном случае понадобилось не так много повторений, чтобы отыскать два статических адреса. Их‑то мы и будем проверять.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="61-view-matrix-minus-1.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30346%2F61-view-matrix-minus-1.png&amp;hash=b4251556aef7380d57919df049d35499" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../61-view-matrix-minus-1c58d.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30346%2F61-view-matrix-minus-1.png&amp;hash=b4251556aef7380d57919df049d35499"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30346/61-view-matrix-minus-1.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="61-view-matrix-minus-1.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Откроем в дампе первый адрес и для удобства изменим тип отображаемых данных с байтов на float.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="62-change-type-from-bytes.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30345%2F62-change-type-from-bytes.png&amp;hash=6e600b0aa577e78b272a42ed2405ad9f" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../62-change-type-from-bytesb973.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30345%2F62-change-type-from-bytes.png&amp;hash=6e600b0aa577e78b272a42ed2405ad9f"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30345/62-change-type-from-bytes.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="62-change-type-from-bytes.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Вот что мы имеем.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="63-changed-type-float.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30344%2F63-changed-type-float.png&amp;hash=bf093e38036cae5dc316b14a3302a409" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../63-changed-type-floatbd72.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30344%2F63-changed-type-float.png&amp;hash=bf093e38036cae5dc316b14a3302a409"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30344/63-changed-type-float.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="63-changed-type-float.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Теперь нужно поднимать и опускать оружие и смотреть, как меняются значения. Мы видим, что в области, обозначенной красным, что‑то изменилось. Причем 1.0 и -1.0 будет только в выделенной области, а перед ней, если судить по размерам матриц, будут, соответственно, матрица мира и матрица перемещения. Таким образом, статический адрес матрицы вида получается &quot;ac_client.exe&quot;+17DFD0.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="64-view-matrix.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30340%2F64-view-matrix.png&amp;hash=953054262ecea6790541074be8095e77" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../64-view-matrix2ed0.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30340%2F64-view-matrix.png&amp;hash=953054262ecea6790541074be8095e77"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30340/64-view-matrix.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="64-view-matrix.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Не забываем перезапустить игру и проверить правильность наших находок.<br />
<br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-napisaniye-chita"></a>НАПИСАНИЕ ЧИТА&#8203;<a class="hoverLink" href="#-napisaniye-chita" title="Постоянная ссылка"></a></h2>Как и в предыдущей статье, мы будем писать внутренний чит, поэтому нам понадобится не только сама библиотека, но и инжектор, который внедрит нашу библиотеку в процесс игры. Инжектор получит список процессов, найдет процесс игры и выделит в ней память, в которую запишет наш внутренний чит. А потом создаст удаленный поток внутри игры для выполнения кода.<br />
<br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-injector"></a>Injector&#8203;<a class="hoverLink" href="#-injector" title="Постоянная ссылка"></a></h3>Код инжектора выглядит следующим образом.<br />
<br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C++:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="cpp"><code>#include &lt;windows.h&gt;
#include &lt;tlhelp32.h&gt;
// Имя внедряемой DLL
const char* dll_path = &quot;internal_cheat_ac.dll&quot;;
int main(void) {
    HANDLE process;
    void* alloc_base_addr;
    HMODULE kernel32_base;
    LPTHREAD_START_ROUTINE LoadLibraryA_addr;
    HANDLE thread;
    HANDLE snapshot = 0;
    PROCESSENTRY32 pe32 = { 0 };
    DWORD exitCode = 0;
    pe32.dwSize = sizeof(PROCESSENTRY32);
    // Получение снапшота текущих процессов
    snapshot = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0);
    Process32First(snapshot, &amp;pe32);
    do {
        // Мы хотим работать только с процессом AC
        if (wcscmp(pe32.szExeFile, L&quot;ac_client.exe&quot;) == 0) {
            // Во-первых, нам нужно получить дескриптор процесса, чтобы использовать его для следующих вызовов
            process = OpenProcess(PROCESS_ALL_ACCESS, true, pe32.th32ProcessID);
            // Чтобы не повредить память, выделим дополнительную память для хранения нашего пути к DLL
            alloc_base_addr = VirtualAllocEx(process, NULL, strlen(dll_path) + 1, MEM_COMMIT, PAGE_READWRITE);
            // Записываем путь к нашей DLL в память, которую мы только что выделили внутри игры
            WriteProcessMemory(process, alloc_base_addr, dll_path, strlen(dll_path) + 1, NULL);
            // Создаем удаленный поток внутри игры, который будет выполнять LoadLibraryA
            // Этому вызову LoadLibraryA мы передадим полный путь к нашей DLL, которую мы прописали в игру
            kernel32_base = GetModuleHandle(L&quot;kernel32.dll&quot;);
            LoadLibraryA_addr = (LPTHREAD_START_ROUTINE)GetProcAddress(kernel32_base, &quot;LoadLibraryA&quot;);
            thread = CreateRemoteThread(process, NULL, 0, LoadLibraryA_addr, alloc_base_addr, 0, NULL);
            // Чтобы убедиться, что наша DLL внедрена, мы можем использовать следующие два вызова для синхронизации
            WaitForSingleObject(thread, INFINITE);
            GetExitCodeThread(thread, &amp;exitCode);
            // Наконец, освобождаем память и очищаем дескрипторы процесса
            VirtualFreeEx(process, alloc_base_addr, 0, MEM_RELEASE);
            CloseHandle(thread);
            CloseHandle(process);
            break;
        }
    // Перебор процессов из снапшота
    } while (Process32Next(snapshot, &amp;pe32));
    return 0;
}</code></pre>
	</div>
</div><br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-dll"></a>DLL&#8203;<a class="hoverLink" href="#-dll" title="Постоянная ссылка"></a></h3>Наша библиотека будет состоять из следующих модулей:<br />
<ul>
<li data-xf-list-type="ul">главный модуль — dllmain.cpp;</li>
<li data-xf-list-type="ul">модуль смещений в игре и игровых структур — structures.h;</li>
<li data-xf-list-type="ul">модуль хуков — hook.cpp и hook.h;</li>
<li data-xf-list-type="ul">модуль рисования — gl_draw.cpp и gl_draw.h.</li>
</ul><h4 class="bbHeading"><a class="u-anchorTarget" name="-glavnyi-modul"></a>Главный модуль&#8203;<a class="hoverLink" href="#-glavnyi-modul" title="Постоянная ссылка"></a></h4>При загрузке нашей библиотеки через функцию LoadLibraryA создается поток, в котором будет работать основная логика нашего чита. А именно:<br />
<ul>
<li data-xf-list-type="ul">получение указателей на нужные нам поля;</li>
<li data-xf-list-type="ul">установка хука на функцию отрисовки сцен;</li>
<li data-xf-list-type="ul">цикл, в котором реализовано включение и отключение хаков, завершение работы чита;</li>
<li data-xf-list-type="ul">функция, рисующая меню;</li>
<li data-xf-list-type="ul">хаки ESP и aimbot.</li>
</ul>Приступим к реализации!<br />
<br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C++:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="cpp"><code>#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;tchar.h&gt;
#include &lt;thread&gt;
#include &lt;mutex&gt;
#define _USE_MATH_DEFINES
#include &lt;math.h&gt;
#include &quot;hook.h&quot;
#include &quot;structures.h&quot;
#include &quot;gl_draw.h&quot;
// Переменная игрока
Player* player;
// Переменная синхронизации
std::mutex hook_mutex;
// Typedef для функции wglSwapBuffers
typedef BOOL(__stdcall* twglSwapBuffers) (HDC hDc);
Tramp_Hook* esp_hook;
Player** player_list = nullptr;
int* player_list_size = nullptr;
static int list_size = 0;
static Vector3 screen_position;
static Vector3 world_position;
static Vector3 player_position;
static float* view_matrix;
bool aimbot_enabled = false;
// Меню
void draw_menu(bool flag_esp) {
    std::string esp = &quot;ESP is &quot;;
    std::string aimbot = &quot;Aimbot is &quot;;
    if (flag_esp) {
        esp += &quot;ON press F1 to OFF&quot;;
    }
    else {
        esp += &quot;OFF press F1 to ON&quot;;
    }
    if (aimbot_enabled) {
        aimbot += &quot;ON press F2 to OFF&quot;;
    }
    else {
        aimbot += &quot;OFF press F2 to ON&quot;;
    }
    GL::print_gl(50, 1200, rgb::gray, esp.c_str());
    GL::print_gl(50, 1300, rgb::gray, aimbot.c_str());
    GL::print_gl(50, 1400, rgb::gray, &quot;Exit cheat press F3&quot;);
}
// Наша функция, которую вызывает установленный хук
BOOL _stdcall hooked_wglSwapBuffers(HDC hDc) {
    hook_mutex.lock();
    draw_menu(esp_hook-&gt;is_enabled());
    if (esp_hook-&gt;is_enabled()) {
     // Настроить орфографический режим
        GL::setup_orthographic();
        if (*player_list_size == list_size) {
            for (int i = 0; i &lt; list_size; ++i) {
                // Проверить, действителен ли адрес игрока
                if (!player_list[i]) {
                    continue;
                }
                if (player_list[i]-&gt;hp &gt; 0 &amp;&amp; player_list[i]-&gt;hp &lt; 200) {
                    // Сохранить позицию других игроков в Vector3
                    world_position.x = player_list[i]-&gt;x_y_z_player.x;
                    world_position.y = player_list[i]-&gt;x_y_z_player.y;
                    world_position.z = player_list[i]-&gt;x_y_z_player.z;
                    // Сохранить позицию головы других игроков в Vector3
                    player_position.x = player-&gt;x_y_z_head.x;
                    player_position.y = player-&gt;x_y_z_head.y;
                    player_position.z = player-&gt;x_y_z_head.z;
                    // Рассчитать расстояние до другого игрока
                    float distance = sqrtf((player_position.x - world_position.x) * (player_position.x - world_position.x) + (player_position.y - world_position.y) * (player_position.y - world_position.y) + (player_position.z - world_position.z) * (player_position.z - world_position.z));
                    // Проверить, находится ли игрок в зоне обзора
                    if (distance &gt; 5.0f &amp;&amp; GL::world_to_screen(world_position, screen_position, view_matrix)) {
                        // Проверить, находится ли другой игрок в той же команде, что и мы
                        if (player_list[i]-&gt;team != player-&gt;team) {
                            // Команда врага
                            GL::draw_esp_box(screen_position.x, screen_position.y, distance, rgb::red, player_list[i]-&gt;name, player_list[i]-&gt;hp, player_list[i]-&gt;armor);
                        }
                        else {
                            // Наша команда
                            GL::draw_esp_box(screen_position.x, screen_position.y, distance, rgb::green, player_list[i]-&gt;name, player_list[i]-&gt;hp, player_list[i]-&gt;armor);
                        }
                    }
                }
            }
        }
        else {
            list_size = *player_list_size;
        }
        GL::restore_gl(); // Восстановить исходный режим
    }
    if (aimbot_enabled &amp;&amp; GetAsyncKeyState(VK_RBUTTON)) {
        if (*player_list_size == list_size) {
            // Эти переменные будут использоваться для удержания ближайшего к нам врага
            float closest_player = -1.0f;
            float closest_yaw = 0.0f;
            float closest_pitch = 0.0f;
            // Выбор ближайшего игрока в качестве цели
            for (int i = 0; i &lt; list_size; ++i) {
                // Проверить, действителен ли адрес игрока, при этом пропускаем игроков из нашей команды и проверяем показатель здоровья
                if (!player_list[i] || (player_list[i]-&gt;team == player-&gt;team) || (player_list[i]-&gt;hp &lt; 0)) {
                    continue;
                }
                // Расчет абсолютного положения врага вдали от нас. Позволяет убедиться, что наши будущие расчеты верны и основаны на исходной точке
                float abspos_x = player_list[i]-&gt;x_y_z_player.x - player-&gt;x_y_z_player.x;
                float abspos_y = player_list[i]-&gt;x_y_z_player.y - player-&gt;x_y_z_player.y;
                float abspos_z = player_list[i]-&gt;x_y_z_player.z - player-&gt;x_y_z_player.z;
                // Расчет дистанции до врага
                float temp_distance = sqrtf((abspos_x * abspos_x) + (abspos_y * abspos_y));
                // Если это ближайший враг, рассчитываем рыскание и тангаж, чтобы нацелиться на него
                if (closest_player == -1.0f || temp_distance &lt; closest_player) {
                    closest_player = temp_distance;
                    // Рассчитываем рыскание
                    float azimuth_xy = atan2f(abspos_y, abspos_x);
                    // Переводим в градусы
                    float yaw = (float)(azimuth_xy * (180.0 / M_PI));
                    // Добавляем 90, так как игра предполагает, что прямой север равен 90 градусам
                    closest_yaw = yaw + 90;
                    // Рассчитываем тангаж
                    // Поскольку значения Z настолько ограничены, выбирай большее значение между X и Y, чтобы убедиться, что мы не смотрим прямо в небо, когда находимся рядом с врагом
                    if (abspos_y &lt; 0) {
                        abspos_y *= -1;
                    }
                    if (abspos_y &lt; 5) {
                        if (abspos_x &lt; 0) {
                            abspos_x *= -1;
                        }
                        abspos_y = abspos_x;
                    }
                    float azimuth_z = atan2f(abspos_z, abspos_y);
                    // Преобразовываем значение в градусы
                    closest_pitch = (float)(azimuth_z * (180.0 / M_PI));
                }
            }
            // Когда наш цикл завершится, устанавливаем для рысканья и тангажа самые близкие значения
            player-&gt;yaw_pitch_roll.x = closest_yaw;
            player-&gt;yaw_pitch_roll.y = closest_pitch;
        }
        else {
            list_size = *player_list_size;
        }
    }
    // Вызов перехваченной функции
    BOOL ret_value = ((twglSwapBuffers)esp_hook-&gt;get_gateway())(hDc);
    hook_mutex.unlock();
    return ret_value;
}
DWORD WINAPI injected_thread(HMODULE hMod) {
    // Получить адрес, по которому .exe был загружен внутри нашего игрового процесса
    uintptr_t moduleBase = (uintptr_t)GetModuleHandle(0);
    // Где находится указатель на нашего игрока
    player = *reinterpret_cast&lt;Player**&gt;(moduleBase + player_offset);
    // Указатель на список игроков
    player_list = *reinterpret_cast&lt;Player***&gt;(moduleBase + entity_offset);
    // Указатель на размер списка игроков
    player_list_size = reinterpret_cast&lt;int*&gt;(moduleBase + entity_count_offset);
    // Указатель на матрицу вида
    view_matrix = reinterpret_cast&lt;float*&gt;(moduleBase + view_matrix_offset);
    // Получить дескриптор модуля OpenGL
    HMODULE open_gl = GetModuleHandleA(&quot;opengl32.dll&quot;);
    if (!open_gl) {
        return -1; // OpenGL не загружен
    }
    // Получить адрес wglSwapBuffers
    void* orig_wglSwapBuffers = GetProcAddress(open_gl, &quot;wglSwapBuffers&quot;);
    // Установка хука на wglSwapBuffers
    esp_hook = new Tramp_Hook(orig_wglSwapBuffers, hooked_wglSwapBuffers, 5);
    while (!GetAsyncKeyState(VK_F3)) {
        if (GetAsyncKeyState(VK_F1) &amp; 1) { // Включить ESP
            esp_hook-&gt;is_enabled() ? esp_hook-&gt;disable() : esp_hook-&gt;enable();
        }
        if (GetAsyncKeyState(VK_F2) &amp; 1) { // Включить aimbot
            aimbot_enabled = !aimbot_enabled;
        }
        Sleep(50);
    }
    hook_mutex.lock();
    // Удаление хука
    delete esp_hook;
    hook_mutex.unlock();
    // Извлечение нашей библиотеки
    FreeLibraryAndExitThread(hMod, 0);
    return 0;
}
BOOL APIENTRY DllMain(HMODULE hModule, DWORD ul_reason_for_call, LPVOID lpReserved) {
    switch (ul_reason_for_call) {
    case DLL_PROCESS_ATTACH:
        CreateThread(0, 0, (LPTHREAD_START_ROUTINE)injected_thread, hModule, 0, 0);
    case DLL_THREAD_ATTACH:
    case DLL_THREAD_DETACH:
    case DLL_PROCESS_DETACH:
        break;
    }
    return TRUE;
}</code></pre>
	</div>
</div><br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-modul-smeshchenii-v-igre-i-igrovykh-struktur"></a>Модуль смещений в игре и игровых структур&#8203;<a class="hoverLink" href="#-modul-smeshchenii-v-igre-i-igrovykh-struktur" title="Постоянная ссылка"></a></h4>Этот модуль содержит все нужные нам поля игрока, а также смещения.<br />
<br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C++:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="cpp"><code>#pragma once
#include &quot;gl_draw.h&quot;
class Player {
public:
    DWORD* vftable; // 0x00
    Vector3 x_y_z_head; // 0x04
    BYTE pad_0010[24]; // 0x10
    Vector3 x_y_z_player; // 0x28
    Vector3 yaw_pitch_roll; // 0x34
    BYTE pad_0040[172]; // 0x40
    DWORD hp; // 0xEC
    DWORD armor; // 0xF0
    BYTE pad_00F4[273]; // 0xF4
    BYTE name[16]; // 0x205
    BYTE pad_0215[247]; // 0x215
    BYTE team; // 0x30C
};
DWORD player_offset = 0x018AC00;
DWORD entity_offset = 0x018AC04;
DWORD entity_count_offset = 0x018AC0C;
DWORD view_matrix_offset = 0x17DFD0;</code></pre>
	</div>
</div><br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-modul-khukov"></a>Модуль хуков&#8203;<a class="hoverLink" href="#-modul-khukov" title="Постоянная ссылка"></a></h4>Это модуль, в котором будет перехватываться функция wglSwapBuffers, отвечающая за отрисовку сцен. Это необходимо для того, чтобы рисовать наше меню и боксы ESP.<br />
<br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-hook-h"></a>hook.h&#8203;<a class="hoverLink" href="#-hook-h" title="Постоянная ссылка"></a></h4><br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C++:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="cpp"><code>#pragma once
#include &lt;windows.h&gt;
#include &lt;memory&gt;
// Класс перехватчика
class Hook {
    // Указатель на перехватчик
    void* this_to_hook;
    // Сохраненные старые опкоды
    std::unique_ptr&lt;char[]&gt; old_opcodes;
    // Длина перезаписанных инструкций
    int this_len;
    // Включен ли перехватчик
    bool enabled;
public:
    // Конструктор для перехватчика
    Hook(void* to_hook, void* our_func, int len);
    // Деструктор для восстановления исходного кода
    ~Hook();
    // Включить перехватчик
    void enable();
    // Отключить перехватчик
    void disable();
    // Включен ли перехватчик
    bool is_enabled();
};
// Класс для реализации инлайн-перехватчика
class Tramp_Hook {
    void* gateway;
    Hook* managed_hook;
public:
    Tramp_Hook(void* to_hook, void* our_func, int len);
    // Восстанавливает исходный код
    ~Tramp_Hook();
    void enable();
    void disable();
    bool is_enabled();
    void* get_gateway();
};</code></pre>
	</div>
</div><br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-hook-cpp"></a>hook.cpp&#8203;<a class="hoverLink" href="#-hook-cpp" title="Постоянная ссылка"></a></h4>
	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C++:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="cpp"><code>#include &quot;hook.h&quot;
Hook::Hook(void* to_hook, void* our_func, int len) : this_to_hook{to_hook }, old_opcodes{ nullptr }, this_len{ len }, enabled{ false } {
    // Инструкция jmp имеет размер 5 байт. Место, которое мы перезаписываем, должно быть как минимум такого размера
    if (len &lt; 5) {
        return;
    }
    DWORD curr_protection;
    // Сделать доступной для записи память с кодом, который мы хотим перезаписать
    VirtualProtect(to_hook, len, PAGE_EXECUTE_READWRITE, &amp;curr_protection);
    // Сохранить текущие байты в массив символов
    old_opcodes = std::make_unique&lt;char[]&gt;(len);
    if (old_opcodes != nullptr) {
        for (int i = 0; i &lt; len; ++i) {
            old_opcodes[i] = ((char*)to_hook)[i];
        }
    }
    // Перезапишем место, которое хотим перехватить, инструкциями nop
    memset(to_hook, 0x90, len);
    // Вычислить относительный адрес для перехода
    DWORD rva_addr = ((DWORD)our_func - (DWORD)to_hook) - 5;
    // Поместить опкод для инструкции jmp
    *(BYTE*)to_hook = 0xE9;
    // Поместить адрес для перехода
    *(DWORD*)((DWORD)to_hook + 1) = rva_addr;
    // Восстановить старую защиту кода
    VirtualProtect(to_hook, len, curr_protection, &amp;curr_protection);
}
Hook::~Hook() {
    if (old_opcodes != nullptr) {
        DWORD curr_protection;
        // Сделать память доступной для записи
        VirtualProtect(this_to_hook, this_len, PAGE_EXECUTE_READWRITE, &amp;curr_protection);
        // Записать старые опкоды обратно в перехваченное место
        for (int i = 0; i &lt; this_len; ++i) {
            ((char*)this_to_hook)[i] = Hook::old_opcodes[i];
        }
        // Восстановить старую защиту памяти
        VirtualProtect(this_to_hook, this_len, curr_protection, &amp;curr_protection);
    }
}
void Hook::enable() {
    this-&gt;enabled = true;
}
void Hook::disable() {
    this-&gt;enabled = false;
}
bool Hook::is_enabled() {
    return enabled;
}
Tramp_Hook::Tramp_Hook(void* to_hook, void* our_func, int len) : gateway{ nullptr }, managed_hook{ nullptr } {
    // jmp имеет размер 5 байт
    if (len &lt; 5) {
        return;
    }
    // Выделяем память для нашего трамплина
    gateway = VirtualAlloc(0, len + 5, MEM_COMMIT | MEM_RESERVE, PAGE_EXECUTE_READWRITE);
    // Сохранение байтов, которые мы будем перезаписывать в трамплин
    memcpy_s(gateway, len, to_hook, len);
    // Получить адрес возврата
    uintptr_t ret_addr = (BYTE*)to_hook - (BYTE*)gateway - 5;
    // Разместить опкод jmp в конец трамплина
    *(BYTE*)((uintptr_t)gateway + len) = 0xE9;
    // Разместить адрес возврата после jmp
    *(uintptr_t*)((uintptr_t)gateway + len + 1) = ret_addr;
    // Создание перехватчика
    managed_hook = new Hook(to_hook, our_func, len);
}
Tramp_Hook::~Tramp_Hook() {
    managed_hook-&gt;disable();
    delete managed_hook;
    VirtualFree(gateway, 0, MEM_RELEASE);
}
void Tramp_Hook::enable() {
    managed_hook-&gt;enable();
}
void Tramp_Hook::disable() {
    managed_hook-&gt;disable();
}
bool Tramp_Hook::is_enabled() {
    return managed_hook-&gt;is_enabled();
}
void* Tramp_Hook::get_gateway() {
    return gateway;
}</code></pre>
	</div>
</div><br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-modul-risovaniya"></a>Модуль рисования&#8203;<a class="hoverLink" href="#-modul-risovaniya" title="Постоянная ссылка"></a></h4>Здесь у нас функции для непосредственной отрисовки меню и боксов ESP.<br />
<br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-gl_draw-h"></a>gl_draw.h&#8203;<a class="hoverLink" href="#-gl_draw-h" title="Постоянная ссылка"></a></h4><br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C++:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="cpp"><code>#pragma once
#pragma comment(lib, &quot;OpenGL32.lib&quot;)
#include &lt;windows.h&gt;
#include&lt;gl/GL.h&gt;
struct Vector3 {
    float x, y, z;
};
struct Vector4 {
    float x, y, z, w;
};
// Пространство имен цветов для рисования
namespace rgb {
    const GLubyte red[3] = { 255,0,0 };
    const GLubyte green[3] = { 0,255,0 };
    const GLubyte blue[3] = { 0,0,255 };
    const GLubyte gray[3] = { 55,55,55 };
    const GLubyte light_gray[3] = { 192,192,192 };
    const GLubyte yellow[3] = { 255, 255, 0 };
    const GLubyte black[3] = { 0,0,0 };
}
// Пространство имен функций для отрисовки меню и ESP-хака
namespace GL {
    void setup_orthographic();
    void restore_gl();
    void build_font();
    void draw_filled_rectangle(float x, float y, float width, float height, const GLubyte color[3]);
    void draw_out_line(float x, float y, float width, float height, float line_width, const GLubyte color[3]);
    void draw_line(float fromX, float fromY, float toX, float toY, float line_width, const GLubyte color[3]);
    void draw_esp_box(float pos_x, float pos_y, float distance, const GLubyte color[3], const BYTE* text, const int health_percent = -1, const int armor_percent = -1);
    void print_gl(float x, float y, const GLubyte color[3], const char* fmt, ...);
    bool world_to_screen(Vector3 pos, Vector3&amp; screen, float matrix[16]);
}</code></pre>
	</div>
</div><br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-gl_draw-cpp"></a>gl_draw.cpp&#8203;<a class="hoverLink" href="#-gl_draw-cpp" title="Постоянная ссылка"></a></h4>
	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C++:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="cpp"><code>#include &quot;gl_draw.h&quot;
#include &lt;corecrt_math.h&gt;
#include &lt;stdio.h&gt;
HDC     h_DC;
HFONT   h_old_font;
HFONT   h_font;
UINT    font_base;
bool    b_font_build = 0;
void GL::setup_orthographic() {
    // Cохранение атрибутов
    glPushAttrib(GL_ALL_ATTRIB_BITS);
    // Сохранение матрицы вида
    glPushMatrix();
    // Размеры экрана
    GLint view_port[4];
    // Получение размеров экрана
    glGetIntegerv(GL_VIEWPORT, view_port);
    // Установка размера экрана
    glViewport(0, 0, view_port[2], view_port[3]);
    glMatrixMode(GL_PROJECTION);
    glLoadIdentity();
    // Настройка орфографического режима
    glOrtho(0, view_port[2], view_port[3], 0, -1, 1);
    glMatrixMode(GL_MODELVIEW);
    glLoadIdentity();
    // Отключение проверки глубины
    glDisable(GL_DEPTH_TEST);
}
void GL::restore_gl() {
    // Восстановление матрицы вида
    glPopMatrix();
    // Восстановление всех атрибутов
    glPopAttrib();
}
void GL::draw_filled_rectangle(float x, float y, float width, float height, const GLubyte color[3]) {
    glColor3ub(color[0], color[1], color[2]);
    glBegin(GL_QUADS);
    glVertex2f(x, y);
    glVertex2f(x + width, y);
    glVertex2f(x + width, y + height);
    glVertex2f(x, y + height);
    glEnd();
}
void GL::draw_out_line(float x, float y, float width, float height, float line_width, const GLubyte color[3]) {
    glLineWidth(line_width);
    glBegin(GL_LINE_STRIP);
    glColor3ub(color[0], color[1], color[2]);
    glVertex2f(x - 0.5f, y - 0.5f);
    glVertex2f(x + width + 0.5f, y - 0.5f);
    glVertex2f(x + width + 0.5f, y + height + 0.5f);
    glVertex2f(x - 0.5f, y + height + 0.5f);
    glVertex2f(x - 0.5f, y - 0.5f);
    glEnd();
}
void GL::draw_line(float fromX, float fromY, float toX, float toY, float line_width, const GLubyte color[3]) {
    glLineWidth(line_width);
    glBegin(GL_LINES);
    glColor3ub(color[0], color[1], color[2]);
    glVertex2f(fromX, fromY);
    glVertex2f(toX, toY);
    glEnd();
}
void GL::build_font()
{
    h_DC = wglGetCurrentDC();
    font_base = glGenLists(96);
    h_font = CreateFont(-12, 0, 0, 0, FW_NORMAL, FALSE, FALSE, FALSE, ANSI_CHARSET, OUT_TT_PRECIS, CLIP_DEFAULT_PRECIS, PROOF_QUALITY, FF_DONTCARE | DEFAULT_PITCH, L&quot;Courier&quot;);
    h_old_font = (HFONT)SelectObject(h_DC, h_font);
    wglUseFontBitmaps(h_DC, 32, 96, font_base);
    SelectObject(h_DC, h_old_font);
    DeleteObject(h_font);
    b_font_build = true;
}
void GL::print_gl(float x, float y, const GLubyte color[3], const char* fmt, ...)
{
    if (!b_font_build) {
        GL::build_font();
    }
    if (fmt == NULL) {
        return;
    }
    glColor3f(color[0], color[1], color[2]);
    glRasterPos2i(x, y);
    char        text[256];
    va_list     ap;
    va_start(ap, fmt);
    vsprintf(text, fmt, ap);
    va_end(ap);
    glPushAttrib(GL_LIST_BIT);
    glListBase(font_base - 32);
    glCallLists(strlen(text), GL_UNSIGNED_BYTE, text);
    glPopAttrib();
}
void GL::draw_esp_box(float pos_x, float pos_y, float distance, const GLubyte color[3], const BYTE* text, const int health, const int armor) {
    float line_width = 0.5f; // Толщина линии
    GLint view_port[4];
    glGetIntegerv(GL_VIEWPORT, view_port);
    float height = (view_port[3] / distance) * 3; // Высота бокса
    float width = (view_port[2] / distance); // Ширина бокса
    // Snap lines
    GL::draw_line(view_port[2] / 2.0f, (float)view_port[3], pos_x, pos_y, line_width + 2.0f, rgb::black);
    GL::draw_line(view_port[2] / 2.0f, (float)view_port[3], pos_x, pos_y, line_width, color);
    // Очертания
    GL::draw_out_line(pos_x - (width / 2), pos_y - height, width, height, line_width + 2.0f, rgb::black);
    GL::draw_out_line(pos_x - (width / 2), pos_y - height, width, height, line_width, color);
    // Здоровье
    if (health != -1) {
        float perc = (width / 100);
        float curr = perc * health;
        GL::draw_filled_rectangle(pos_x - (width / 2) - 1, ((pos_y - (height / 10)) - 1) - height, width + 2, (height / 15) + 2, rgb::black);
        GL::draw_filled_rectangle(pos_x - (width / 2), (pos_y - (height / 10)) - height, width, height / 15, rgb::light_gray);
        GLubyte Hcolor[3]{ static_cast&lt;GLubyte&gt;(255 - (2.5f * health)), static_cast&lt;GLubyte&gt;(health * 2.5f), 0 };
        GL::draw_filled_rectangle(pos_x - (width / 2), (pos_y - (height / 10)) - height, curr, height / 15, Hcolor);
    }
    // Броня
    if (armor != -1) {
        float perc = (width / 100);
        float curr = perc * armor;
        GL::draw_filled_rectangle(pos_x - (width / 2) - 1, ((pos_y - (height / 5)) - 1) - height, width + 2, (height / 15) + 2, rgb::black);
        GL::draw_filled_rectangle(pos_x - (width / 2), (pos_y - (height / 5)) - height, width, height / 15, rgb::light_gray);
        GL::draw_filled_rectangle(pos_x - (width / 2), (pos_y - (height / 5)) - height, curr, height / 15, rgb::blue);
    }
    // Имя
    GL::print_gl(pos_x - (width / 2), (pos_y - (height / 4)) - height, rgb::yellow,(char *)text);
}
bool GL::world_to_screen(Vector3 pos, Vector3&amp; screen, float matrix[16]) {
    // Получение ширины и высоты экрана
    GLint view_port[4];
    glGetIntegerv(GL_VIEWPORT, view_port);
    int window_width = view_port[2];
    int window_height = view_port[3];
    // Матрично-векторный результат, умножающий мировые (глазные) координаты на проекционную матрицу (clip_coords)
    Vector4 clip_coords;
    clip_coords.x = pos.x * matrix[0] + pos.y * matrix[4] + pos.z * matrix[8] + matrix[12];
    clip_coords.y = pos.x * matrix[1] + pos.y * matrix[5] + pos.z * matrix[9] + matrix[13];
    clip_coords.z = pos.x * matrix[2] + pos.y * matrix[6] + pos.z * matrix[10] + matrix[14];
    clip_coords.w = pos.x * matrix[3] + pos.y * matrix[7] + pos.z * matrix[11] + matrix[15];
    // Если координаты не на экране
    if (clip_coords.w &lt; 0.1f) {
        return false;
    }
    // Перспективное деление, деление на clip.W, то есть нормализованные координаты устройства
    Vector3 NDC;
    NDC.x = clip_coords.x / clip_coords.w;
    NDC.y = clip_coords.y / clip_coords.w;
    NDC.z = clip_coords.z / clip_coords.w;
    // Преобразование в координаты экрана
    screen.x = (window_width / 2 * NDC.x) + (NDC.x + window_width / 2);
    screen.y = -(window_height / 2 * NDC.y) + (NDC.y + window_height / 2);
    return true;
}</code></pre>
	</div>
</div><br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-proverka-rabotosposobnosti"></a>ПРОВЕРКА РАБОТОСПОСОБНОСТИ&#8203;<a class="hoverLink" href="#-proverka-rabotosposobnosti" title="Постоянная ссылка"></a></h2>Для начала запустим наш чит.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="65-cheat-loaded.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30338%2F65-cheat-loaded.png&amp;hash=c4146742468a755ad9d7e663e0382bf8" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../65-cheat-loaded8cd9.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30338%2F65-cheat-loaded.png&amp;hash=c4146742468a755ad9d7e663e0382bf8"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30338/65-cheat-loaded.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="65-cheat-loaded.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Для активации ESP-хака жмем F1, для деактивации — F2.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="66-esp-on.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30337%2F66-esp-on.png&amp;hash=0f43d87446bcfb28e9158c94018c9f66" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../66-esp-on84d2.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30337%2F66-esp-on.png&amp;hash=0f43d87446bcfb28e9158c94018c9f66"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30337/66-esp-on.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="66-esp-on.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
Для активации aimbot жмем F2 и, чтобы он заработал, зажимаем правую кнопку мыши. Для деактивации хака жмем F2<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="67-aimbot-on.png"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30336%2F67-aimbot-on.png&amp;hash=258bc62687e7639b4dab58210013642f" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../67-aimbot-on4ca2.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2F7b9b9fe3097c3f9c4084de4f20d834a9%2F30336%2F67-aimbot-on.png&amp;hash=258bc62687e7639b4dab58210013642f"
			data-url="../../../static.xakep.ru/images/7b9b9fe3097c3f9c4084de4f20d834a9/30336/67-aimbot-on.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="67-aimbot-on.png"
			title=""
			width="" height="" loading="lazy" />
	</div><br />
<br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-vyvody"></a>ВЫВОДЫ&#8203;<a class="hoverLink" href="#-vyvody" title="Постоянная ссылка"></a></h2>Мы научились искать с помощью Cheat Engine не только поля класса игрока, но и сам класс игрока, а также список игроков, их количество и матрицу вида. Сделали базовые хаки для любых сетевых шутеров. И приблизились к почти полноценному читу. В конечной форме он будет еще включать в себя обход античита, но об этом поговорим в другой раз.</div>
						

							<h2>Как создать свой чит/трейнер - 3</h2>

							

							

							<div class="bbWrapper"><div class="bbImageWrapper  js-lbImage" title="1746858815274.png"
		data-src="https://osint42.org/attachments/1746858815274-png.375/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858815274-png.375/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858815274.png"
			title="1746858815274.png"
			width="1089" height="418" loading="lazy" />
	</div><br />
<br />
Долгожданная третья часть автора приватных статей с Хакера:<a href="https://xakep.ru/2024/05/28/unity-anticheat-bypass/" target="_blank" class="link link--external" rel="noopener">Чит своими руками. Обходим простой античит и исследуем игру на Unity</a><br />
<br />


<div class="embed fauxBlockLink" data-embed-content="ams_article-10" data-embed-content-url="https://bitsec42.org/ams/tsikl-statei-kak-sozdat-svoi-chit-treiner.10/">
	

<div class="embeddedAmsArticle block--messages">
	<div class="block-row block-row--separated" data-author="0x42">
		<div class="contentRow amsArticleSearchResultRow">
			
			<div class="contentRow-main">
				<h3 class="contentRow-title">
					<a href="index.html"> Статья 'Цикл статей. Как создать свой чит/трейнер'</a>
				</h3>

				<div class="contentRow-snippet">
					Приватная статья, часть первая:Чит своими руками. Вскрываем компьютерную игру и пишем трейнер на C++

Играть в игры любят все, но это гораздо интереснее, когда у тебя имеется нескончаемый запас патронов и здоровья. Чтобы обзавестись и тем и другим, можно погуглить читы и трейнеры для твоей...
				</div>

				<div class="contentRow-minor contentRow-minor--hideLinks">
					<ul class="listInline listInline--bullet">
						<li><a href="https://osint42.org/members/0x42.1/" class="username " dir="auto" data-user-id="1" data-xf-init="member-tooltip"><span class="username--moderator username--admin">0x42</span></a></li>
						<li><time  class="u-dt" dir="auto" datetime="2025-05-10T09:26:29+0300" data-timestamp="1746858389" data-date="10.05.2025" data-time="09:26" data-short="10 Май" title="10.05.2025 в 09:26">10.05.2025</time></li>
						
							<li>Обновлено <time  class="u-dt" dir="auto" datetime="2025-05-10T09:38:50+0300" data-timestamp="1746859130" data-date="10.05.2025" data-time="09:38" data-short="10 Май" title="10.05.2025 в 09:38">10.05.2025</time></li>
												
						
							<li>43 min read</li>
												
						
						
						
							<li>Реакции: 2</li>
												
						
						
						<li>Категория: <a href="../categories/gamehacking.10/index.html">GameHacking</a></li>
												
					</ul>
				</div>
			</div>
		</div>
	</div>
</div>
</div><br />


<div class="embed fauxBlockLink" data-embed-content="ams_page-46" data-embed-content-url="https://bitsec42.org/ams/tsikl-statei-kak-sozdat-svoi-chit-treiner.10/page/kak-sozdat-svoi-chit-treiner-2.46/">
	

<div class="embeddedAmsArticle block--messages">
	<div class="block-row block-row--separated" data-author="0x42">
		<div class="contentRow amsArticleSearchResultRow">
			
			<div class="contentRow-main">
				<h3 class="contentRow-title">
					<a href="page/kak-sozdat-svoi-chit-treiner-2.46/index.html"> Цикл статей. Как создать свой чит/трейнер - Как создать свой чит/трейнер - 2</a>
				</h3>

				<div class="contentRow-snippet">
					Продолжение крутой статьи:Цикл статей. Как создать свой чит/трейнер

Автор реально постарался всё расписать, респект:Чит своими руками. Смотрим сквозь стены и делаем автоприцеливание для 3D-шутера

Сегодня мы с тобой напишем чит для сетевого шутера. Мы реализуем хаки типа extrasensory perception...
				</div>

				<div class="contentRow-minor contentRow-minor--hideLinks">
					<ul class="listInline listInline--bullet">
						<li><a href="https://osint42.org/members/0x42.1/" class="username " dir="auto" data-user-id="1" data-xf-init="member-tooltip"><span class="username--moderator username--admin">0x42</span></a></li>
						<li><time  class="u-dt" dir="auto" datetime="2025-05-10T09:30:00+0300" data-timestamp="1746858600" data-date="10.05.2025" data-time="09:30" data-short="10 Май" title="10.05.2025 в 09:30">10.05.2025</time></li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</div>
</div><br />
В этой статье я попробую показать, как создать собственный чит, который будет противостоять используемым в играх античит‑системам. Для этого нам понадобится поупражняться в реверсе и познакомиться с устройством игр, написанных на Unity.<br />
<br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-antichit"></a>АНТИЧИТ&#8203;<a class="hoverLink" href="#-antichit" title="Постоянная ссылка"></a></h2>Итак, античит — это некая программа, которая мешает игрокам в онлайновые игры получать нечестное преимущество за счет использования стороннего ПО. Не буду пытаться объяснить это на абстрактном примере, лучше давай сразу перейдем к практике. По дороге все поймешь!<br />
 <br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-quick-universal-anti-cheat-kit"></a>Quick Universal Anti-Cheat Kit&#8203;<a class="hoverLink" href="#-quick-universal-anti-cheat-kit" title="Постоянная ссылка"></a></h3>Так как нет (или я просто не нашел) античитов уровня ядра с открытым исходным кодом, то выбирать будем из опенсорсных античитов, в которых присутствует только античит пользовательского уровня. Мой выбор пал на античит <a href="https://github.com/JonathanBerkeley/Quack" target="_blank" class="link link--external" rel="noopener">Quick Universal Anti-Cheat Kit</a> (далее Quack).<br />
<br />
Сразу предупреждаю, что Quack — это лишь простенькая опенсорсная демонстрация концепции. Обойти ее проще, чем системы, которые используются в популярных играх. Все коммерческие античиты работают как на пользовательском уровне, так и  на уровне ядра. Причем самые важные защитные функции обычно реализованы именно в виде драйвера.<br />
<br />
Однако для обучения Quack сгодится как нельзя лучше, и изложенное дальше должно стать фундаментом для будущих изысканий.<br />
<br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-arkhitektura-quack"></a>Архитектура Quack&#8203;<a class="hoverLink" href="#-arkhitektura-quack" title="Постоянная ссылка"></a></h3>Давай посмотрим на общую архитектуру античита глазами ее автора. Далее я объясню, для чего нужен каждый выделенный на схеме компонент.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858827461.png"
		data-src="https://osint42.org/attachments/1746858827461-png.376/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858827461-png.376/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858827461.png"
			title="1746858827461.png"
			width="1305" height="1077" loading="lazy" />
	</div><br />
<br />
Зеленым цветом я выделил клиентскую часть (то, что будет работать на компьютере игрока):<br />
<ul>
<li data-xf-list-type="ul">Protected video game — игра, которую мы запускаем на своем компьютере и которую будет защищать античит;</li>
<li data-xf-list-type="ul">Anti-cheat .DLL — пользовательская часть античита, DLL, которая существует в контексте созданного процесса игры и которая отвечает за защиту памяти процесса игры;</li>
<li data-xf-list-type="ul">Standalone usermode anti-cheat process — пользовательская часть античита. Это главный модуль античита (оркестратор), который общается с пользовательской и ядерной частями, а также держит связь с сервером античита;</li>
<li data-xf-list-type="ul">Kernel mode anti-cheat — ядерная часть античита. Отвечает за защиту двух других модулей античита. Не реализовано.</li>
</ul>Синим цветом я выделил серверную часть (то, что будет работать вне компьютера игрока):<br />
<ul>
<li data-xf-list-type="ul">Master server — отвечает за хранение учетной записи игрока и управление ею;</li>
<li data-xf-list-type="ul">Game server — отвечает за отслеживание состояния элементов в игре, а также местоположения игроков и врагов на карте;</li>
<li data-xf-list-type="ul">Anti-cheat database — база данных игроков.</li>
</ul><h3 class="bbHeading"><a class="u-anchorTarget" name="-nastraivayem-quack"></a>Настраиваем Quack&#8203;<a class="hoverLink" href="#-nastraivayem-quack" title="Постоянная ссылка"></a></h3>Если после развертывания Quack (как это сделать, смотри в руководстве <a href="https://github.com/JonathanBerkeley/Quack" target="_blank" class="link link--external" rel="noopener">на GitHub</a> и <a href="https://www.youtube.com/watch?v=r_laptslep4&amp;ab_channel=JonathanBerkeley" target="_blank" class="link link--external" rel="noopener">на YouTube</a>) у тебя ничего не работает, то советую повнимательнее изучить следующие файлы и настроить сетевые адреса и порты в соответствии с реальными условиями.<br />
<br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-gamedevcaserver-program-cs"></a>GameDevCAServer\Program.cs&#8203;<a class="hoverLink" href="#-gamedevcaserver-program-cs" title="Постоянная ссылка"></a></h4>var settings = MongoClientSettings.FromConnectionString(env[&quot;DB_URI&quot;]);<br />
settings.ServerApi = new ServerApi(ServerApiVersion.V1);<br />
<br />
var mongoClient = new MongoClient(settings);<br />
database = mongoClient.GetDatabase(env[&quot;DB_NAME&quot;]);<br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-quack-server-src-main-js"></a>Quack-server\src\main.js&#8203;<a class="hoverLink" href="#-quack-server-src-main-js" title="Постоянная ссылка"></a></h4>class Config {<br />
    static DB_URI = process.env.DB_URI<br />
    static DB_NAME = process.env.DB_NAME<br />
    static PORT = process.env.PORT<br />
<br />
    static CLIENT = new MongoClient(this.DB_URI)<br />
<br />
    static DEV_MODE = true<br />
    static VERSION = process.env.npm_package_version<br />
}<br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-quack-internal-constants-hpp"></a>Quack-internal\constants.hpp&#8203;<a class="hoverLink" href="#-quack-internal-constants-hpp" title="Постоянная ссылка"></a></h4>namespace constants {<br />
    const LPCWSTR W_DLL_NAME { L&quot;Quack-internal&quot; };<br />
    const LPCSTR DLL_NAME{ &quot;Quack-internal&quot; };<br />
<br />
    const std::string VERSION { &quot;0.6.5&quot; };<br />
    constexpr unsigned IPC_PORT = 5175; // Local machine communications port<br />
    constexpr unsigned NET_PORT = 7982; // Foreign network communications port<br />
    static constexpr bool DBG = false;<br />
}<br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-quack-client-constants-hpp"></a>Quack-client\constants.hpp&#8203;<a class="hoverLink" href="#-quack-client-constants-hpp" title="Постоянная ссылка"></a></h4>namespace constants {<br />
    const std::string VERSION{ &quot;0.4.2&quot; };<br />
    const std::string NAME{ &quot;Quack&quot; };<br />
    constexpr unsigned IPC_PORT = 5175; // Local machine communications port<br />
    constexpr unsigned NET_PORT = 7982; // Foreign network communications port<br />
    static constexpr bool DBG = false;<br />
}<br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-quack-client-flashpoint-cpp"></a>Quack-client\flashpoint.cpp&#8203;<a class="hoverLink" href="#-quack-client-flashpoint-cpp" title="Постоянная ссылка"></a></h4>http::Client cli{ &quot;localhost&quot;, constants::NET_PORT };<br />
<br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-proveryayem-rabotosposobnost-quack"></a>Проверяем работоспособность Quack&#8203;<a class="hoverLink" href="#-proveryayem-rabotosposobnost-quack" title="Постоянная ссылка"></a></h3>Для начала нам нужно убедиться в том, что все работает. Для этого так же, как и автор античита, будем использовать его игру <a href="https://github.com/JonathanBerkeley/Inertia" target="_blank" class="link link--external" rel="noopener">Inertia</a>, инжектор <a href="https://github.com/JonathanBerkeley/destroject/" target="_blank" class="link link--external" rel="noopener">Destroject</a> и внутренний чит <a href="https://github.com/JonathanBerkeley/Inertia-cheat/" target="_blank" class="link link--external" rel="noopener">Inertia-cheat</a>. Подключимся к серверу по адресу lh (localhost) с ником xakep0.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858841533.png"
		data-src="https://osint42.org/attachments/1746858841533-png.377/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858841533-png.377/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858841533.png"
			title="1746858841533.png"
			width="1098" height="604" loading="lazy" />
	</div><br />
<br />
В консоли игрового сервера видим, что произошло подключение.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858851315.png"
		data-src="https://osint42.org/attachments/1746858851315-png.378/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858851315-png.378/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858851315.png"
			title="1746858851315.png"
			width="718" height="280" loading="lazy" />
	</div><br />
<br />
Также в базе данных античита видим, что появилась запись.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858864190.png"
		data-src="https://osint42.org/attachments/1746858864190-png.379/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858864190-png.379/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858864190.png"
			title="1746858864190.png"
			width="1408" height="406" loading="lazy" />
	</div><br />
<br />
Начинаем тест. Для этого в командной строке выполним Destroject.exe Inertia (не забыв рядом положить Inertia-cheat.dll). Видим, что инжект чита успешно выполнен.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858879444.png"
		data-src="https://osint42.org/attachments/1746858879444-png.380/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858879444-png.380/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858879444.png"
			title="1746858879444.png"
			width="1098" height="604" loading="lazy" />
	</div><br />
<br />
Активируем чит нажатием клавиши E.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858889625.png"
		data-src="https://osint42.org/attachments/1746858889625-png.381/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858889625-png.381/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858889625.png"
			title="1746858889625.png"
			width="1098" height="604" loading="lazy" />
	</div><br />
<br />
<b><u>Видим, что чит активирован, но сразу же происходит бан.)</u></b><br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858899362.png"
		data-src="https://osint42.org/attachments/1746858899362-png.382/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858899362-png.382/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858899362.png"
			title="1746858899362.png"
			width="1098" height="604" loading="lazy" />
	</div><br />
<br />
Посмотрев в БД античита, мы можем узнать, из‑за чего нас забанили.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858907132.png"
		data-src="https://osint42.org/attachments/1746858907132-png.383/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858907132-png.383/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858907132.png"
			title="1746858907132.png"
			width="1408" height="483" loading="lazy" />
	</div><br />
<br />
Пробуем сменить никнейм, но нас все равно не пускают.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858920515.png"
		data-src="https://osint42.org/attachments/1746858920515-png.384/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858920515-png.384/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858920515.png"
			title="1746858920515.png"
			width="1098" height="604" loading="lazy" />
	</div><br />
<br />
Если попытаться открыть Cheat Engine, он через пару секунд закроется, но бан не прилетит.<br />
<br />
 <br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-unity"></a>UNITY&#8203;<a class="hoverLink" href="#-unity" title="Постоянная ссылка"></a></h2>Прежде чем расчехлять <a href="https://hex-rays.com/ida-pro/" target="_blank" class="link link--external" rel="noopener">IDA Pro</a> и приступать к реверсу античита, сделаем небольшое отступление. Если ты уже заглянул в код чита, то мог заметить следующий участок:<br />
<br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-inertia-cheat-player-cpp"></a>Inertia-cheat\player.cpp&#8203;<a class="hoverLink" href="#-inertia-cheat-player-cpp" title="Постоянная ссылка"></a></h4>
	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="c"><code>std::optional&lt;Player&gt; GetPlayer() {
    auto start_point = reinterpret_cast&lt;std::uintptr_t&gt;(GetModuleHandleA(&quot;UnityPlayer.dll&quot;));
    start_point += offsets::player.start_point;

    // Get a pointer to health
    const auto health_ptr = TraverseChain(start_point, offsets::player.ptr_chain).value_or(0u);

    if (!health_ptr)
        return std::nullopt;

    const auto ammo_ptr = health_ptr - 0x4;

    const Player player{
        .health = reinterpret_cast&lt;std::int32_t*&gt;(health_ptr),
        .ammo = reinterpret_cast&lt;std::int32_t*&gt;(ammo_ptr)
    };

    return player;
}</code></pre>
	</div>
</div><br />
Здесь стоит обратить внимание на строчку &quot;UnityPlayer.dll&quot;. Дело в том, что игра написана на движке <a href="https://unity.com/" target="_blank" class="link link--external" rel="noopener">Unity</a>.<br />
<br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-inertia-cheat-data-cpp"></a>Inertia-cheat\data.cpp&#8203;<a class="hoverLink" href="#-inertia-cheat-data-cpp" title="Постоянная ссылка"></a></h4>
	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="c"><code>namespace offsets {
    PointerChain player = {
        .start_point = 0x13A1340,
        .ptr_chain { 0xC2C, 0xDC8, 0xEA8, 0x18, 0x38 }
    };
}</code></pre>
	</div>
</div><br />
Также мы имеем цепочку указателей для UnityPlayer.dll. Откроем ее в IDA Pro по адресу base+0x13A1340. Видим, что здесь размещено значение переменной из стека и дальше поиск класса игрока идет в стеке.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858934307.png"
		data-src="https://osint42.org/attachments/1746858934307-png.385/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858934307-png.385/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858934307.png"
			title="1746858934307.png"
			width="1081" height="483" loading="lazy" />
	</div><br />
<br />
Чтобы облегчить себе задачу, воспользуемся утилитой <a href="https://learn.microsoft.com/en-us/windows-hardware/drivers/debugger/symchk" target="_blank" class="link link--external" rel="noopener">symchk</a>, которая позволит получить отладочные символы. Найти ее можно в составе <a href="https://learn.microsoft.com/en-us/windows-hardware/drivers/debugger/debugger-download-tools" target="_blank" class="link link--external" rel="noopener">Debugging Tools for Windows</a>.<br />
<br />
После установки symchk в командной строке выполним следующую команду:<br />
<br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		Код:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang=""><code>symchk.exe /r UnityPlayer.dll /s srv*http://symbolserver.unity3d.com /v</code></pre>
	</div>
</div><br />
Загруженные отладочные символы будут расположены здесь:<br />
<br />
C:\ProgramData\dbg\sym\UnityPlayer_Win32_mono_x86.pdb\EAF358F010DF4F28A0807EA7305B4B241\UnityPlayer_Win32_mono_x86.pdb<br />
<br />
После загрузим их в IDA Pro.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858946256.png"
		data-src="https://osint42.org/attachments/1746858946256-png.386/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858946256-png.386/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858946256.png"
			title="1746858946256.png"
			width="1186" height="483" loading="lazy" />
	</div><br />
<br />
После загрузки отладочных символов картина яснее не стала. Но пожалуй, мы не будем углубляться. Я лишь резюмирую, что такой способ подходит для Unity-чита, если нужно только менять значения в классе игрока, а не отрисовывать что‑то (как я делал в <a href="https://xakep.ru/2023/03/28/aimbot-esp-cheat/" target="_blank" class="link link--external" rel="noopener">прошлой статье</a>).<br />
<br />
Если хочешь подробнее изучить читы для Unity, оставлю ссылки:<br />
<ul>
<li data-xf-list-type="ul"><a href="https://github.com/imadr/Unity-game-hacking" target="_blank" class="link link--external" rel="noopener">Unity game hacking</a></li>
<li data-xf-list-type="ul"><a href="https://www.unknowncheats.me/forum/unity/285864-beginners-guide-hacking-unity-games.html" target="_blank" class="link link--external" rel="noopener">A Beginner’s Guide To Hacking Unity Games</a></li>
<li data-xf-list-type="ul"><a href="https://www.mayer.cool/writings/Unity-Hacking-101-Hacking-with-Reflection/" target="_blank" class="link link--external" rel="noopener">Unity Hacking 101: Hacking with Reflection</a></li>
</ul>Также есть полезный инструмент <a href="https://github.com/Perfare/AssetStudio" target="_blank" class="link link--external" rel="noopener">AssetStudio</a>, который позволяет просматривать текстуры, спрайты, фоны и прочие ассеты игр, написанных на Unity.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858956884.png"
		data-src="https://osint42.org/attachments/1746858956884-png.387/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858956884-png.387/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858956884.png"
			title="1746858956884.png"
			width="1266" height="713" loading="lazy" />
	</div><br />
<br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-mono"></a>Mono&#8203;<a class="hoverLink" href="#-mono" title="Постоянная ссылка"></a></h3>В Unity есть несколько вариантов бэкендов, которые могут исполнять игровой код. Наша игра исполняется в виртуальной машине <a href="https://docs.unity3d.com/Manual/Mono.html" target="_blank" class="link link--external" rel="noopener">Mono</a>, и вся интересующая нас информация, в том числе класс игрока, находятся вот в этом файле:<br />
<br />
Inertia\Inertia_Data\Managed\Assembly-CSharp.dll<br />
<br />
Откроем эту библиотеку в <a href="https://github.com/dnSpyEx/dnSpy" target="_blank" class="link link--external" rel="noopener">dnSpy</a>.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858966541.png"
		data-src="https://osint42.org/attachments/1746858966541-png.388/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858966541-png.388/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858966541.png"
			title="1746858966541.png"
			width="595" height="500" loading="lazy" />
	</div><br />
<br />
Слева будут указаны все классы игры, среди них мы с легкостью можем найти класс игрока, как для сетевой игры, так и для одиночной.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858974517.png"
		data-src="https://osint42.org/attachments/1746858974517-png.389/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858974517-png.389/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858974517.png"
			title="1746858974517.png"
			width="955" height="483" loading="lazy" />
	</div><br />
<br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-il2cpp"></a>IL2CPP&#8203;<a class="hoverLink" href="#-il2cpp" title="Постоянная ссылка"></a></h3>Как вариант, код игры может быть транслирован в C++ при помощи бэкенда <a href="https://docs.unity3d.com/Manual/IL2CPP.html" target="_blank" class="link link--external" rel="noopener">IL2CPP</a> (Intermediate Language To C++) и скомпилирован. Ниже — более подробная схема этого процесса, а подробное описание ты найдешь <a href="https://docs.unity3d.com/Manual/IL2CPP.html#HowItWorks" target="_blank" class="link link--external" rel="noopener">в документации</a>.<br />
<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858986035.png"
		data-src="https://osint42.org/attachments/1746858986035-png.390/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858986035-png.390/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858986035.png"
			title="1746858986035.png"
			width="885" height="383" loading="lazy" />
	</div><br />
<br />
Если игра собрана с IL2CPP, то в Inertia\Inertia_Data\ мы не найдем ни папки Managed, ни Assembly-CSharp.dll, а интерес для нас будет представлять GameAssembly.dll. Если мы откроем этот файл в dnSpy, то не увидим ничего интересного.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746858993781.png"
		data-src="https://osint42.org/attachments/1746858993781-png.391/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746858993781-png.391/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746858993781.png"
			title="1746858993781.png"
			width="559" height="228" loading="lazy" />
	</div><br />
<br />
Все дело в том, что игровая логика была скомпилирована в нативный код. Впрочем, и на этот случай есть решение — утилита <a href="https://github.com/Perfare/Il2CppDumper" target="_blank" class="link link--external" rel="noopener">Il2CppDumper</a>, которая поможет извлечь всю информацию.<br />
<br />
Выполним такую команду:<br />
<br />
Il2CppDumper.exe Inertia\GameAssembly.dll Inertia\Inertia_Data\il2cpp_data\Metadata\global-metadata.dat Inertia_dump<br />
<br />
И получим папку Inertia_dump с содержимым, как на скриншоте.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746859004889.png"
		data-src="https://osint42.org/attachments/1746859004889-png.392/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746859004889-png.392/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746859004889.png"
			title="1746859004889.png"
			width="667" height="142" loading="lazy" />
	</div><br />
<br />
Файл dump.cs — восстановленный исходный код Assembly-CSharp.dll.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746859011642.png"
		data-src="https://osint42.org/attachments/1746859011642-png.393/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746859011642-png.393/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746859011642.png"
			title="1746859011642.png"
			width="1060" height="440" loading="lazy" />
	</div><br />
<br />
DummyDll — папка, которая содержит все восстановленные бинарные файлы. Это как раз и есть содержимое Managed, в том числе есть и наш Assembly-CSharp.dll.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746859020521.png"
		data-src="https://osint42.org/attachments/1746859020521-png.394/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746859020521-png.394/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746859020521.png"
			title="1746859020521.png"
			width="872" height="335" loading="lazy" />
	</div><br />
<br />
Прочие важные файлы:<br />
<ul>
<li data-xf-list-type="ul">il2cpp.h — заголовочный файл со структурами;</li>
<li data-xf-list-type="ul">script.json — скрипт для ida.py, ghidra.py и Il2CppBinaryNinja;</li>
<li data-xf-list-type="ul">stringliteral.json — содержит всю информацию о найденных строках.</li>
</ul><h2 class="bbHeading"><a class="u-anchorTarget" name="-izuchayem-i-obkhodim-antichit"></a>ИЗУЧАЕМ И ОБХОДИМ АНТИЧИТ&#8203;<a class="hoverLink" href="#-izuchayem-i-obkhodim-antichit" title="Постоянная ссылка"></a></h2>Для начала посмотрим, что есть в папке с игрой.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746859031738.png"
		data-src="https://osint42.org/attachments/1746859031738-png.395/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746859031738-png.395/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746859031738.png"
			title="1746859031738.png"
			width="941" height="151" loading="lazy" />
	</div><br />
<ul>
<li data-xf-list-type="ul">Identify.dll — некая DLL, назначение которой нам неизвестно;</li>
<li data-xf-list-type="ul">Quack-ac.exe — главный модуль античита;</li>
<li data-xf-list-type="ul">Quack-internal.dll — библиотека, которая будет загружена в контекст игры.</li>
</ul><h3 class="bbHeading"><a class="u-anchorTarget" name="-obkhodim-detekt-po-hwid"></a>Обходим детект по HWID&#8203;<a class="hoverLink" href="#-obkhodim-detekt-po-hwid" title="Постоянная ссылка"></a></h3>Для начала исследуем Identify.dll. Откроем ее в IDA Pro и перейдем в единственную экспортируемую функцию GetHWID. Сокращение HWID (Hardware Identification) дает нам понять, что функция собирает информацию о компьютере. Но в этом нам все‑таки нужно убедиться.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746859050557.png"
		data-src="https://osint42.org/attachments/1746859050557-png.396/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746859050557-png.396/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746859050557.png"
			title="1746859050557.png"
			width="728" height="446" loading="lazy" />
	</div><br />
<br />
Перейдем в функцию sub_10003DA0 и увидим следующие константы.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746859057463.png"
		data-src="https://osint42.org/attachments/1746859057463-png.397/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746859057463-png.397/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746859057463.png"
			title="1746859057463.png"
			width="735" height="300" loading="lazy" />
	</div><br />
<br />
После гугления выясняем, что это часть алгоритма SHA-256. А значит, после того как соберется информация о железе игрока, от нее будет взят хеш по алгоритму SHA-256.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746859064835.png"
		data-src="https://osint42.org/attachments/1746859064835-png.398/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746859064835-png.398/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746859064835.png"
			title="1746859064835.png"
			width="857" height="288" loading="lazy" />
	</div><br />
<br />
После перейдем в функцию sub_10003590 и снова изучим константы.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746859074091.png"
		data-src="https://osint42.org/attachments/1746859074091-png.399/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746859074091-png.399/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746859074091.png"
			title="1746859074091.png"
			width="706" height="364" loading="lazy" />
	</div><br />
<br />
Снова гуглим и узнаём, что эти константы — часть алгоритма перевода байтов в шестнадцатеричную строку.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746859081503.png"
		data-src="https://osint42.org/attachments/1746859081503-png.400/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746859081503-png.400/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746859081503.png"
			title="1746859081503.png"
			width="662" height="706" loading="lazy" />
	</div><br />
<br />
И последнее действие — копирование шестнадцатеричной строки SHA-256 в аргумент экспортируемой функции.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746859089201.png"
		data-src="https://osint42.org/attachments/1746859089201-png.401/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746859089201-png.401/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746859089201.png"
			title="1746859089201.png"
			width="730" height="454" loading="lazy" />
	</div><br />
<br />
Имея полную картину, мы можем воспроизвести алгоритм, но хеш у нас будет браться не от HWID, а от рандомного значения. Для реализации возьмем код <a href="https://github.com/System-Glitch/SHA256/blob/master/src/main.cpp" target="_blank" class="link link--external" rel="noopener">из реализации SHA-256</a>.<br />
<br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="c"><code>// Определение экспортируемой функции GetHWID
extern &quot;C&quot; {
    void __declspec(dllexport) GetHWID(char* message) {
        // Объявление переменной для хеша
        SHA256 sha;
        // Инициализация сида от текущего времени для рандома
        srand((unsigned)time(NULL));
        // Получение рандомного значения
        std::string random = std::to_string(rand());
        // Получение SHA-256 для рандомного значения
        sha.update(random);
        // Получение значения хеша
        std::array&lt;uint8_t, 32&gt; digest = sha.digest();
        // Получение шестнадцатеричной строки хеша
        std::string sha256 = SHA256::toString(digest);
        // Присвоение аргументу значения хеша
        for (int i = 0u; i &lt; sha256.length(); ++i) {
            message[i] = sha256[i];
        }
    }
}</code></pre>
	</div>
</div><br />
Теперь заменим исходную Identify.dll нашей. Но к сожалению, подключиться не выходит.<br />
<br />
Давай посмотрим, что происходит в окне, где у нас запущен сервер.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Логи игрового сервера"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35925%2F27-hwid-not-found.png&amp;hash=e3569f381de167eccc3de490161dbdfc" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../27-hwid-not-found4432.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35925%2F27-hwid-not-found.png&amp;hash=e3569f381de167eccc3de490161dbdfc"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35925/27-hwid-not-found.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Логи игрового сервера"
			title="Логи игрового сервера"
			width="" height="" loading="lazy" />
	</div><br />
<br />
Оказывается, Identify.dll — это часть игры, позволяющая идентифицировать игрока, и к античиту не относится. Что ж, немного промахнулись, но наши наработки еще пригодятся дальше.<br />
 <br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-obkhodim-detekt-signatur"></a>Обходим детект сигнатур&#8203;<a class="hoverLink" href="#-obkhodim-detekt-signatur" title="Постоянная ссылка"></a></h3>Античит, как и антивирус, умеет проверять сигнатуры бинарных файлов, в нашем случае — в поисках читов. В нашем случае база сигнатур хранится внутри Quack-internal.dll.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Найденные сигнатуры читов в Quack-internal.dll"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35919%2F28-ida-cheats-sig.png&amp;hash=165e82bdbfc6dd4794d94accdbf560e8" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../28-ida-cheats-siga5d2.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35919%2F28-ida-cheats-sig.png&amp;hash=165e82bdbfc6dd4794d94accdbf560e8"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35919/28-ida-cheats-sig.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Найденные сигнатуры читов в Quack-internal.dll"
			title="Найденные сигнатуры читов в Quack-internal.dll"
			width="" height="" loading="lazy" />
	</div><br />
<br />
Выглядит эта база как список строк, где звездочка — это маска, означающая, что в этом месте может быть любой байт.<br />
<br />
55 8B EC 83 EC 2C A1 * * * * 33 C5 89 45 FC 53 56 8B 35 * * * * 57 6A 23 8B F9 FF D6 A8 01 0F 85<br />
68 * * * * FF 15 * * * * 8B 35 * * * * 8B 3D * * * * 03 F0 A1 * * * * 89 45 C8 3B F8 74 5D<br />
50 A1 * * * * 33 C5 50 8D 45 F4 64 A3 * * * * 6A 19<br />
<br />
Изучив код, находим функции, которые отвечают за сигнатурный детект.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Идентифицируем алгоритм поиска читов"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35900%2F29-found-cheat-code.png&amp;hash=89cd99bbfe4ce5cbc7ab8907f8bafc4f" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../29-found-cheat-code0102.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35900%2F29-found-cheat-code.png&amp;hash=89cd99bbfe4ce5cbc7ab8907f8bafc4f"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35900/29-found-cheat-code.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Идентифицируем алгоритм поиска читов"
			title="Идентифицируем алгоритм поиска читов"
			width="" height="" loading="lazy" />
	</div><br />
<ol>
<li data-xf-list-type="ol">Инициализируется паттерн.</li>
<li data-xf-list-type="ol">Паттерн ищется в памяти.</li>
<li data-xf-list-type="ol">Если есть совпадение, запускается процедура бана.</li>
</ol>Теперь нам нужно понять, что менять в нашем чите, чтобы обходить проверку.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Найденная байтовая последовательность в Inertia-cheat.dll"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35914%2F30-cheat-find-pattern.png&amp;hash=af0d4b90863156bfb2a4c868e4278e20" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../30-cheat-find-pattern73af.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35914%2F30-cheat-find-pattern.png&amp;hash=af0d4b90863156bfb2a4c868e4278e20"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35914/30-cheat-find-pattern.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Найденная байтовая последовательность в Inertia-cheat.dll"
			title="Найденная байтовая последовательность в Inertia-cheat.dll"
			width="" height="" loading="lazy" />
	</div><br />
<br />
Есть несколько вариантов: обфускация, виртуализация и изменение параметров компиляции кода. Пойдем по самому простому пути — попробуем выключить оптимизацию на этапе компиляции.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Отключаем оптимизацию на этапе компиляции"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35913%2F31-cheat-optimization-change.png&amp;hash=904e0026588b10e89a73448d6888b0bc" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../31-cheat-optimization-change11c9.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35913%2F31-cheat-optimization-change.png&amp;hash=904e0026588b10e89a73448d6888b0bc"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35913/31-cheat-optimization-change.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Отключаем оптимизацию на этапе компиляции"
			title="Отключаем оптимизацию на этапе компиляции"
			width="" height="" loading="lazy" />
	</div><br />
<br />
После компиляции откроем тот же кусок кода и посмотрим, помогло ли это изменить сигнатуру.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Новая байтовая последовательность на месте старой в Inertia-cheat.dll"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35912%2F32-cheat-optimization-disable.png&amp;hash=630d494190629ca601914d61ff065b68" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../32-cheat-optimization-disablec56e.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35912%2F32-cheat-optimization-disable.png&amp;hash=630d494190629ca601914d61ff065b68"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35912/32-cheat-optimization-disable.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Новая байтовая последовательность на месте старой в Inertia-cheat.dll"
			title="Новая байтовая последовательность на месте старой в Inertia-cheat.dll"
			width="" height="" loading="lazy" />
	</div><br />
<br />
Как видим, это помогло!<br />
<br />
55 8B EC 83 EC 2C A1 * * * * 33 C5 89 45 FC 53 56 8B 35 * * * * 57 6A 23 8B F9 FF D6 A8 01 0F 85<br />
55 8B EC 6A FF 68 ED 40 00 10 64 A1 00 00 00 00 50 83 EC 24 A1 08 60 00 10 33 C5 89 45 F0 50 8D 45<br />
<br />
Давай для проверки запустим игру, внедрим чит и активируем его.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Проверка работоспособности чита"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35911%2F33-succ-bypass-signatures.png&amp;hash=0d63a003c0c965a569f826351616f553" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../33-succ-bypass-signatures86b8.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35911%2F33-succ-bypass-signatures.png&amp;hash=0d63a003c0c965a569f826351616f553"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35911/33-succ-bypass-signatures.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Проверка работоспособности чита"
			title="Проверка работоспособности чита"
			width="" height="" loading="lazy" />
	</div><br />
<br />
Все успешно работает, и бана нет.<br />
 <br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-obkhodim-chernyi-spisok-dns"></a>Обходим черный список DNS&#8203;<a class="hoverLink" href="#-obkhodim-chernyi-spisok-dns" title="Постоянная ссылка"></a></h3>В Quack-internal.dll есть проверка доменов, к которым обращался компьютер игрока.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Черный список доменов в Quack-internal.dll"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35918%2F34-ida-black-domains.png&amp;hash=fa465c32d903e0b908d887d3ce0287e7" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../34-ida-black-domains7e99.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35918%2F34-ida-black-domains.png&amp;hash=fa465c32d903e0b908d887d3ce0287e7"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35918/34-ida-black-domains.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Черный список доменов в Quack-internal.dll"
			title="Черный список доменов в Quack-internal.dll"
			width="" height="" loading="lazy" />
	</div><br />
<br />
Можем при желании убедиться, что это черный список, а не что‑то другое. Давай поищем функции, которые с ним работают.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Идентификация алгоритма поиска доменов"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35899%2F34-found-dns-code.png&amp;hash=b01f5033218545161532b4220b4f5787" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../34-found-dns-code95f4.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35899%2F34-found-dns-code.png&amp;hash=b01f5033218545161532b4220b4f5787"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35899/34-found-dns-code.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Идентификация алгоритма поиска доменов"
			title="Идентификация алгоритма поиска доменов"
			width="" height="" loading="lazy" />
	</div><br />
<ol>
<li data-xf-list-type="ol">Инициализация доменов из черного списка.</li>
<li data-xf-list-type="ol">Вызов функции получения кеша DNS.</li>
<li data-xf-list-type="ol">Функция получения доменов из кеша.</li>
<li data-xf-list-type="ol">Поиск запретных доменов среди закешированных.</li>
</ol>Вот как это работает. Если мы сделаем GET-запрос к домену aimware.net, домен закешируется.<br />
<br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		Код:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang=""><code>import requests
r = requests.get(&#039;https://aimware.net&#039;)</code></pre>
	</div>
</div><br />
Даже если мы не были при этом в игре, при следующем запуске нас забанят.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Сообщение о бане в БД"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35917%2F35-dns-ban.png&amp;hash=7e845d88cd834b52a88b8819b5b0189f" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../35-dns-banbe38.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35917%2F35-dns-ban.png&amp;hash=7e845d88cd834b52a88b8819b5b0189f"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35917/35-dns-ban.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Сообщение о бане в БД"
			title="Сообщение о бане в БД"
			width="" height="" loading="lazy" />
	</div><br />
<br />
В кеше адрес все равно висит, поэтому нам нужно сбросить кеш DNS перед следующим запуском игры. Сделать это легко, просто выполним команду ipconfig /flushdns.<br />
<br />
<b><u>Так что лучше не посещать сайты, связанные с читами, в открытую и не использовать клиенты читов, где нужна авторизация.</u></b><br />
<br />
<h4 class="bbHeading"><a class="u-anchorTarget" name="-info"></a>INFO&#8203;<a class="hoverLink" href="#-info" title="Постоянная ссылка"></a></h4><a href="https://github.com/malcomvetter/DnsCache" target="_blank" class="link link--external" rel="noopener">Утилита для просмотра кеша DnsCache</a><br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Закешированные домены"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35910%2F36-dns-cache.png&amp;hash=b175d47567947c4ebe4cb7ef74998bca" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../36-dns-cachefc63.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35910%2F36-dns-cache.png&amp;hash=b175d47567947c4ebe4cb7ef74998bca"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35910/36-dns-cache.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Закешированные домены"
			title="Закешированные домены"
			width="" height="" loading="lazy" />
	</div><br />
 <br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-obkhodim-prinuditel-noye-zaversheniye-cheat-engine"></a>Обходим принудительное завершение Cheat Engine&#8203;<a class="hoverLink" href="#-obkhodim-prinuditel-noye-zaversheniye-cheat-engine" title="Постоянная ссылка"></a></h3>Помнишь, что при попытке открыть Cheat Engine он у нас сразу закрывался? Давай разберемся, почему.<br />
<br />
В Quack-internal.dll мы ничего не находим, но зато в Quack-ac.exe нашелся список нежелательных программ. Как только античит обнаружит их в памяти, он немедленно завершит их.<br />
<br />
<a href="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35898/37-found-ce-code.png" target="_blank" class="link link--external" rel="noopener"><img src="../../37-found-ce-codec090.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35898%2F37-found-ce-code.png&amp;hash=ea59135a429abd91895b1aa3c7ad3282" data-url="https://static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35898/37-found-ce-code.png" class="bbImage " loading="lazy"
		alt="Алгоритм поиска нежелательных программ" title="Алгоритм поиска нежелательных программ" style="" width="" height="" />Алгоритм поиска нежелательных программ</a><br />
<ol>
<li data-xf-list-type="ol">Инициализация списка нежелательных программ.</li>
<li data-xf-list-type="ol">Передача названий в функцию поиска.</li>
<li data-xf-list-type="ol">Получение запущенных процессов.</li>
<li data-xf-list-type="ol">Перебор и сравнение имен процессов.</li>
<li data-xf-list-type="ol">Если совпадение найдено, процесс завершается.</li>
</ol>Воспользуемся <a href="https://learn.microsoft.com/en-us/sysinternals/downloads/process-explorer" target="_blank" class="link link--external" rel="noopener">Process Explorer</a> и посмотрим, как называется запущенный процесс Cheat Engine. Варианты могут быть разными, и выбор зависит от архитектуры процессора. В моем случае это cheatengine-x86_64-SSE4-AVX2.exe.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Имя процесса CE"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35909%2F38-pe-ce.png&amp;hash=2c1c85453b2bbd699a6aa9c2c8de5787" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../38-pe-ce98b4.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35909%2F38-pe-ce.png&amp;hash=2c1c85453b2bbd699a6aa9c2c8de5787"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35909/38-pe-ce.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Имя процесса CE"
			title="Имя процесса CE"
			width="" height="" loading="lazy" />
	</div><br />
<br />
Попробуем переименовать CE и запустить напрямую.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Проверка работоспособности CE"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35908%2F39-succ-pe-ce.png&amp;hash=9b2a3bb2a4bbb6ed1b503cf554b67234" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../39-succ-pe-ceed5f.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35908%2F39-succ-pe-ce.png&amp;hash=9b2a3bb2a4bbb6ed1b503cf554b67234"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35908/39-succ-pe-ce.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Проверка работоспособности CE"
			title="Проверка работоспособности CE"
			width="" height="" loading="lazy" />
	</div><br />
Как видим, все прошло успешно.<br />
<br />
 <br />
<h3 class="bbHeading"><a class="u-anchorTarget" name="-analiziruyem-pakety"></a>Анализируем пакеты&#8203;<a class="hoverLink" href="#-analiziruyem-pakety" title="Постоянная ссылка"></a></h3>С помощью плагина <a href="https://github.com/rcx/classinformer-ida7" target="_blank" class="link link--external" rel="noopener">ClassInfromer</a> для IDA Pro посмотрим, какие статически слинкованные библиотеки используются в античите. Как видишь, это <a href="https://github.com/nlohmann/json" target="_blank" class="link link--external" rel="noopener">nlohmann</a> и <a href="https://github.com/yhirose/cpp-httplib" target="_blank" class="link link--external" rel="noopener">httplib</a>. Вторая — явный признак того, что программа будет что‑то запрашивать или отправлять по сети. Давай узнаем, что именно.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Найденные классы в Quack-internal.dll"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35926%2F40-internal-class-informer.png&amp;hash=2e864492e0e731b029a729ea45857806" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../40-internal-class-informere194.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35926%2F40-internal-class-informer.png&amp;hash=2e864492e0e731b029a729ea45857806"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35926/40-internal-class-informer.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Найденные классы в Quack-internal.dll"
			title="Найденные классы в Quack-internal.dll"
			width="" height="" loading="lazy" />
	</div><div class="bbImageWrapper  js-lbImage" title="Найденные классы в Quack-ac.exe"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35920%2F41-client-class-informer.png&amp;hash=81891412a5c13471b6f60f3a739c18c0" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../41-client-class-informer5b55.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35920%2F41-client-class-informer.png&amp;hash=81891412a5c13471b6f60f3a739c18c0"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35920/41-client-class-informer.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Найденные классы в Quack-ac.exe"
			title="Найденные классы в Quack-ac.exe"
			width="" height="" loading="lazy" />
	</div><br />
<br />
Попробуем перехватить пакеты с помощью <a href="https://www.wireshark.org/" target="_blank" class="link link--external" rel="noopener">Wireshark</a>.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Перехваченные пакеты, пересылаемые на localhost"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35921%2F42-wireshark.png&amp;hash=57eecd39061047d79384ccff4f63385e" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../42-wiresharkc79c.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35921%2F42-wireshark.png&amp;hash=57eecd39061047d79384ccff4f63385e"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35921/42-wireshark.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Перехваченные пакеты, пересылаемые на localhost"
			title="Перехваченные пакеты, пересылаемые на localhost"
			width="" height="" loading="lazy" />
	</div><br />
<br />
Это так называемый пакет сердцебиения, который подтверждает, что процесс античита активен.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Пакет, пришедший от Quack-internal.dll к Quack-ac.exe"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35923%2F43-internal-heartbeat.png&amp;hash=10b5126be0ba0dafe65dbe3209844fe2" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../43-internal-heartbeatdad2.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35923%2F43-internal-heartbeat.png&amp;hash=10b5126be0ba0dafe65dbe3209844fe2"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35923/43-internal-heartbeat.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Пакет, пришедший от Quack-internal.dll к Quack-ac.exe"
			title="Пакет, пришедший от Quack-internal.dll к Quack-ac.exe"
			width="" height="" loading="lazy" />
	</div><br />
<br />
Тот же пакет шлется и на мастер‑сервер.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Пакет от Quack-ac.exe к Master server"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35922%2F44-client-heartbeat.png&amp;hash=15d398cef23537ee9f04bcdf6485c8e8" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../44-client-heartbeat86c4.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35922%2F44-client-heartbeat.png&amp;hash=15d398cef23537ee9f04bcdf6485c8e8"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35922/44-client-heartbeat.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Пакет от Quack-ac.exe к Master server"
			title="Пакет от Quack-ac.exe к Master server"
			width="" height="" loading="lazy" />
	</div><br />
<br />
Пересылается и информация о найденом чите.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Пакет от Quack-internal.dll к Quack-ac.exe при обнаружении чита"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35907%2F45-internal-cheat-detect.png&amp;hash=a1d387363536c5772abcdea0420f76a8" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../45-internal-cheat-detectec3d.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35907%2F45-internal-cheat-detect.png&amp;hash=a1d387363536c5772abcdea0420f76a8"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35907/45-internal-cheat-detect.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Пакет от Quack-internal.dll к Quack-ac.exe при обнаружении чита"
			title="Пакет от Quack-internal.dll к Quack-ac.exe при обнаружении чита"
			width="" height="" loading="lazy" />
	</div><br />
<br />
То же — на мастер‑сервер.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Пакет от Quack-ac.exe к Master server при обнаружении чита"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35906%2F46-client-cheat-detect.png&amp;hash=8b2fa84083ba9039f71e9607bafe7078" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../46-client-cheat-detect503c.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35906%2F46-client-cheat-detect.png&amp;hash=8b2fa84083ba9039f71e9607bafe7078"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35906/46-client-cheat-detect.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Пакет от Quack-ac.exe к Master server при обнаружении чита"
			title="Пакет от Quack-ac.exe к Master server при обнаружении чита"
			width="" height="" loading="lazy" />
	</div><br />
<br />
Вот как выглядит информация о найденном домене из черного списка.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Пакет от Quack-internal.dll к Quack-ac.exe при обнаружении домена из черного списка"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35905%2F47-internal-domain-detect.png&amp;hash=c0db6960ac3b8b4b8f606e76fb84c5f1" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../47-internal-domain-detect082e.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35905%2F47-internal-domain-detect.png&amp;hash=c0db6960ac3b8b4b8f606e76fb84c5f1"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35905/47-internal-domain-detect.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Пакет от Quack-internal.dll к Quack-ac.exe при обнаружении домена из черного списка"
			title="Пакет от Quack-internal.dll к Quack-ac.exe при обнаружении домена из черного списка"
			width="" height="" loading="lazy" />
	</div><br />
<br />
То же идет и на мастер‑сервер.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Пакет от Quack-ac.exe к Master server при обнаружении домена из черного списка"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35904%2F48-client-domain-detect.png&amp;hash=c833c8e58e2c466df77b14ac90182d2f" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../48-client-domain-detect4a50.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35904%2F48-client-domain-detect.png&amp;hash=c833c8e58e2c466df77b14ac90182d2f"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35904/48-client-domain-detect.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Пакет от Quack-ac.exe к Master server при обнаружении домена из черного списка"
			title="Пакет от Quack-ac.exe к Master server при обнаружении домена из черного списка"
			width="" height="" loading="lazy" />
	</div><br />
<br />
Выяснив все это, мы можем изготовить поддельный Identify.dll.<br />
<br />

	
	



<div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code">
	<div class="bbCodeBlock-title">
		C:<button class="copy-button tagItem">Скопировать в буфер обмена</button>
	</div>
	<div class="bbCodeBlock-content" dir="ltr">
		<pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang="c"><code>// Определение экспортируемой функции GetHWID
extern &quot;C&quot; {
    void __declspec(dllexport) GetHWID(char* message) {
        // Определение переменной хеша
        std::string sha256 = &quot;6b86b273ff34fce19d6b804eff5a3f5747ada4eaa22f1d49c01e52ddb7875b4b&quot;;
        // Присвоение аргументу значения хеша
        for (int i = 0u; i &lt; sha256.length(); ++i) {
            message[i] = sha256[i];
        }
    }
}
Код для нашего Quack-internal.dll.



#include &quot;pch.h&quot;

#include &lt;chrono&gt;
#include &lt;thread&gt;

#include&lt;nlohmann/json.hpp&gt;
#include&lt;httplib.h&gt;

// Для работы с секундами
using namespace std::chrono_literals;

// Функция потока
DWORD WINAPI run(LPVOID lpParam) {
    // Объявление переменных
    httplib::Result res;
    nlohmann::json body{};
    long long uptime;
    // Определение клиента сервера и порта
    httplib::Client cli{ &quot;localhost&quot;, 7982 };
    // Время
    std::chrono::time_point&lt;std::chrono::system_clock&gt; time_start = std::chrono::system_clock::now();
    // Задержка
    std::chrono::seconds delay = 1s;
    // Цикл
    for (std::chrono::seconds seconds = 0s; ; ++seconds) {
        // Вычисление времени соединения
        uptime = std::chrono::duration_cast&lt;std::chrono::seconds&gt;(std::chrono::system_clock::now() - time_start).count();
        // Пакет
        body[&quot;heartbeat&quot;] = {
            {&quot;uuid&quot;, &quot;6b86b273ff34fce19d6b804eff5a3f5747ada4eaa22f1d49c01e52ddb7875b4b&quot;},
            {&quot;name&quot;, &quot;Placeholder&quot;},
            {&quot;arp&quot;, &quot;&quot;},
            {&quot;risk&quot;, &quot;0&quot;},
            {&quot;uptime&quot;, uptime},
            {&quot;blob&quot;, {{&quot;Game position&quot;, &quot;[Placeholder]&quot;}}}
        };
        // Post-запрос к серверу
        if (res = cli.Post(&quot;/&quot;, body.dump(), &quot;application/json&quot;)) {
            // Успешно ли соединение?
            if (res-&gt;status == 200) {
                // В случае успеха заснуть
                std::this_thread::sleep_for(delay);
                // и продолжить выполнение
                continue;
            }
        }
        // Завершение процесса в том случае, если не получается установить соединение с сервером
        ExitProcess(0);
    }
}

// Главная функция
BOOL APIENTRY DllMain( HMODULE hModule,
                       DWORD  ul_reason_for_call,
                       LPVOID lpReserved
                     )
{
    switch (ul_reason_for_call)
    {
    case DLL_PROCESS_ATTACH:
        // Запуск потока
        if (HANDLE thread = CreateThread(nullptr,0,run,hModule,0,nullptr))
            CloseHandle(thread);
    case DLL_THREAD_ATTACH:
    case DLL_THREAD_DETACH:
    case DLL_PROCESS_DETACH:
        break;
    }
    return TRUE;
}</code></pre>
	</div>
</div><br />
После компиляции удалим все ненужное и подменим DLL нашими.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Финальное содержимое папки игры"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35903%2F49-final-folder.png&amp;hash=ebf3332a7010244053619e75557e2cdf" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../49-final-folder4b48.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35903%2F49-final-folder.png&amp;hash=ebf3332a7010244053619e75557e2cdf"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35903/49-final-folder.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Финальное содержимое папки игры"
			title="Финальное содержимое папки игры"
			width="" height="" loading="lazy" />
	</div><br />
<br />
В Wireshark будет только пакет сердцебиения к мастер‑серверу.<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="Пакет от нашего Quack-ac.exe к Master server"
		data-src="/proxy.php?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35902%2F50-final-packet.png&amp;hash=fa434787d5104722ae9eadf9b9d6b196" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../50-final-packet1544.png?image=https%3A%2F%2Fstatic.xakep.ru%2Fimages%2Fb0021e10df5515e32b3a20e2693767bc%2F35902%2F50-final-packet.png&amp;hash=fa434787d5104722ae9eadf9b9d6b196"
			data-url="../../../static.xakep.ru/images/b0021e10df5515e32b3a20e2693767bc/35902/50-final-packet.png"
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="Пакет от нашего Quack-ac.exe к Master server"
			title="Пакет от нашего Quack-ac.exe к Master server"
			width="" height="" loading="lazy" />
	</div><br />
<br />
И в результате все прекрасно работает.<br />
<br />
<br />
<div class="bbImageWrapper  js-lbImage" title="1746859123742.png"
		data-src="https://osint42.org/attachments/1746859123742-png.402/" data-lb-sidebar-href="" data-lb-caption-extra-html="" data-single-image="1">
		<img src="../../attachments/1746859123742-png.402/index.html"
			data-url=""
			class="bbImage"
			data-zoom-target="1"
			style=""
			alt="1746859123742.png"
			title="1746859123742.png"
			width="777" height="422" loading="lazy" />
	</div><br />
<br />
<h2 class="bbHeading"><a class="u-anchorTarget" name="-vyvody"></a>ВЫВОДЫ&#8203;<a class="hoverLink" href="#-vyvody" title="Постоянная ссылка"></a></h2>Наше приключение подошло к концу: мы обошли античит и убедились в том, что, имея навыки реверса и программирования, это совсем не трудно. Безусловно, коммерческие античиты, которые ты встретишь в жизни, будут сложнее: они работают на уровне ядра, накрыты протекторами и могут использовать продвинутые техники обнаружения. Но и их тоже, как ты знаешь, регулярно обходят. Как именно — обсудим в следующий раз!</div>
						
					

					
						

	
		
	

					
					
										

					

					
						
					

					

					

					<div class="reactionsBar js-reactionsList is-active">
						
	
	
		<ul class="reactionSummary">
		
			<li><span class="reaction reaction--small reaction--1" data-reaction-id="1"><i aria-hidden="true"></i><img src="../../../cdn.jsdelivr.net/joypixels/assets/8.0/png/unicode/64/1f44d.png" loading="lazy" width="64" height="64" class="reaction-image reaction-image--emoji js-reaction" alt="Like" title="Like" /></span></li>
		
		</ul>
	


<span class="u-srOnly">Реакции:</span>
<a class="reactionsBar-link" href="reactions.html" data-xf-click="overlay" data-cache="false" rel="nofollow"><bdi>ЗашелТолькоПосмотреть</bdi> и <bdi>HMCoba</bdi></a>
					</div>

					<div class="js-historyTarget toggleTarget" data-href="trigger-href"></div>
				</article>
			</div>
		</div>
	</div>
	
	
</div>


















	



		













	



	




	
</div>
					
				</div>

				
					<div class="p-body-sidebar">
						
						
							<div class="block">
			<div class="block-container">
				<h3 class="block-header">ОГЛАВЛЕНИЕ</h3>
				<div class="block-body">
					<a class="blockLink " href="index.html">
						
							Как создать свой чит/трейнер
						
					</a>

					
						<a href="page/kak-sozdat-svoi-chit-treiner-2.46/index.html" class="blockLink">
							 Как создать свой чит/трейнер - 2</a>
					
						<a href="page/kak-sozdat-svoi-chit-treiner-3.47/index.html" class="blockLink">
							 Как создать свой чит/трейнер - 3</a>
					

					
						<a href="index9401.html?full=1" class="blockLink is-selected">Просмотреть всю статью</a>
					
				</div>
			</div>
		</div>
						
							<div class="block">
		<div class="block-container">
			<h3 class="block-minorHeader">Информация о статье</h3>
			<div class="block-body block-row block-row--minor">
				<dl class="pairs pairs--justified">
					<dt>Автор</dt>
					
						<dd><a href="https://osint42.org/members/0x42.1/" class="username " dir="auto" data-user-id="1" data-xf-init="member-tooltip"><span class="username--moderator username--admin">0x42</span></a></dd>
					
				</dl>
				
					<dl class="pairs pairs--justified">
						<dt>Article read time</dt>
						<dd>43 min read</dd>
					</dl>
				
				
					<dl class="pairs pairs--justified">
						<dt>Просмотры</dt>
						<dd>866</dd>
					</dl>
				
				
				
				
					<dl class="pairs pairs--justified">
						<dt>Последнее обновление</dt>
						<dd><time  class="u-dt" dir="auto" datetime="2025-05-10T09:38:50+0300" data-timestamp="1746859130" data-date="10.05.2025" data-time="09:38" data-short="10 Май" title="10.05.2025 в 09:38">10.05.2025</time></dd>
					</dl>
				
				
				

				
			</div>
		</div>
	</div>
						
							<div class="block">
			<div class="block-container">
				<h3 class="block-minorHeader"><a href="../categories/gamehacking.10/index.html">Больше в GameHacking</a></h3>
				<div class="block-body block-row">
					<ul class="articleSidebarList">
					
						<li>
							
	
	<div class="contentRow">
		<div class="contentRow-figure">
			<a href="https://osint42.org/members/0x42.1/" class="avatar avatar--xxs" data-user-id="1" data-xf-init="member-tooltip">
			<img src="../../data/avatars/s/0/1b812.jpg?1746634773"  alt="0x42" class="avatar-u1-s" width="48" height="48" loading="lazy" /> 
		</a>
		</div>
		
		<div class="contentRow-main contentRow-main--close">
			<a href="../kak-sozdat-svoi-chit-kovyryayem-android.51/index.html">Как создать свой чит. Ковыряем андроид</a>

			
			
			<div class="contentRow-snippet">
				Автор выложил продолжение крутого цикла статей:Как создать свой чит/трейнер

Оригинал:Чит своими...
			</div>				

			
		</div>
	</div>

						</li>
					
						<li>
							
	
	<div class="contentRow">
		<div class="contentRow-figure">
			<a href="https://osint42.org/members/0x42.1/" class="avatar avatar--xxs" data-user-id="1" data-xf-init="member-tooltip">
			<img src="../../data/avatars/s/0/1b812.jpg?1746634773"  alt="0x42" class="avatar-u1-s" width="48" height="48" loading="lazy" /> 
		</a>
		</div>
		
		<div class="contentRow-main contentRow-main--close">
			<a href="../udalennoye-vypolneniye-koda-pri-pomoshchi-dma.37/index.html">Удаленное выполнение кода при помощи DMA</a>

			
			
			<div class="contentRow-snippet">
				Перевод оригинала<img src="../../../cdn.jsdelivr.net/joypixels/assets/8.0/png/unicode/64/1f600.png" class="smilie smilie--emoji" loading="lazy" width="64" height="64" alt=":D" title="Big grin    :D"  data-smilie="8"data-shortname=":D" />MA Code Execution – Lystic&#039;s Blog

При использовании устройства DMA атакующий...
			</div>				

			
		</div>
	</div>

						</li>
					
					</ul>
				</div>
			</div>
		</div>
						
							<div class="block">
			<div class="block-container">
				
					<h3 class="block-minorHeader"><a href="../authors/0x42.1/index.html">Больше от 0x42</a></h3>
				

				<div class="block-body block-row">
					<ul class="articleSidebarList">
					
						<li>
							
	
	<div class="contentRow">
		<div class="contentRow-figure">
			<a href="https://osint42.org/members/0x42.1/" class="avatar avatar--xxs" data-user-id="1" data-xf-init="member-tooltip">
			<img src="../../data/avatars/s/0/1b812.jpg?1746634773"  alt="0x42" class="avatar-u1-s" width="48" height="48" loading="lazy" /> 
		</a>
		</div>
		
		<div class="contentRow-main contentRow-main--close">
			<a href="../o-tom-kak-boryut-sya-s-tor-v-rf.75/index.html">О том как борются с TOR в РФ</a>

			
			
			<div class="contentRow-snippet">
				Недавно решил поддержать проект TOR, решил поднять middle relay.

Напомню, что для поддержки...
			</div>				

			
		</div>
	</div>

						</li>
					
						<li>
							
	
	<div class="contentRow">
		<div class="contentRow-figure">
			<a href="https://osint42.org/members/0x42.1/" class="avatar avatar--xxs" data-user-id="1" data-xf-init="member-tooltip">
			<img src="../../data/avatars/s/0/1b812.jpg?1746634773"  alt="0x42" class="avatar-u1-s" width="48" height="48" loading="lazy" /> 
		</a>
		</div>
		
		<div class="contentRow-main contentRow-main--close">
			<a href="../bezumnyi-maks-skam.74/index.html">Безумный МАКС/СКАМ</a>

			
			
			<div class="contentRow-snippet">
				По телевизору передают, что мессенджер МАКС полюбили россияне, зарегистрировалось почти вся...
			</div>				

			
		</div>
	</div>

						</li>
					
						<li>
							
	
	<div class="contentRow">
		<div class="contentRow-figure">
			<a href="https://osint42.org/members/0x42.1/" class="avatar avatar--xxs" data-user-id="1" data-xf-init="member-tooltip">
			<img src="../../data/avatars/s/0/1b812.jpg?1746634773"  alt="0x42" class="avatar-u1-s" width="48" height="48" loading="lazy" /> 
		</a>
		</div>
		
		<div class="contentRow-main contentRow-main--close">
			<a href="../pochemu-v-linux-vse-fail.73/index.html">Почему в Linux всё — файл?</a>

			
			
			<div class="contentRow-snippet">
				---

## 🔹 Оглавление

[1. Философия UNIX: «Everything is a file»]
[2. Как работает VFS — Virtual...
			</div>				

			
		</div>
	</div>

						</li>
					
						<li>
							
	
	<div class="contentRow">
		<div class="contentRow-figure">
			<a href="https://osint42.org/members/0x42.1/" class="avatar avatar--xxs" data-user-id="1" data-xf-init="member-tooltip">
			<img src="../../data/avatars/s/0/1b812.jpg?1746634773"  alt="0x42" class="avatar-u1-s" width="48" height="48" loading="lazy" /> 
		</a>
		</div>
		
		<div class="contentRow-main contentRow-main--close">
			<a href="../obkhod-antivirusov-cherez-uyazvimyi-draiver.71/index.html">Обход антивирусов через уязвимый драйвер</a>

			
			
			<div class="contentRow-snippet">
				Пока хакер не прикрыли, из-за дурацких законов, решил скопировать приватную статью.

Вот...
			</div>				

			
		</div>
	</div>

						</li>
					
						<li>
							
	
	<div class="contentRow">
		<div class="contentRow-figure">
			<a href="https://osint42.org/members/0x42.1/" class="avatar avatar--xxs" data-user-id="1" data-xf-init="member-tooltip">
			<img src="../../data/avatars/s/0/1b812.jpg?1746634773"  alt="0x42" class="avatar-u1-s" width="48" height="48" loading="lazy" /> 
		</a>
		</div>
		
		<div class="contentRow-main contentRow-main--close">
			<a href="../zashchita-ot-roskomnadzora.70/index.html">Защита от Роскомнадзора</a>

			
			
			<div class="contentRow-snippet">
				В связи с тем-что РКН внедрили ботов для автоматического поиска неугодного контента и...
			</div>				

			
		</div>
	</div>

						</li>
					
					</ul>
				</div>
			</div>
		</div>
						
							<div class="block">
				<div class="block-container">
					
						<h3 class="block-minorHeader">Поделиться этой статьей</h3>
						
							<div class="block-body block-row block-row--separated">
								
									

	

	
		

		<div class="shareButtons shareButtons--iconic" data-xf-init="share-buttons" data-page-url="" data-page-title="" data-page-desc="" data-page-image="">
			<span class="u-anchorTarget" id="_xfUid-1-1758966092"></span>

			

			<div class="shareButtons-buttons">
				
					

					

					

					

					

					

					

					

					
						<a class="shareButtons-button shareButtons-button--email" href="#_xfUid-1-1758966092" data-href="mailto:?subject={title}&amp;body={url}">
							<i class="fa--xf far fa-envelope "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#envelope"></use></svg></i>
							<span>Электронная почта</span>
						</a>
					

					
						<a class="shareButtons-button shareButtons-button--share is-hidden" href="#_xfUid-1-1758966092"
							data-xf-init="web-share"
							data-title="" data-text="" data-url=""
							data-hide=".shareButtons-button:not(.shareButtons-button--share)">

							<i class="fa--xf far fa-share-alt "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#share-alt"></use></svg></i>
							<span>Поделиться</span>
						</a>
					

					
						<a class="shareButtons-button shareButtons-button--link is-hidden" href="#_xfUid-1-1758966092" data-clipboard="{url}">
							<i class="fa--xf far fa-link "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#link"></use></svg></i>
							<span>Ссылка</span>
						</a>
					
				
			</div>
		</div>
	

								
							</div>
						
						
							<div class="block-body block-row block-row--separated">
								
									
										
	

	

	<div class="shareInput" data-xf-init="share-input" data-success-text="">
		
			<label class="shareInput-label" for="_xfUid-2-1758966092">Копировать BB-код адреса статьи</label>
		
		<div class="inputGroup inputGroup--joined">
			<div class="shareInput-button inputGroup-text js-shareButton is-hidden"
				data-xf-init="tooltip" title="Скопировать в буфер обмена">

				<i class="fa--xf far fa-copy "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#copy"></use></svg></i>
			</div>
			<input type="text" class="input shareInput-input js-shareInput" readonly="readonly" value="[URL=&quot;https://osint42.org/articles/tsikl-statei-kak-sozdat-svoi-chit-treiner.10/&quot;]Цикл статей. Как создать свой чит/трейнер[/URL]" id="_xfUid-2-1758966092" />
		</div>
	</div>

									
									
										
	

	

	<div class="shareInput" data-xf-init="share-input" data-success-text="">
		
			<label class="shareInput-label" for="_xfUid-3-1758966092">Копировать BB-код статьи</label>
		
		<div class="inputGroup inputGroup--joined">
			<div class="shareInput-button inputGroup-text js-shareButton is-hidden"
				data-xf-init="tooltip" title="Скопировать в буфер обмена">

				<i class="fa--xf far fa-copy "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#copy"></use></svg></i>
			</div>
			<input type="text" class="input shareInput-input js-shareInput" readonly="readonly" value="[AMS=article, 10][/AMS]" id="_xfUid-3-1758966092" />
		</div>
	</div>

									
								
							</div>
						
					
				</div>
			</div>
						
						
					</div>
				
			</div>

			
			
	
		<ul class="p-breadcrumbs p-breadcrumbs--bottom"
			itemscope itemtype="https://schema.org/BreadcrumbList">
			
				

				
				

				

				
				
					
					
	<li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
		<a href="../categories/gamehacking.10/index.html" itemprop="item">
			<span itemprop="name">GameHacking</span>
		</a>
		<meta itemprop="position" content="1" />
	</li>

				
			
		</ul>
	

			
		</div>
	</div>

	<footer class="p-footer" id="footer">
		<div class="p-footer-inner">

			<div class="p-footer-row">
				
					<div class="p-footer-row-main">
						<ul class="p-footer-linkList">
							
								
								
									<li>
										
											
											
												<a href="https://osint42.org/misc/style-variation" rel="nofollow"
													class="js-styleVariationsLink"
													data-xf-init="tooltip" title=" Выбор стиля"
													data-xf-click="menu" data-z-index-ref=".u-bottomFixer" role="button" aria-expanded="false" aria-haspopup="true">

													<i class="fa--xf far fa-moon "><svg xmlns="http://www.w3.org/2000/svg" role="img" ><title>Выбор стиля</title><use href="../../data/local/icons/regulare419.svg?v=1757401797#moon"></use></svg></i>
												</a>

												<div class="menu" data-menu="menu" aria-hidden="true">
													<div class="menu-content js-styleVariationsMenu">
														

	
		

	<a href="https://osint42.org/misc/style-variation?reset=1&amp;t=1758966092%2C69aa85b310beb7be3a7e9551bcee54b6"
		class="menu-linkRow "
		rel="nofollow"
		data-xf-click="style-variation" data-variation="">

		<i class="fa--xf far fa-adjust "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#adjust"></use></svg></i>

		
			Системный
		
	</a>


		

	<a href="https://osint42.org/misc/style-variation?variation=default&amp;t=1758966092%2C69aa85b310beb7be3a7e9551bcee54b6"
		class="menu-linkRow "
		rel="nofollow"
		data-xf-click="style-variation" data-variation="default">

		<i class="fa--xf far fa-sun "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#sun"></use></svg></i>

		
			Светлый
		
	</a>


		

	<a href="https://osint42.org/misc/style-variation?variation=alternate&amp;t=1758966092%2C69aa85b310beb7be3a7e9551bcee54b6"
		class="menu-linkRow is-selected"
		rel="nofollow"
		data-xf-click="style-variation" data-variation="alternate">

		<i class="fa--xf far fa-moon "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#moon"></use></svg></i>

		
			Тёмный
		
	</a>

	

	
		
	

													</div>
												</div>
											
										
									</li>
								
								
									<li><a href="../../misc/language.html" data-xf-click="overlay"
										data-xf-init="tooltip" title="Выбор языка" rel="nofollow">
										<i class="fa--xf far fa-globe "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#globe"></use></svg></i> Русский (RU)</a></li>
								
							
						</ul>
					</div>
				
				<div class="p-footer-row-opposite">
					<ul class="p-footer-linkList">
						

						
							<li><a href="../../threads/pravila-resursa.56/index.html">Условия и правила</a></li>
						

						
							<li><a href="../../help/privacy-policy/index.html">Политика конфиденциальности</a></li>
						

						
							<li><a href="../../help/index.html">Помощь</a></li>
						

						
							<li><a href="../../forums/index.html">Главная</a></li>
						

						<li><a href="../../forums/-/index.rss" target="_blank" class="p-footer-rssLink" title="RSS"><span aria-hidden="true"><i class="fa--xf far fa-rss "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#rss"></use></svg></i><span class="u-srOnly">RSS</span></span></a></li>
					</ul>
				</div>
			</div>

			

			
		</div>
	</footer>
</div> <!-- closing p-pageWrapper -->

<div class="u-bottomFixer js-bottomFixTarget">
	
	
</div>

<div class="u-navButtons js-navButtons">
	<a href="javascript:" class="button button--scroll"><span class="button-text"><i class="fa--xf far fa-arrow-left "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#arrow-left"></use></svg></i><span class="u-srOnly">Назад</span></span></a>
</div>


	<div class="u-scrollButtons js-scrollButtons" data-trigger-type="both">
		<a href="#top" class="button button--scroll" data-xf-click="scroll-to"><span class="button-text"><i class="fa--xf far fa-arrow-up "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#arrow-up"></use></svg></i><span class="u-srOnly">Верх</span></span></a>
		
			<a href="#footer" class="button button--scroll" data-xf-click="scroll-to"><span class="button-text"><i class="fa--xf far fa-arrow-down "><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" ><use href="../../data/local/icons/regulare419.svg?v=1757401797#arrow-down"></use></svg></i><span class="u-srOnly">Низ</span></span></a>
		
	</div>



	<form style="display:none" hidden="hidden">
		<input type="text" name="_xfClientLoadTime" value="" id="_xfClientLoadTime" title="_xfClientLoadTime" tabindex="-1" />
	</form>

	





    
    
        
        
            <script type="application/ld+json">
                {
    "@context": "https://schema.org",
    "@type": "CreativeWorkSeries",
    "@id": "https://osint42.org/articles/tsikl-statei-kak-sozdat-svoi-chit-treiner.10/",
    "name": "\u0426\u0438\u043a\u043b \u0441\u0442\u0430\u0442\u0435\u0439. \u041a\u0430\u043a \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0447\u0438\u0442/\u0442\u0440\u0435\u0439\u043d\u0435\u0440",
    "headline": "\u0426\u0438\u043a\u043b \u0441\u0442\u0430\u0442\u0435\u0439. \u041a\u0430\u043a \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0447\u0438\u0442/\u0442\u0440\u0435\u0439\u043d\u0435\u0440",
    "alternativeHeadline": "\u0426\u0438\u043a\u043b \u0441\u0442\u0430\u0442\u0435\u0439. \u041a\u0430\u043a \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0447\u0438\u0442/\u0442\u0440\u0435\u0439\u043d\u0435\u0440",
    "description": "\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f, \u0447\u0430\u0441\u0442\u044c \u043f\u0435\u0440\u0432\u0430\u044f:\u0427\u0438\u0442 \u0441\u0432\u043e\u0438\u043c\u0438 \u0440\u0443\u043a\u0430\u043c\u0438. \u0412\u0441\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u0443\u044e \u0438\u0433\u0440\u0443 \u0438 \u043f\u0438\u0448\u0435\u043c \u0442\u0440\u0435\u0439\u043d\u0435\u0440 \u043d\u0430 C++\n\n\u0418\u0433\u0440\u0430\u0442\u044c \u0432 \u0438\u0433\u0440\u044b \u043b\u044e\u0431\u044f\u0442 \u0432\u0441\u0435, \u043d\u043e \u044d\u0442\u043e \u0433\u043e\u0440\u0430\u0437\u0434\u043e \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0435\u0435, \u043a\u043e\u0433\u0434\u0430 \u0443 \u0442\u0435\u0431\u044f \u0438\u043c\u0435\u0435\u0442\u0441\u044f \u043d\u0435\u0441\u043a\u043e\u043d\u0447\u0430\u0435\u043c\u044b\u0439 \u0437\u0430\u043f\u0430\u0441 \u043f\u0430\u0442\u0440\u043e\u043d\u043e\u0432 \u0438 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044f. \u0427\u0442\u043e\u0431\u044b \u043e\u0431\u0437\u0430\u0432\u0435\u0441\u0442\u0438\u0441\u044c \u0438 \u0442\u0435\u043c \u0438...",
    "keywords": "",
    "dateCreated": "2025-05-10T06:26:29+00:00",
    "dateModified": "2025-05-10T06:38:50+00:00",
    "author": {
        "@type": "Person",
        "name": "0x42"
    },
    "interactionStatistic": [
        {
            "@type": "InteractionCounter",
            "interactionType": "https://schema.org/CommentAction",
            "userInteractionCount": "0"
        },
        {
            "@type": "InteractionCounter",
            "interactionType": "https://schema.org/LikeAction",
            "userInteractionCount": "2"
        },
        {
            "@type": "InteractionCounter",
            "interactionType": "https://schema.org/ViewAction",
            "userInteractionCount": "866"
        }
    ]
}
            </script>
        
    



	
			
	

				
			
		
		
	

</body>

<!-- Mirrored from osint42.org/articles/tsikl-statei-kak-sozdat-svoi-chit-treiner.10/?full=1 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 27 Sep 2025 09:58:48 GMT -->
</html>









